{"version":3,"sources":["helper/index.js","components/block/ProfileBlockComponent.jsx","components/block/ProfileBlocks.jsx","components/profile/components/ProfileView.jsx","../../src/types.ts","../../src/index.ts","components/profile/containers/Profile.jsx","components/profile/containers/PublicProfile.jsx"],"names":["getValidUrl","url","newUrl","trim","replace","test","getValidPhoneNumber","numb","phoneNu","length","ProfileCardWrapper","styled","div","props","shake","ProfileCardInner","IoTrashBinStylized","IoTrashBin","AiFillEditStylized","AiFillEdit","ProfileCardInnerWrapper","swiped","ProfileCardText","withTheme","useState","setSwiped","block","keyItem","self","handleDeleteBlock","history","swipeControlLeft","swipeControlRight","handlers","useSwipeable","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","getSwipeTrans","getSwipeTranslate","console","log","profileCardInn","Item","style","flex","size","borderRadius","overflow","src","thumbnail","title","Fragment","onConfirm","_id","onCancel","okText","cancelText","onClick","push","display","href","link","target","CardListHeadText","h3","theme","textColor","withUserBlocks","withDeleteUserBlock","userBlock","userBlockLoading","deleteBlock","userBlockData","setUserBlockData","useEffect","id","a","userBlockDataModif","filter","uBDM","message","loading","content","duration","deleting","destroy","status","success","error","data","justify","width","align","textAlign","to","color","marginBottom","marginRight","marginTop","map","key","ProfileBlockComponent","ProfileName","h1","PageHead","h2","PublicLinkWrapper","ProfileSmallText","p","PageContainer","StyledButton","Button","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","accessToken","app","refreshToken","userData","username","PageWrapper","PageLayout","paddingTop","position","margin","type","background","bottom","right","zIndex","height","userProfile","profileImage","firstName","lastName","bio","socialMediaLinks","socia","category","image","alt","ProfileBlocks","icon","fontSize","LEFT","RIGHT","UP","DOWN","defaultProps","delta","rotationAngle","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","document","rotateXYByAngle","clientX","clientY","onMove","x","y","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","e","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","options","transientState","React","transientProps","useMemo","getHandlers","stateSetter","updateTransientState","withCurrentUser","currentUser","withUserByUsername","user"],"mappings":"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","file":"static/js/profileDefault.ab2ad05f.chunk.js","sourcesContent":["// import {removeArrItem} from './arrayHelpers'\r\n\r\n\r\nconst getValidUrl = (url) => {\r\n  let newUrl = url;\r\n  newUrl = newUrl.trim().replace(/\\s/g, \"\");\r\n\r\n  if (/^(:\\/\\/)/.test(newUrl)) {\r\n    return `http${newUrl}`;\r\n  }\r\n  if (!/^(f|ht)tps?:\\/\\//i.test(newUrl)) {\r\n    return `http://${newUrl}`;\r\n  }\r\n\r\n  return newUrl;\r\n};\r\n\r\nconst getValidPhoneNumber = (numb) => {\r\n  let phoneNu = numb;\r\n  // phoneNu = phoneNu.trim().replace(/\\s/g, \"\");\r\n  if (/^(0)/.test(phoneNu) && phoneNu.length === 11) {\r\n    return phoneNu.replace(/^(0)/, \"+91\");\r\n  }\r\n  if (/^(91)/.test(phoneNu) && phoneNu.length === 12) {\r\n    return phoneNu.replace(/^(91)/, \"+91\");\r\n  }\r\n  if (/^(\\+91)/.test(phoneNu) && phoneNu.length === 13) {\r\n    return phoneNu;\r\n  }\r\n\r\n  return \"+91\" + phoneNu;\r\n};\r\n\r\n\r\nexport {\r\n  // removeArrItem, \r\n  getValidUrl, getValidPhoneNumber};","import React, { useState } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Popconfirm } from \"../look/web\";\r\nimport Avatar from \"react-avatar\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { IoTrashBin } from \"react-icons/io5\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\n\r\nimport { getValidUrl } from \"../../helper\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\n\r\nconst ProfileCardWrapper = styled.div`\r\n  border-radius: 20px;\r\n  /* padding: 20px; */\r\n  background-color: #cb4a4a;\r\n  background-image: linear-gradient(to right, #cb4a4a, white);\r\n  height: 100px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64);\r\n  width: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  animation: ${(props) =>\r\n    props.shake\r\n      ? \"shake 2s cubic-bezier(.36,.07,.19,.97) both infinite\"\r\n      : \"none\"};\r\n  transform: translate3d(0, 0, 0);\r\n  backface-visibility: hidden;\r\n  perspective: 1000px;\r\n  animation-delay: 0.5;\r\n  @keyframes shake {\r\n    5%,\r\n    45% {\r\n      transform: translate3d(-1px, 0, 0);\r\n    }\r\n\r\n    10%,\r\n    40% {\r\n      transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    15%,\r\n    25%,\r\n    35% {\r\n      transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    20%,\r\n    30% {\r\n      transform: translate3d(4px, 0, 0);\r\n    }\r\n    50%,\r\n    100% {\r\n      transform: translate3d(0, 0, 0);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ProfileCardInner = styled.div`\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  background-color: #2c2c2c;\r\n  height: 100px;\r\n  /* pointer-events:none; */\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst IoTrashBinStylized = styled(IoTrashBin)`\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 20px;\r\n  font-size: 40px;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AiFillEditStylized = styled(AiFillEdit)`\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 20px;\r\n  font-size: 40px;\r\n  color: #605EE8;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ProfileCardInnerWrapper = styled.div`\r\n  transition: all 0.3s;\r\n  transform: translateX(${(props) => props.swiped});\r\n  transition-timing-function: ease-out;\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst ProfileCardText = styled.div`\r\n  color: white;\r\n  text-align: center;\r\n  /* font-size: 17px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Circular Std Medium;\r\n  font-size: 15px;\r\n`;\r\n\r\nfunction getSwipeTranslate(self, swiped) {\r\n  if (!self || (self && swiped === \"center\")) {\r\n    return \"0px\";\r\n  } else if (swiped === \"right\") {\r\n    return \"80px\";\r\n  } else if (swiped === \"left\") {\r\n    return \"-80px\";\r\n  }\r\n}\r\n\r\nconst ProfileCard = (props) => {\r\n  const [swiped, setSwiped] = useState(\"center\");\r\n  const { block, keyItem, self, handleDeleteBlock, history } = props;\r\n\r\n  const swipeControlLeft =\r\n    swiped === \"center\" || swiped === \"left\" ? \"left\" : \"center\";\r\n  const swipeControlRight =\r\n    swiped === \"center\" || swiped === \"right\" ? \"right\" : \"center\";\r\n\r\n  const handlers = useSwipeable({\r\n    onSwipedLeft: () => setSwiped(swipeControlLeft),\r\n    onSwipedRight: () => setSwiped(swipeControlRight),\r\n    preventDefaultTouchmoveEvent: true,\r\n    trackMouse: true,\r\n  });\r\n\r\n  const getSwipeTrans = getSwipeTranslate(self, swiped);\r\n  console.log(\"profilecard\", props);\r\n\r\n  const profileCardInn = (\r\n    <ProfileCardInner swiped={swiped}>\r\n      <Flex>\r\n        <Flex.Item style={{ flex: \"0 1 60px\" }}>\r\n          <Avatar\r\n            size=\"60\"\r\n            style={{ borderRadius: \"10px\", overflow: \"hidden\" }}\r\n            src={block && block.thumbnail && block.thumbnail.url}\r\n          />\r\n        </Flex.Item>\r\n        <Flex.Item style={{ flex: 3 }}>\r\n          <ProfileCardText>{block && block.title}</ProfileCardText>\r\n        </Flex.Item>\r\n      </Flex>\r\n    </ProfileCardInner>\r\n  );\r\n  return (\r\n    <ProfileCardWrapper\r\n      {...handlers}\r\n      keyItem={keyItem}\r\n      shake={!self && keyItem === 0}\r\n    >\r\n      {self && (\r\n        <React.Fragment>\r\n          <Popconfirm\r\n            title=\"Are you sure to delete this Card?\"\r\n            onConfirm={() => handleDeleteBlock(block && block._id)}\r\n            onCancel={() => console.log(\"canceled\")}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <IoTrashBinStylized />\r\n          </Popconfirm>\r\n          <AiFillEditStylized\r\n            onClick={() => history.push(`/block/edit/${block && block._id}`)}\r\n          />\r\n        </React.Fragment>\r\n      )}\r\n      <ProfileCardInnerWrapper swiped={getSwipeTrans}>\r\n        {self ? (\r\n          <React.Fragment>{profileCardInn}</React.Fragment>\r\n        ) : (\r\n          <a\r\n            style={{ display: \"block\" }}\r\n            keyItem={keyItem}\r\n            href={getValidUrl(block && block.link)}\r\n            target={!self && \"_blank\"}\r\n          >\r\n            {profileCardInn}\r\n          </a>\r\n        )}\r\n      </ProfileCardInnerWrapper>\r\n    </ProfileCardWrapper>\r\n  );\r\n};\r\n\r\nexport default withTheme(ProfileCard);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { message } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\r\nimport { Loader } from \"../look/mobile\";\r\nimport { withUserBlocks, withDeleteUserBlock } from \"./BlockOperations\";\r\nimport ProfileBlockComponent from \"./ProfileBlockComponent\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\n\r\nconst CardListHeadText = styled.h3`\r\n  color: ${(props) => props.theme.textColor};\r\n  margin-top: 0;\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  font-weight: bold;\r\n  word-spacing: -3px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Circular Std Medium;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { self, userBlock, userBlockLoading, deleteBlock, history } = props;\r\n\r\n  const [userBlockData, setUserBlockData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setUserBlockData(userBlock);\r\n  }, [userBlock, setUserBlockData]);\r\n\r\n  const handleDeleteBlock = async (id) => {\r\n    var userBlockDataModif = userBlockData;\r\n    userBlockDataModif = userBlockDataModif.filter(\r\n      (uBDM) => uBDM && uBDM._id !== id\r\n    );\r\n    try {\r\n      message.loading({\r\n        content: \"Deleting Card ...\",\r\n        duration: 0,\r\n      });\r\n      const deleting = await deleteBlock({ id });\r\n      console.log(deleting);\r\n      message.destroy();\r\n      if (deleting.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Card Deleted\",\r\n        });\r\n        setUserBlockData(userBlockDataModif);\r\n        // history.push(\"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: deleting.data.message,\r\n        });\r\n      }\r\n      return deleting;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      if (e && e.data && e.data.message) {\r\n        message.error({\r\n          duration: 2,\r\n          content: e && e.data && e.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  console.log(\"profileblocks\", props);\r\n  return (\r\n    <div>\r\n      {self && (\r\n        <React.Fragment>\r\n          <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n            <Flex.Item>\r\n              <CardListHeadText>Your Cards</CardListHeadText>\r\n            </Flex.Item>\r\n\r\n            <Flex.Item align=\"right\">\r\n              <CardListHeadText style={{ textAlign: \"right\" }}>\r\n                <Link to=\"/block/choose-category\" style={{ color: \"#4643d3\" }}>\r\n                  <AiOutlinePlusCircle\r\n                    style={{\r\n                      marginBottom: \"-2px\",\r\n                      marginRight: \"3px\",\r\n                      textAlign: \"right\",\r\n                    }}\r\n                  />\r\n                  Add A Card\r\n                </Link>\r\n              </CardListHeadText>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <CardListHeadText style={{ textAlign: \"center\", marginTop: \"15px\" }}>\r\n            swipe left to edit, right to delete Cards\r\n          </CardListHeadText>\r\n        </React.Fragment>\r\n      )}\r\n      <br />\r\n      {userBlockLoading && <Loader />}\r\n      {!userBlockLoading && userBlockData && userBlockData.length !== 0\r\n        ? userBlockData.map((block, key) => (\r\n            <React.Fragment>\r\n              {console.log(\"mapping\", block, key)}\r\n              <ProfileBlockComponent\r\n                handleDeleteBlock={handleDeleteBlock}\r\n                keyItem={key}\r\n                block={block}\r\n                self={self}\r\n                history={history}\r\n              />\r\n            </React.Fragment>\r\n          ))\r\n        : !userBlockLoading && (\r\n            <CardListHeadText\r\n              style={{ textAlign: \"center\", marginTop: \"15px\" }}\r\n            >\r\n              No Cards\r\n            </CardListHeadText>\r\n          )}\r\n    </div>\r\n  );\r\n};\r\nexport default withUserBlocks(withDeleteUserBlock(withTheme(Profile)));\r\n","import React, { Component, useState } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiFillEdit, AiOutlineLogout } from \"react-icons/ai\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { IoPaperPlaneOutline } from \"react-icons/io5\";\r\nimport { getValidUrl } from \"../../../helper\";\r\nimport { Button, Switch } from \"../../look/mobile\";\r\nimport PageLayout from \"../../look/PageLayout\";\r\n// import { withCurrentUser } from \"../auth/Auth\";\r\nimport ProfileBlocks from \"../../block/ProfileBlocks\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../../store/appReducer\";\r\n\r\nconst ProfileName = styled.h1`\r\n  margin-top: 10px;\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Circular Std Black;\r\n  font-size: 22px;\r\n  word-spacing: -3px;\r\n`;\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Circular Std Black;\r\n  font-size: 22px;\r\n  word-spacing: -3px;\r\n`;\r\n\r\nconst PublicLinkWrapper = styled.div`\r\n  /* color: ${(props) => props.theme.textColor}; */\r\n  /* text-align: center; */\r\n  border-radius: 7px;\r\n  border: solid 1px #f2f2f2;\r\n  background-color: #f8f8f8;\r\n  height: 60px;\r\n  font-family: Circular Std Black;\r\n  display: grid;\r\n  place-items: center;\r\n  padding: 0 15px;\r\n  /* font-family: Circular Std Medium; */\r\n  font-size: 17px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.43;\r\n  letter-spacing: normal;\r\n  color: #686868;\r\n`;\r\n\r\nconst ProfileSmallText = styled.p`\r\n  text-align: center;\r\n  font-size: 15px;\r\n  color: ${(props) => props.theme.textColor};\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  font-family: Circular Std Medium;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  letter-spacing: normal;\r\n  word-spacing: -3px;\r\n`;\r\n\r\nconst PageContainer = styled.p`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow-x: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n  padding:0 20px;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  font-family: Circular Std Medium;\r\n  /* font-size: 25px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  font-size: 15px;\r\n  background: #4643d3;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { userData, self, theme, setAccessTokene, setRefreshTokene, history } = props;\r\n  const { username } = userData;\r\n\r\n  const PageWrapper = self ? PageLayout : PageContainer;\r\n\r\n  return (\r\n    <div>\r\n      <PageWrapper>\r\n        {self && <PageHead>OnePlace Universe</PageHead>}\r\n\r\n        {self && (\r\n          <Link to={`/${username}`}>\r\n            <PublicLinkWrapper>\r\n              <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n                <Flex.Item\r\n                  style={{ flex: 4 }}\r\n                >{`oneplace.me/${username}`}</Flex.Item>{\" \"}\r\n                <Flex.Item align=\"right\" style={{ paddingTop: \"6px\" }}>\r\n                  <IoPaperPlaneOutline size={30} />\r\n                </Flex.Item>\r\n              </Flex>\r\n            </PublicLinkWrapper>\r\n          </Link>\r\n        )}\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            width: \"fit-content\",\r\n            margin: \"20px auto 0\",\r\n          }}\r\n          align=\"center\"\r\n        >\r\n          {self && (\r\n            <Link to=\"/profile/edit\">\r\n              <Button\r\n                type=\"primary\"\r\n                style={{\r\n                  background: \"#4643D3\",\r\n                  position: \"absolute\",\r\n                  bottom: \"-10px\",\r\n                  right: \"-10px\",\r\n                  zIndex: \"10\",\r\n                  width: \"40px\",\r\n                  height: \"40px\",\r\n                  borderRadius: \"40px\",\r\n                }}\r\n              >\r\n                <AiFillEdit size=\"20\" />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n          <Avatar\r\n            size=\"150\"\r\n            style={{ borderRadius: \"20px\", overflow: \"hidden\" }}\r\n            src={\r\n              userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.profileImage &&\r\n              userData.userProfile.profileImage.url\r\n            }\r\n          />\r\n        </div>\r\n        <ProfileName>\r\n          {userData && userData.userProfile && userData.userProfile.firstName}{\" \"}\r\n          {userData && userData.userProfile && userData.userProfile.lastName}\r\n        </ProfileName>\r\n        <ProfileSmallText>\r\n          {userData && userData.userProfile && userData.userProfile.bio}\r\n        </ProfileSmallText>\r\n        <br />\r\n        <div align=\"center\">\r\n          <Flex justify=\"center\" style={{ width: \"60%\" }}>\r\n            {userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.socialMediaLinks &&\r\n              userData.userProfile.socialMediaLinks.map((socia, key) => (\r\n                <a\r\n                  href={getValidUrl(socia && socia.link)}\r\n                  target=\"_blank\"\r\n                  key={key}\r\n                >\r\n                  <div align=\"center\" style={{ margin: \"0 5px\" }}>\r\n                    <img\r\n                      height=\"30px\"\r\n                      width=\"30px\"\r\n                      src={\r\n                        socia &&\r\n                        socia.category &&\r\n                        socia.category.image &&\r\n                        socia.category.image.url\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                </a>\r\n              ))}\r\n          </Flex>\r\n        </div>\r\n        {/* <br />\r\n        <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Visits`}</ProfileSmallText>\r\n            <ProfileStats>{\"16627\"}</ProfileStats>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Super Fans`}</ProfileSmallText>\r\n            <ProfileStats>{\"1662\"}</ProfileStats>\r\n          </Flex.Item>\r\n        </Flex> */}\r\n        {/* {!self && (\r\n          <Button style={{ marginTop: \"20px\" }} type=\"primary\">\r\n            Join My Super Fam\r\n          </Button>\r\n        )} */}\r\n        <br />\r\n        <ProfileBlocks self={self} username={username} history={history} />\r\n        <br />\r\n        {self && (\r\n          <StyledButton\r\n            type=\"primary\"\r\n            icon={<AiOutlineLogout style={{ fontSize: \"20px\" }} />}\r\n            onClick={() => {\r\n              setAccessTokene(\"\");\r\n              setRefreshTokene(\"\");\r\n            }}\r\n          >\r\n            Log Out\r\n          </StyledButton>\r\n        )}\r\n      </PageWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\nconst mapStateToProps = (state /*, ownProps*/) => {\r\n  console.log(\"mapstatetoprops\", state);\r\n  return {\r\n    accessToken: state.app.accessToken,\r\n    refreshToken: state.app.refreshToken,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTheme(Profile));\r\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import React from \"react\";\r\n\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withCurrentUser } from \"../../auth/Auth\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst Profile = (props) => {\r\n  console.log(\"profile\", props);\r\n  const { currentUser, history } = props;\r\n  if (currentUser && !currentUser.userProfile) {\r\n    history.push(\"/profile/edit\");\r\n  }\r\n  return <ProfileView userData={currentUser} history={history} self={true} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withCurrentUser(Profile);\r\n","import React from \"react\";\r\nimport { Button } from \"../../look/mobile\";\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withUserByUsername } from \"../../auth/Auth\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst PublicProfile = (props) => {\r\n  console.log(\"profile\", props);\r\n  const { user, history } = props;\r\n  if (!user) {\r\n    return (\r\n      <div>\r\n        <h2 style={{ textAlign: \"center\" }}>User doesn't exist</h2>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Button type=\"primary\" href=\"/\" size=\"lg\" block>\r\n          Go back\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n  return <ProfileView userData={user} history={history} self={false} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withUserByUsername(PublicProfile);\r\n"],"sourceRoot":""}