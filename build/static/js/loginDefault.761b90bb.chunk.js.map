{"version":3,"sources":["../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","components/auth/LoginForm.jsx","components/auth/LoginView.jsx"],"names":["strictUriEncode","require","objectAssign","encode","value","opts","strict","encodeURIComponent","exports","extract","str","split","parse","ret","Object","create","trim","replace","forEach","param","parts","key","shift","val","length","join","undefined","decodeURIComponent","Array","isArray","push","stringify","obj","keys","sort","map","result","slice","val2","filter","x","module","c","charCodeAt","toString","toUpperCase","LoginFormContainer","styled","div","LoginFormBackgroundFilter","Heading","h1","LargeHeadingComponent","StyledButton","Button","InputStylized","Input","InputWithSuffixStylized","loginFormSchema","phoneNumber","required","otp","minLength","LoginFormWithFormik","withFormik","enableReinitialize","mapPropsToValues","handleSubmit","values","a","onSubmit","props","modifiedValues","getValidPhoneNumber","validate","displayName","withTheme","sendOtp","useState","otpSent","setOtpSent","handleSendOtp","phoneValidator","phoneN","console","log","message","error","duration","content","size","name","onFinish","component","type","prefix","disabled","label","placeholder","suffix","ghost","style","borderRadius","onClick","block","Fragment","htmlType","PageHead","h2","theme","textColor","FormWrapper","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","accessToken","app","refreshToken","history","defaultApiUrl","useContext","ApiContext","useMutate","verb","path","AuthApiUrls","sendOtpMutation","mutate","sendOtpLoading","verifyOtp","verifyOtpMutation","verifyOtpLoading","loading","sending","destroy","status","success","data","params","queryString","location","search","redirectBack","padding","width","minHeight","position","display","placeItems","background","maxWidth","height","overflowX","align","zIndex","src","alt","top","left","right","overflow"],"mappings":"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","file":"static/js/loginDefault.761b90bb.chunk.js","sourcesContent":["'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (ret[key] === undefined) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\t});\n\n\treturn ret;\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (val2 === null) {\n\t\t\t\t\tresult.push(encode(key, opts));\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(encode(key, opts) + '=' + encode(val2, opts));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","import React, { useState } from \"react\";\r\nimport {\r\n  FieldAdapter as Field,\r\n  phoneNumber,\r\n  required,\r\n  minLength,\r\n  validate,\r\n} from \"../form\";\r\nimport { withFormik } from \"formik\";\r\nimport { message } from \"antd\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { WhiteSpace } from \"@look/mobile\";\r\nimport { Input, Form, Alert, Button } from \"@look/web\";\r\nimport { AiFillCheckCircle, AiOutlineEllipsis } from \"react-icons/ai\";\r\nimport { getValidPhoneNumber } from \"../../helper\";\r\n\r\n\r\n\r\nconst LoginFormContainer = styled.div`\r\n  color: white;\r\n  padding: 30px 20px 32px;\r\n  border-radius: 20px;\r\n  position: relative;\r\n  background-color: transparent;\r\n  .ant-form-item-extra {\r\n    color: white !important;\r\n  }\r\n`;\r\n\r\nconst LoginFormBackgroundFilter = styled.div`\r\n  border-radius: 20px;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  opacity: 0.3;\r\n  backdrop-filter: blur(50px);\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.89);\r\n  background-color: black;\r\n`;\r\n\r\nconst Heading = styled.h1`\r\n  font-family: Rubik;\r\n  font-size: 25px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst LargeHeadingComponent = styled.div`\r\n  font-family: Rubik;\r\n  font-size: 30px;\r\n  font-weight: 1200;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  font-family: Rubik;\r\n  /* font-size: 25px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n`;\r\n\r\nconst InputStylized = styled(Input)`\r\n  background-color: transparent !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 60px !important;\r\n  font-size: 15px;\r\n  padding: 0 20px;\r\n  caret-color: white;\r\n  color: white;\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  :focus {\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n  :-webkit-autofill,\r\n  :-webkit-autofill:hover,\r\n  :-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: white;\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n`;\r\n\r\nconst InputWithSuffixStylized = styled(Input)`\r\n  background: transparent !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 60px !important;\r\n  padding: 0 20px;\r\n\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  .ant-input-prefix {\r\n    color: white;\r\n    margin-right: 10px;\r\n  }\r\n  input {\r\n    background: inherit !important;\r\n    font-size: 15px;\r\n    caret-color: white;\r\n    color: white;\r\n  }\r\n  .ant-input[disabled]{\r\n    color:white;\r\n  }\r\n  input:focus {\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n  input:-webkit-autofill,\r\n  input:-webkit-autofill:hover,\r\n  input:-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: white;\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n`;\r\n\r\nconst loginFormSchema = {\r\n  phoneNumber: [required, phoneNumber],\r\n  otp: [required, minLength(6)],\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n  const { values, handleSubmit, sendOtp } = props;\r\n  const [otpSent, setOtpSent] = useState(false);\r\n\r\n  const handleSendOtp = async () => {\r\n    const phoneValidator = phoneNumber(values.phoneNumber);\r\n    if (values.phoneNumber !== \"\" && !phoneValidator) {\r\n      const phoneN = getValidPhoneNumber(values.phoneNumber);\r\n      try {\r\n        await sendOtp(phoneN);\r\n        setOtpSent(true);\r\n      } catch (e) {\r\n        console.log(\"formerror\", e);\r\n      }\r\n    } else {\r\n      message.error({\r\n        duration: 5,\r\n        content: \"Please enter a valid phone number\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleReEnter = () => {\r\n    setOtpSent(false);\r\n  };\r\n  return (\r\n    <LoginFormContainer>\r\n      <LoginFormBackgroundFilter />\r\n      <Heading>\r\n        “Time to set up your{\" \"}\r\n        <LargeHeadingComponent>Oneplace Universe”</LargeHeadingComponent>\r\n      </Heading>\r\n      <WhiteSpace size=\"xl\" />\r\n      <Form name=\"login\" onFinish={handleSubmit}>\r\n        <Field\r\n          name=\"phoneNumber\"\r\n          component={InputWithSuffixStylized}\r\n          type=\"text\"\r\n          prefix=\"+91\"\r\n          disabled={otpSent}\r\n          label={\"Your 10 digit mobile number\"}\r\n          placeholder=\"Your 10 digit mobile number\"\r\n          value={values.phoneNumber}\r\n        />\r\n\r\n        <WhiteSpace size=\"xl\" />\r\n        {otpSent && (\r\n          <Field\r\n            name=\"otp\"\r\n            component={InputStylized}\r\n            type=\"text\"\r\n            label={\"Enter Your OTP\"}\r\n            placeholder=\"Enter Your OTP\"\r\n            value={values.otp}\r\n            suffix={\r\n              ''\r\n            }\r\n          />\r\n        )}\r\n        {!otpSent && (\r\n          <StyledButton\r\n            ghost\r\n            style={{ borderRadius: \"7px\" }}\r\n            onClick={handleSendOtp}\r\n            size=\"large\"\r\n            block\r\n          >\r\n            Send Otp\r\n          </StyledButton>\r\n        )}\r\n        {otpSent && (\r\n          <React.Fragment>\r\n            <StyledButton\r\n              ghost\r\n              style={{ borderRadius: \"7px\" }}\r\n              htmlType=\"submit\"\r\n              size=\"large\"\r\n              block\r\n            >\r\n              Login\r\n            </StyledButton>\r\n            <WhiteSpace size=\"xl\" />\r\n            <StyledButton\r\n              style={{ borderRadius: \"7px\" }}\r\n              onClick={handleReEnter}\r\n              size=\"large\"\r\n              block\r\n            >\r\n              Re-enter Phone Number\r\n            </StyledButton>\r\n          </React.Fragment>\r\n        )}\r\n      </Form>\r\n    </LoginFormContainer>\r\n  );\r\n};\r\n\r\nconst LoginFormWithFormik = withFormik({\r\n  enableReinitialize: true,\r\n  mapPropsToValues: () => {\r\n    return { phoneNumber: \"\", otp: \"\" };\r\n  },\r\n\r\n  handleSubmit: async (values, { props: { onSubmit } }) => {\r\n    let modifiedValues = values;\r\n    modifiedValues.phoneNumber = getValidPhoneNumber(\r\n      modifiedValues.phoneNumber\r\n    );\r\n    await onSubmit(values);\r\n  },\r\n  validate: (values) => validate(values, loginFormSchema),\r\n  displayName: \"LoginForm\", // helps with React DevTools\r\n});\r\n\r\nexport default withTheme(LoginFormWithFormik(LoginForm));\r\n","import React, { useState, useContext } from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { message } from \"antd\";\r\nimport { useMutate } from \"restful-react\";\r\nimport { connect } from \"react-redux\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { WhiteSpace } from \"@look/mobile\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport { ApiContext, AuthApiUrls } from \"@api\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-family: Rubik;\r\n  /* word-spacing: -3px; */\r\n  /* font-weight: normal; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  font-size: 22px;\r\n`;\r\n\r\nconst FormWrapper = styled.div`\r\n  color: ${(props) => props.theme.textColor};\r\n  position: relative;\r\n  bottom:0;\r\n  height: fit-content;\r\n  overflow-x:hidden;\r\n  margin-top: -30px;\r\n  padding-top:50px;\r\n  background-color: #4643d3;\r\n  padding-bottom:40px;\r\n`;\r\n\r\nconst LoginView = (props) => {\r\n  const {\r\n    history,\r\n    setRefreshTokene,\r\n    setAccessTokene,\r\n    accessToken,\r\n    refreshToken,\r\n  } = props;\r\n  const defaultApiUrl = useContext(ApiContext);\r\n  // setAccessTokene('')\r\n  // setRefreshTokene('')\r\n  const { mutate: sendOtpMutation, sendOtpLoading } = useMutate({\r\n    verb: \"POST\",\r\n    path: defaultApiUrl + AuthApiUrls.sendOtp,\r\n  });\r\n\r\n  const { mutate: verifyOtpMutation, verifyOtpLoading } = useMutate({\r\n    verb: \"POST\",\r\n    path: defaultApiUrl + AuthApiUrls.verifyOtp,\r\n  });\r\n\r\n  const sendOtp = async (values) => {\r\n    try {\r\n      message.loading({\r\n        content: \"Sending Otp\",\r\n        duration: 0,\r\n      });\r\n      const sending = await sendOtpMutation({ phoneNumber: values });\r\n      message.destroy();\r\n      if (sending.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Otp Sent\",\r\n        });\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: sending.data.message,\r\n        });\r\n      }\r\n      return sending;\r\n    } catch (e) {\r\n      message.destroy();\r\n      message.error({\r\n        duration: 2,\r\n        content: e.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      message.loading({\r\n        content: \"Verifying Otp\",\r\n        duration: 0,\r\n      });\r\n      const sending = await verifyOtpMutation(values);\r\n      message.destroy();\r\n      if (sending.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"OTP Verified... Logged In\",\r\n        });\r\n        setAccessTokene(sending.accessToken);\r\n        setRefreshTokene(sending.refreshToken);\r\n        const params = queryString.parse(history.location.search);\r\n        history.push(params.redirectBack ? params.redirectBack : \"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: sending.data.message,\r\n        });\r\n      }\r\n      return sending;\r\n    } catch (e) {\r\n      message.destroy();\r\n      message.error({\r\n        duration: 2,\r\n        content: e.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: \"20px 0 0\",\r\n        width: \"100%\",\r\n        minHeight: \"100vh\",\r\n        position: \"relative\",\r\n        display: \"grid\",\r\n        placeItems: \"center\",\r\n        background: \"white\",\r\n      }}\r\n    >\r\n      <div style={{ maxWidth: \"500px\", height: \"100%\", width: \"100%\", overflowX:'hidden' }}>\r\n        <PageHead>OnePlace Universe</PageHead>\r\n        <WhiteSpace size=\"xl\" />\r\n        <div align=\"center\">\r\n          <img\r\n            style={{position:'relative', zIndex:'100'}}\r\n            src=\"https://onelinkie.s3.ap-south-1.amazonaws.com/76f5d642-2efe-4bc0-8743-df58baf1b740-login_banner_cropped2.png\"\r\n            width=\"80%\"\r\n            alt=\"login_banner\"\r\n          />\r\n        </div>\r\n        <WhiteSpace size=\"xl\" />\r\n        <FormWrapper>\r\n          <div\r\n            style={{\r\n              height: \"390px\",\r\n              width: \"100%\",\r\n              position: \"absolute\",\r\n              top: \"-2px\",\r\n              left: '-5px',\r\n              right: 0,\r\n              zIndex: \"10\",\r\n              overflow: \"hidden\",\r\n\r\n            }}\r\n          >\r\n            <img\r\n              width=\"100%\"\r\n              src=\"https://onelinkie.s3.ap-south-1.amazonaws.com/7b5e7196-b731-4b2c-a067-9caf4bda0d75-group-219%403x.png\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              // top: \"0\",\r\n              // left: \"0\",\r\n              position: \"relative\",\r\n              // right: \"0\",\r\n              background: \"transparent\",\r\n              padding: \"80px 20px 0\",\r\n              zIndex: \"12\",\r\n            }}\r\n          >\r\n            <LoginForm sendOtp={sendOtp} onSubmit={onSubmit} />\r\n          </div>\r\n        </FormWrapper>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\nconst mapStateToProps = (state /*, ownProps*/) => {\r\n  return {\r\n    accessToken: state.app.accessToken,\r\n    refreshToken: state.app.refreshToken,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withTheme(LoginView));\r\n"],"sourceRoot":""}