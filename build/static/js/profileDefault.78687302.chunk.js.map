{"version":3,"sources":["components/block/BlockOperations.jsx","components/look/PageLayout.jsx","components/auth/Auth.jsx","components/profile/ProfileOperations.jsx","components/block/ProfileBlockComponent.jsx","components/block/ProfileBlocks.jsx","components/profile/components/ProfileView.jsx","../../src/types.ts","../../src/index.ts","components/profile/containers/Profile.jsx","components/profile/containers/PublicProfile.jsx"],"names":["withUserBlocks","Component","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","accessToken","app","refreshToken","props","history","username","apiUrl","useContext","ApiContext","BlockApiUrls","getBlocksByUsername","useGet","path","requestOptions","headers","Authorization","data","userBlockLoading","loading","userBlockData","error","blocksList","userBlock","withBlockById","match","blockId","params","getBlockById","verb","blockByIdLoading","blockByIdData","block","blockById","withBlockCategoryList","getBlockCategory","blockCategoryListLoading","blockCategoryList","withBlockCategoryById","blockCategoryId","getBlockCategoryById","blockCategoryLoading","blockCategory","withAddUserBlock","postBlock","useMutate","mutate","postBlockLoading","withEditUserBlock","putBlockById","putBlock","putBlockLoading","withDeleteUserBlock","defaultApiUrl","id","a","fetch","deleteBlock","method","then","response","json","PageLayoutContainer","styled","div","PageLayoutDiv","PageLayoutContent","theme","brandSecondary","StyledTabBar","TabBar","PageLayout","selectedTab","hidden","fullScreen","componentChildren","console","log","this","style","height","title","key","icon","size","color","selectedIcon","selected","onPress","push","setState","data-seed","renderContent","children","React","withRouter","withTheme","withCurrentUser","currentUserLoading","currentUserData","UserApiUrls","getCurrentUser","user","currentUser","withAddProfile","ProfileApiUrls","postUserProfile","postUserProfileMutation","putUserProfile","userProfile","_id","putUserProfileMutation","withAddSocialMedia","postSocialMediaLinks","postAddSocialMedia","postAddSocialMediaLoading","withSocialMediaCategories","getSocialMediaCategories","socialMediaCategories","socialMediaCategoriesLoading","socialMediaCategoryList","withPublicProfileByUsername","UsernameContext","getUserByUsername","userLoading","userData","ProfileCardWrapper","shake","ProfileCardInner","IoTrashBinStylized","IoTrashBin","AiFillEditStylized","AiFillEdit","ProfileCardInnerWrapper","swiped","ProfileCardText","useState","setSwiped","keyItem","self","handleDeleteBlock","swipeControlLeft","swipeControlRight","handlers","useSwipeable","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","getSwipeTrans","getSwipeTranslate","profileCardInn","Item","flex","borderRadius","overflow","src","thumbnail","url","isHighlight","Fragment","onConfirm","onCancel","okText","cancelText","onClick","display","href","isMedia","getValidUrl","link","getPublicCardLink","target","CardListHeadText","h3","textColor","setUserBlockData","useEffect","userBlockDataModif","filter","uBDM","message","content","duration","deleting","destroy","status","success","justify","width","align","textAlign","to","marginBottom","marginRight","marginTop","length","map","ProfileBlockComponent","ProfileName","h1","PageHead","h2","PublicLinkWrapper","ProfileSmallText","p","PageContainer","StyledButton","Button","PageWrapper","paddingTop","position","margin","type","background","bottom","right","zIndex","profileImage","firstName","lastName","bio","socialMediaLinks","socia","category","image","alt","ProfileBlocks","fontSize","LEFT","RIGHT","UP","DOWN","defaultProps","delta","rotationAngle","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","document","rotateXYByAngle","clientX","clientY","onMove","x","y","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","e","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","options","transientState","transientProps","useMemo","getHandlers","stateSetter","updateTransientState"],"mappings":"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","file":"static/js/profileDefault.78687302.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useGet, useMutate } from \"restful-react\";\n\nimport { connect } from \"react-redux\";\nimport { ApiContext, BlockApiUrls } from \"@api\";\nimport { PageLoader } from \"@look/mobile\";\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\n\n// import authentication from '@gqlapp/authentication-client-react';\n\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\n\nconst withUserBlocks = (Component) => {\n  const WithUserBlocksInner = ({ ...props }) => {\n    const {\n      history,\n      refreshToken,\n      setAccessTokene,\n      accessToken,\n      username,\n    } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlocksByUsername(username);\n    const { data, loading: userBlockLoading, error } = useGet({\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    const userBlockData = data && data.blocksList;\n\n    // if (\n    //   !currentUserLoading &&\n    //   !currentUserData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return (\n      <Component\n        {...props}\n        userBlock={userBlockData}\n        userBlockLoading={userBlockLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserBlocksInner);\n};\n\nconst withBlockById = (Component) => {\n  const WithBlockByIdInner = ({ ...props }) => {\n    const {\n      history,\n      refreshToken,\n      setAccessTokene,\n      accessToken,\n      match,\n    } = props;\n    const blockId = match && match.params && match.params.blockId;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockById(blockId);\n    const { data, loading: blockByIdLoading, error } = useGet({\n      verb: \"GET\",\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    // console.log('withBLockQuery', blockByIdLoading, data);\n    const blockByIdData = data && data.block;\n\n    return blockByIdLoading ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        blockById={blockByIdData}\n        blockByIdLoading={blockByIdLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\n};\n\nconst withBlockCategoryList = (Component) => {\n  const WithBlockCategoryListInner = ({ ...props }) => {\n    const {\n      history,\n      refreshToken,\n      setAccessTokene,\n      accessToken,\n      match,\n    } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockCategory;\n    const { data, loading: blockCategoryListLoading, error } = useGet({\n      verb: \"GET\",\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    const blockCategoryList = data && data.blockCategoryList;\n\n    return blockCategoryListLoading ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        blockCategoryList={blockCategoryList}\n        blockCategoryListLoading={blockCategoryListLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockCategoryListInner);\n};\n\n\nconst withBlockCategoryById = (Component) => {\n  const WithBlockByIdInner = ({ ...props }) => {\n    const {\n      history,\n      refreshToken,\n      setAccessTokene,\n      accessToken,\n      match,\n    } = props;\n    const blockCategoryId = match && match.params && match.params.blockCategoryId;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockCategoryById(blockCategoryId);\n    const { data, loading: blockCategoryLoading, error } = useGet({\n      verb: \"GET\",\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    const blockCategory = data && data.blockCategory;\n\n    return blockCategoryLoading ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        blockCategory={blockCategory}\n        blockCategoryLoading={blockCategoryLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\n};\n\nconst withAddUserBlock = (Component) => {\n  const WithAddBlockInner = ({ ...props }) => {\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.postBlock;\n\n    const { mutate: postBlock, loading: postBlockLoading, error } = useMutate({\n      verb: \"POST\",\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    return (\n      <Component\n        {...props}\n        postBlock={postBlock}\n        postBlockLoading={postBlockLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddBlockInner);\n};\n\nconst withEditUserBlock = (Component) => {\n  const WithEditBlockInner = ({ ...props }) => {\n    const {\n      history,\n      refreshToken,\n      setAccessTokene,\n      accessToken,\n      match,\n    } = props;\n    const blockId = match && match.params && match.params.blockId;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + BlockApiUrls.putBlockById(blockId);\n    const { mutate: putBlock, loading: putBlockLoading, error } = useMutate({\n      verb: \"PUT\",\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    return (\n      <Component\n        {...props}\n        putBlock={putBlock}\n        putBlockLoading={putBlockLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithEditBlockInner);\n};\n\nconst withDeleteUserBlock = (Component) => {\n  const WithDeleteBlockInner = ({ ...props }) => {\n    const { accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n\n    async function deleteBlock(id) {\n      return await fetch(defaultApiUrl + BlockApiUrls.deleteBlock(id), {\n        method: 'DELETE',\n        headers:{ Authorization: `Bearer ${accessToken}` }\n      }).then(response =>\n        response.json().then(json => {\n          return json;\n        })\n      );\n    }\n    // const apiUrl = defaultApiUrl + BlockApiUrls.deleteBlock;\n\n\n    // console.log(\"apiUrl\", apiUrl);\n    // const {\n    //   mutate: deleteBlock,\n    //   loading: deleteBlockLoading,\n    //   error,\n    // } = useMutate({\n    //   verb: \"DELETE\",\n    //   path: apiUrl,\n    //   requestOptions: {\n    //     headers: { Authorization: `Bearer ${accessToken}` },\n    //   },\n    // });\n\n\n    return (\n      <Component\n        {...props}\n        deleteBlock={deleteBlock}\n        // deleteBlockLoading={deleteBlockLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithDeleteBlockInner);\n};\n\n// const RefreshAccessToken = ({ children,  }) => {\n//   const { mutate: refreshAccessToken, loading } = useMutate({\n//     verb: \"POST\",\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\n//   });\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\n// };\n\n// export default RefreshAccessToken;\n\n// const hasRole = (role, currentUser) => {\n//   return currentUser &&\n//     (!role ||\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\n//     ? true\n//     : false;\n// };\n\n// const withLoadedUser = (Component) => {\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\n//     currentUserLoading ? null : <Component {...props} />;\n\n//   WithLoadedUser.propTypes = {\n//     currentUser: PropTypes.object,\n//     currentUserLoading: PropTypes.bool.isRequired,\n//   };\n\n//   return withCurrentUser(WithLoadedUser);\n// };\n\n// const IfLoggedInComponent = ({\n//   currentUser,\n//   role,\n//   children,\n//   elseComponent,\n//   refetchCurrentUser,\n//   ...restProps\n// }) =>\n//   hasRole(role, currentUser)\n//     ? React.cloneElement(children, {\n//         ...restProps,\n//       })\n//     : elseComponent || null;\n// IfLoggedInComponent.propTypes = {\n//   currentUser: PropTypes.object,\n//   role: PropTypes.oneOfType([\n//     PropTypes.arrayOf(PropTypes.string),\n//     PropTypes.string,\n//   ]),\n//   elseComponent: PropTypes.node,\n//   children: PropTypes.node,\n// };\n\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\n\n// const IfNotLoggedInComponent = ({\n//   currentUser,\n//   children,\n//   refetchCurrentUser,\n//   ...restProps\n// }) =>\n//   !currentUser\n//     ? React.cloneElement(children, {\n//         ...restProps,\n//       })\n//     : null;\n// IfNotLoggedInComponent.propTypes = {\n//   currentUser: PropTypes.object,\n//   children: PropTypes.node,\n// };\n\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\n\n// const withLogout = (Component) =>\n//   withApollo(({ client, ...props }) => {\n//     const newProps = {\n//       ...props,\n//       logout: () => authentication.doLogout(client),\n//     };\n//     return <Component {...newProps} />;\n//   });\n\nexport {\n  withUserBlocks,\n  withAddUserBlock,\n  withEditUserBlock,\n  withBlockById,\n  withDeleteUserBlock,\n  withBlockCategoryList,\n  withBlockCategoryById\n  //   hasRole,\n  //   withLoadedUser,\n  //   IfLoggedIn,\n  //   IfNotLoggedIn,\n  //   withLogout,\n};\n","import React, { useState, Component } from \"react\";\nimport { withRouter, NavLink } from \"react-router-dom\";\nimport { IoMailOutline, IoMailSharp } from \"react-icons/io5\";\nimport { FiBarChart } from \"react-icons/fi\";\nimport { FaCompass, FaRegCompass } from \"react-icons/fa\";\nimport { CgSignal } from \"react-icons/cg\";\n\nimport { IoPulse, IoBarChartOutline } from \"react-icons/io5\";\n\nimport styled, { withTheme } from \"styled-components\";\nimport TabBar from \"./mobile/TabBar\";\nimport TabBarItem from \"./mobile/TabBarItem\";\n\nconst PageLayoutContainer = styled.div`\n  position: relative;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  bottom: 0;\n  margin: auto;\n  max-width: 500px;\n`;\n\nconst PageLayoutDiv = styled.div`\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst PageLayoutContent = styled.div`\n  height: 100%;\n  width: 100%;\n  background: ${(props) => props.theme.brandSecondary} !important;\n  padding: 15px;\n  overflow-y: scroll;\n`;\n\nconst StyledTabBar = styled(TabBar)`\n  .am-tabs-tab-bar-wrap {\n    width: 414px;\n    height: 83px;\n    margin: 95px 0 0;\n    padding: 12px 45px 18px 49px;\n    background-color: #141414;\n  }\n`;\n\nclass PageLayout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTab: \"/profile\",\n      hidden: false,\n      fullScreen: false,\n    };\n  }\n\n  renderContent(componentChildren) {\n    return (\n      <PageLayoutDiv>\n        <PageLayoutContent>{componentChildren}</PageLayoutContent>\n      </PageLayoutDiv>\n    );\n  }\n\n  render() {\n    console.log(\"pagelayout\", this.props);\n    const {\n      match: { path },\n      history,\n    } = this.props;\n    return (\n      <div>\n        <PageLayoutContainer>\n          <StyledTabBar style={{ height: \"83px\" }} hidden={this.state.hidden}>\n            <TabBarItem\n              title=\"Stats\"\n              key=\"Stats\"\n              icon={<IoBarChartOutline size={30} color=\"grey\" />}\n              selectedIcon={<IoBarChartOutline size={30} color=\"white\" />}\n              selected={path === \"/statistics\"}\n              // badge={1}\n              onPress={() => {\n                history.push(\"/statistics\");\n                this.setState({ selectedTab: \"/statistics\" });\n              }}\n              data-seed=\"logId\"\n            >\n              {this.renderContent(this.props.children)}\n            </TabBarItem>\n\n            <TabBarItem\n              icon={<FaCompass size={30} color=\"grey\" />}\n              selectedIcon={<FaCompass size={30} color=\"white\" />}\n              title=\"OnePlace\"\n              key=\"OnePlace\"\n              // badge={\"new\"}\n              selected={path === \"/profile\"}\n              onPress={() => {\n                history.push(\"/profile\");\n                this.setState({ selectedTab: \"/profile\" });\n              }}\n              data-seed=\"logId1\"\n            >\n              {this.renderContent(this.props.children)}\n            </TabBarItem>\n\n            <TabBarItem\n              icon={<IoPulse size={30} color=\"grey\" />}\n              selectedIcon={<IoPulse size={30} color=\"white\" />}\n              title=\"Orders\"\n              key=\"Order\"\n              // dot\n              selected={path === \"/order/my\"}\n              onPress={() => {\n                history.push(\"/order/my\");\n                this.setState({ selectedTab: \"/order/my\" });\n              }}\n            >\n              {this.renderContent(this.props.children)}\n            </TabBarItem>\n          </StyledTabBar>\n        </PageLayoutContainer>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withTheme(PageLayout));\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useGet, useMutate } from \"restful-react\";\n\nimport { connect } from \"react-redux\";\nimport { ApiContext, UserApiUrls, AuthApiUrls } from \"../../api\";\nimport { PageLoader } from \"@look/mobile\";\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\n\n// import authentication from '@gqlapp/authentication-client-react';\n\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\n\nconst withCurrentUser = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + UserApiUrls.getCurrentUser;\n    var currentUserLoading = true;\n\n    var currentUserData;\n    const { data, loading, error } = useGet({\n      path: apiUrl,\n      requestOptions:{\n        headers:{ Authorization: `Bearer ${accessToken}` },\n      }\n    });\n    currentUserLoading = loading;\n    currentUserData = data && data.user;\n\n    // if (\n    //   !currentUserLoading &&\n    //   !currentUserData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return currentUserLoading || !currentUserData ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        currentUser={currentUserData}\n        currentUserLoading={currentUserLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\nconst withUserByUsername = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { history, refreshToken, setAccessTokene, accessToken, match } = props;\n    const username = match && match.params && match.params.username;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\n\n    const { data, loading:userLoading, error } = useGet({\n      path: apiUrl,\n      requestOptions:{\n        headers:{ Authorization: `Bearer ${accessToken}` },\n      }\n    });\n    const userData = data && data.user;\n\n    // if (\n    //   !currentUserLoading &&\n    //   !currentUserData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return userLoading  ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        user={userData}\n        userLoading={userLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\n// const RefreshAccessToken = ({ children,  }) => {\n//   const { mutate: refreshAccessToken, loading } = useMutate({\n//     verb: \"POST\",\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\n//   });\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\n// };\n\n// export default RefreshAccessToken;\n\n// const hasRole = (role, currentUser) => {\n//   return currentUser &&\n//     (!role ||\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\n//     ? true\n//     : false;\n// };\n\n// const withLoadedUser = (Component) => {\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\n//     currentUserLoading ? null : <Component {...props} />;\n\n//   WithLoadedUser.propTypes = {\n//     currentUser: PropTypes.object,\n//     currentUserLoading: PropTypes.bool.isRequired,\n//   };\n\n//   return withCurrentUser(WithLoadedUser);\n// };\n\n// const IfLoggedInComponent = ({\n//   currentUser,\n//   role,\n//   children,\n//   elseComponent,\n//   refetchCurrentUser,\n//   ...restProps\n// }) =>\n//   hasRole(role, currentUser)\n//     ? React.cloneElement(children, {\n//         ...restProps,\n//       })\n//     : elseComponent || null;\n// IfLoggedInComponent.propTypes = {\n//   currentUser: PropTypes.object,\n//   role: PropTypes.oneOfType([\n//     PropTypes.arrayOf(PropTypes.string),\n//     PropTypes.string,\n//   ]),\n//   elseComponent: PropTypes.node,\n//   children: PropTypes.node,\n// };\n\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\n\n// const IfNotLoggedInComponent = ({\n//   currentUser,\n//   children,\n//   refetchCurrentUser,\n//   ...restProps\n// }) =>\n//   !currentUser\n//     ? React.cloneElement(children, {\n//         ...restProps,\n//       })\n//     : null;\n// IfNotLoggedInComponent.propTypes = {\n//   currentUser: PropTypes.object,\n//   children: PropTypes.node,\n// };\n\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\n\n// const withLogout = (Component) =>\n//   withApollo(({ client, ...props }) => {\n//     const newProps = {\n//       ...props,\n//       logout: () => authentication.doLogout(client),\n//     };\n//     return <Component {...newProps} />;\n//   });\n\nexport {\n  withCurrentUser,\n  withUserByUsername\n  //   hasRole,\n  //   withLoadedUser,\n  //   IfLoggedIn,\n  //   IfNotLoggedIn,\n  //   withLogout,\n};\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useGet, useMutate } from \"restful-react\";\n\nimport { connect } from \"react-redux\";\nimport { ApiContext, ProfileApiUrls, UsernameContext, UserApiUrls } from \"@api\";\nimport { PageLoader } from \"@look/mobile\";\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\n\n// import authentication from '@gqlapp/authentication-client-react';\n\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\nconst withCurrentUserProfile = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getCurrentUserProfile;\n    var currentUserProfileLoading = true;\n\n    var currentUserProfileData;\n    const { data, loading, error } = useGet({\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    currentUserProfileLoading = loading;\n    currentUserProfileData = data && data.userProfile;\n\n    // if (\n    //   !currentUserProfileLoading &&\n    //   !currentUserProfileData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return currentUserProfileLoading || !currentUserProfileData ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        currentUserProfile={currentUserProfileData}\n        currentUserProfileLoading={currentUserProfileLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\nconst withAddProfile = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { accessToken, currentUser } = props;\n    const defaultApiUrl = useContext(ApiContext);\n\n    const {\n      mutate: postUserProfileMutation,\n      loading: postUserProfileLoading,\n    } = useMutate({\n      verb: \"POST\",\n      path: defaultApiUrl + ProfileApiUrls.postUserProfile,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    const {\n      mutate: putUserProfileMutation,\n      loading: putUserProfileLoading,\n    } = useMutate({\n      verb: \"PUT\",\n      path:\n        defaultApiUrl +\n        ProfileApiUrls.putUserProfile(\n          currentUser.userProfile && currentUser.userProfile._id\n        ),\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    // if (\n    //   !currentUserLoading &&\n    //   !currentUserData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return (\n      <Component\n        {...props}\n        postUserProfileMutation={postUserProfileMutation}\n        putUserProfileMutation={putUserProfileMutation}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\nconst withAddSocialMedia = (Component) => {\n  const WithAddSocialMediaInner = ({ ...props }) => {\n    const { accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n\n    const {\n      mutate: postAddSocialMedia,\n      loading: postAddSocialMediaLoading,\n    } = useMutate({\n      verb: \"POST\",\n      path: defaultApiUrl + ProfileApiUrls.postSocialMediaLinks,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    return (\n      <Component\n        {...props}\n        postAddSocialMedia={postAddSocialMedia}\n        postAddSocialMediaLoading={postAddSocialMediaLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddSocialMediaInner);\n};\n\n\n\nconst withSocialMediaCategories = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getSocialMediaCategories;\n    const {\n      data: socialMediaCategories,\n      loading: socialMediaCategoriesLoading,\n      error,\n    } = useGet({\n      path: apiUrl,\n      requestOptions: {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      },\n    });\n    const socialMediaCategoryList =\n      socialMediaCategories && socialMediaCategories.socialMediaCategoryList;\n    // if (\n    //   !currentUserProfileLoading &&\n    //   !currentUserProfileData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return socialMediaCategoriesLoading || !socialMediaCategoryList ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        socialMediaCategoryList={socialMediaCategoryList}\n        socialMediaCategoriesLoading={socialMediaCategoriesLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\nconst withPublicProfileByUsername = (Component) => {\n  const WithUserInner = ({ ...props }) => {\n    const { accessToken} = props;\n    const username = useContext(UsernameContext);\n    const defaultApiUrl = useContext(ApiContext);\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\n\n    const { data, loading:userLoading, error } = useGet({\n      path: apiUrl,\n      requestOptions:{\n        headers:{ Authorization: `Bearer ${accessToken}` },\n      }\n    });\n    const userData = data && data.user;\n\n    // if (\n    //   !currentUserLoading &&\n    //   !currentUserData &&\n    //   error &&\n    //   error.status === 401\n    // ) {\n    // }\n    return userLoading  ? (\n      <PageLoader />\n    ) : (\n      <Component\n        {...props}\n        user={userData}\n        userLoading={userLoading}\n      />\n    );\n  };\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\n  const mapStateToProps = (state /*, ownProps*/) => {\n    return {\n      accessToken: state.app.accessToken,\n      refreshToken: state.app.refreshToken,\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\n};\n\nexport {\n  withAddProfile,\n  withCurrentUserProfile,\n  withSocialMediaCategories,\n  withAddSocialMedia,\n  withPublicProfileByUsername\n  //   hasRole,\n  //   withLoadedUser,\n  //   IfLoggedIn,\n  //   IfNotLoggedIn,\n  //   withLogout,\n};\n","import React, { useState } from \"react\";\nimport { Flex } from \"antd-mobile\";\nimport { Link } from \"react-router-dom\";\nimport { Popconfirm } from \"../look/web\";\nimport Avatar from \"react-avatar\";\nimport { useSwipeable } from \"react-swipeable\";\nimport { IoTrashBin } from \"react-icons/io5\";\nimport { AiFillEdit } from \"react-icons/ai\";\n\nimport { getValidUrl } from \"../../helper\";\n\nimport styled, { withTheme } from \"styled-components\";\n\nconst ProfileCardWrapper = styled.div`\n  border-radius: 20px;\n  /* padding: 20px; */\n  background-color: #cb4a4a;\n  background-image: linear-gradient(to right, #cb4a4a, white);\n  height: 100px;\n  margin-bottom: 20px;\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64);\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n  animation: ${(props) =>\n    props.shake\n      ? \"shake 2s cubic-bezier(.36,.07,.19,.97) both infinite\"\n      : \"none\"};\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  perspective: 1000px;\n  animation-delay: 0.5;\n  @keyframes shake {\n    5%,\n    45% {\n      transform: translate3d(-1px, 0, 0);\n    }\n\n    10%,\n    40% {\n      transform: translate3d(2px, 0, 0);\n    }\n\n    15%,\n    25%,\n    35% {\n      transform: translate3d(-4px, 0, 0);\n    }\n\n    20%,\n    30% {\n      transform: translate3d(4px, 0, 0);\n    }\n    50%,\n    100% {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n`;\n\nconst ProfileCardInner = styled.div`\n  border-radius: 20px;\n  padding: 20px;\n  background-color: #2c2c2c;\n  height: 100px;\n  /* pointer-events:none; */\n  /* margin-bottom: 20px; */\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\n`;\n\nconst IoTrashBinStylized = styled(IoTrashBin)`\n  position: absolute;\n  top: 30px;\n  left: 20px;\n  font-size: 40px;\n  color: white;\n  cursor: pointer;\n`;\n\nconst AiFillEditStylized = styled(AiFillEdit)`\n  position: absolute;\n  top: 30px;\n  right: 20px;\n  font-size: 40px;\n  color: #4643d3;\n  cursor: pointer;\n`;\n\nconst ProfileCardInnerWrapper = styled.div`\n  transition: all 0.3s;\n  transform: translateX(${(props) => props.swiped});\n  transition-timing-function: ease-out;\n  /* margin-bottom: 20px; */\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\n`;\n\nconst ProfileCardText = styled.div`\n  color: white;\n  text-align: center;\n  /* font-size: 17px; */\n  /* font-weight: normal; */\n  font-stretch: normal;\n  font-style: normal;\n  /* line-height: 1.43; */\n  letter-spacing: normal;\n  font-family: Rubik;\n  font-size: 15px;\n`;\n\nfunction getSwipeTranslate(self, swiped) {\n  if (!self || (self && swiped === \"center\")) {\n    return \"0px\";\n  } else if (swiped === \"right\") {\n    return \"80px\";\n  } else if (swiped === \"left\") {\n    return \"-80px\";\n  }\n}\n\nconst ProfileCard = (props) => {\n  const [swiped, setSwiped] = useState(\"center\");\n  const { block, keyItem, self, handleDeleteBlock, history } = props;\n\n  const swipeControlLeft =\n    swiped === \"center\" || swiped === \"left\" ? \"left\" : \"center\";\n  const swipeControlRight =\n    swiped === \"center\" || swiped === \"right\" ? \"right\" : \"center\";\n\n  const handlers = useSwipeable({\n    onSwipedLeft: () => setSwiped(swipeControlLeft),\n    onSwipedRight: () => setSwiped(swipeControlRight),\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: true,\n  });\n\n  const getSwipeTrans = getSwipeTranslate(self, swiped);\n\n  const profileCardInn = (\n    <ProfileCardInner swiped={swiped}>\n      <Flex>\n        <Flex.Item style={{ flex: \"0 1 60px\" }}>\n          <Avatar\n            size=\"60\"\n            style={{ borderRadius: \"10px\", overflow: \"hidden\" }}\n            src={block && block.thumbnail && block.thumbnail.url}\n          />\n        </Flex.Item>\n        <Flex.Item style={{ flex: 3 }}>\n          <ProfileCardText>{block && block.title}</ProfileCardText>\n        </Flex.Item>\n      </Flex>\n    </ProfileCardInner>\n  );\n\n  const getPublicCardLink = () => {\n    const { blockCategory } = block;\n    var url = \"\";\n    if (blockCategory && blockCategory.isMedia) {\n      url = `https://oneplace.me/block/detail/${block && block._id}`;\n    } else {\n      url = getValidUrl(block && block.link);\n    }\n    return url;\n  };\n  console.log(\"publiccard\", block);\n  return (\n    <ProfileCardWrapper\n      {...handlers}\n      keyItem={keyItem}\n      shake={!self && block && block.isHighlight}\n    >\n      {self && (\n        <React.Fragment>\n          <Popconfirm\n            title=\"Are you sure to delete this Card?\"\n            onConfirm={() => handleDeleteBlock(block && block._id)}\n            onCancel={() => console.log(\"canceled\")}\n            okText=\"Yes\"\n            cancelText=\"No\"\n          >\n            <IoTrashBinStylized />\n          </Popconfirm>\n          <AiFillEditStylized\n            onClick={() => history.push(`/block/edit/${block && block._id}`)}\n          />\n        </React.Fragment>\n      )}\n      <ProfileCardInnerWrapper swiped={getSwipeTrans}>\n        {self ? (\n          <React.Fragment>{profileCardInn}</React.Fragment>\n        ) : (\n          <a\n            style={{ display: \"block\" }}\n            keyItem={keyItem}\n            href={getPublicCardLink()}\n            target={!self && \"_blank\"}\n          >\n            {profileCardInn}\n          </a>\n        )}\n      </ProfileCardInnerWrapper>\n    </ProfileCardWrapper>\n  );\n};\n\nexport default withTheme(ProfileCard);\n","import React, { useState, useEffect } from \"react\";\nimport { Flex } from \"antd-mobile\";\nimport { message } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport styled, { withTheme } from \"styled-components\";\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\nimport { Loader } from \"@look/mobile\";\nimport { withUserBlocks, withDeleteUserBlock } from \"./BlockOperations\";\nimport ProfileBlockComponent from \"./ProfileBlockComponent\";\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\n\nconst CardListHeadText = styled.h3`\n  color: ${(props) => props.theme.textColor};\n  margin-top: 0;\n  opacity: 0.7;\n  margin-bottom: 0px;\n  /* font-weight: bold; */\n  /* word-spacing: -3px; */\n  font-stretch: normal;\n  font-style: normal;\n  /* line-height: 1.43; */\n  letter-spacing: normal;\n  font-family: Rubik;\n`;\n\nconst Profile = (props) => {\n  const { self, userBlock, userBlockLoading, deleteBlock, history, theme } = props;\n\n  const [userBlockData, setUserBlockData] = useState(null);\n\n  useEffect(() => {\n    setUserBlockData(userBlock);\n  }, [userBlock, setUserBlockData]);\n\n  const handleDeleteBlock = async (id) => {\n    var userBlockDataModif = userBlockData;\n    userBlockDataModif = userBlockDataModif.filter(\n      (uBDM) => uBDM && uBDM._id !== id\n    );\n    try {\n      message.loading({\n        content: \"Deleting Card ...\",\n        duration: 0,\n      });\n      const deleting = await deleteBlock(id);\n      message.destroy();\n      if (deleting.status === true) {\n        message.success({\n          duration: 2,\n          content: \"Card Deleted\",\n        });\n        setUserBlockData(userBlockDataModif);\n        // history.push(\"/\");\n      } else {\n        message.error({\n          duration: 2,\n          content: deleting.data.message,\n        });\n      }\n      return deleting;\n    } catch (e) {\n      message.destroy();\n      console.log(\"error\", e);\n      if (e && e.data && e.data.message) {\n        message.error({\n          duration: 2,\n          content: e && e.data && e.data.message,\n        });\n      }\n    }\n  };\n  return (\n    <div>\n      {self && (\n        <React.Fragment>\n          <Flex justify=\"between\" style={{ width: \"100%\" }}>\n            <Flex.Item>\n              <CardListHeadText>Your Cards</CardListHeadText>\n            </Flex.Item>\n\n            <Flex.Item align=\"right\">\n              <CardListHeadText style={{ textAlign: \"right\" }}>\n                <Link to=\"/block/choose-category\">\n                  <AiOutlinePlusCircle\n                    style={{\n                      marginBottom: \"-2px\",\n                      marginRight: \"3px\",\n                      textAlign: \"right\",\n                    }}\n                  />\n                  Add A Card\n                </Link>\n              </CardListHeadText>\n            </Flex.Item>\n          </Flex>\n          <CardListHeadText style={{ textAlign: \"center\", marginTop: \"15px\" }}>\n            swipe left to edit, right to delete Cards\n          </CardListHeadText>\n        </React.Fragment>\n      )}\n      <br />\n      {userBlockLoading && <Loader />}\n      {!userBlockLoading && userBlockData && userBlockData.length !== 0\n        ? userBlockData.map((block, key) => (\n            <React.Fragment>\n              <ProfileBlockComponent\n                handleDeleteBlock={handleDeleteBlock}\n                keyItem={key}\n                block={block}\n                self={self}\n                history={history}\n              />\n            </React.Fragment>\n          ))\n        : !userBlockLoading && (\n            <CardListHeadText\n              style={{ textAlign: \"center\", marginTop: \"15px\" }}\n            >\n              No Cards\n            </CardListHeadText>\n          )}\n    </div>\n  );\n};\nexport default withUserBlocks(withDeleteUserBlock(withTheme(Profile)));\n","import React, { Component, useState } from \"react\";\nimport Avatar from \"react-avatar\";\nimport { Flex } from \"antd-mobile\";\nimport { Link } from \"react-router-dom\";\nimport styled, { withTheme } from \"styled-components\";\nimport { AiFillEdit, AiOutlineLogout } from \"react-icons/ai\";\nimport { connect } from \"react-redux\";\n\nimport { IoPaperPlaneOutline } from \"react-icons/io5\";\nimport { getValidUrl } from \"../../../helper\";\nimport { Button, Switch } from \"@look/mobile\";\nimport PageLayout from \"@look/PageLayout\";\n// import { withCurrentUser } from \"../auth/Auth\";\nimport ProfileBlocks from \"../../block/ProfileBlocks\";\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\nimport { setAccessTokene, setRefreshTokene } from \"../../../store/appReducer\";\n\nconst ProfileName = styled.h1`\n  margin-top: 10px;\n  color: ${(props) => props.theme.textColor};\n  text-align: center;\n  font-family: Rubik;\n  font-size: 22px;\n  /* word-spacing: -3px; */\n`;\n\nconst PageHead = styled.h2`\n  color: ${(props) => props.theme.textColor};\n  text-align: center;\n  font-family: Rubik;\n  font-size: 22px;\n  /* word-spacing: -3px; */\n`;\n\nconst PublicLinkWrapper = styled.div`\n  /* color: ${(props) => props.theme.textColor}; */\n  /* text-align: center; */\n  border-radius: 7px;\n  border: solid 1px #f2f2f2;\n  background-color: #f8f8f8;\n  height: 60px;\n  font-family: Rubik;\n  display: grid;\n  place-items: center;\n  padding: 0 15px;\n  /* font-family: Rubik; */\n  font-size: 17px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.43;\n  letter-spacing: normal;\n  color: #686868;\n`;\n\nconst ProfileSmallText = styled.p`\n  text-align: center;\n  font-size: 15px;\n  color: ${(props) => props.theme.textColor};\n  opacity: 0.7;\n  margin-bottom: 0px;\n  font-family: Rubik;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  letter-spacing: normal;\n  /* word-spacing: -3px; */\n`;\n\nconst PageContainer = styled.p`\n  position: relative;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  bottom: 0;\n  margin: auto;\n  max-width: 500px;\n  padding:0 20px;\n`;\n\nconst StyledButton = styled(Button)`\n  font-family: Rubik;\n  /* font-size: 25px; */\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.33;\n  letter-spacing: normal;\n  font-size: 15px;\n  background: #4643d3;\n`;\n\nconst Profile = (props) => {\n  const { userData, self, theme, setAccessTokene, setRefreshTokene, history } = props;\n  const { username } = userData;\n\n  const PageWrapper = self ? PageLayout : PageContainer;\n\n  return (\n    <div>\n      <PageWrapper>\n        {self && <PageHead>OnePlace Universe</PageHead>}\n\n        {self && (\n          <a target='_blank' href={`https://${username}.oneplace.me`}>\n            <PublicLinkWrapper>\n              <Flex justify=\"between\" style={{ width: \"100%\" }}>\n                <Flex.Item\n                  style={{ flex: 4 }}\n                >{`${username}.oneplace.me`}</Flex.Item>{\" \"}\n                <Flex.Item align=\"right\" style={{ paddingTop: \"6px\" }}>\n                  <IoPaperPlaneOutline size={30} />\n                </Flex.Item>\n              </Flex>\n            </PublicLinkWrapper>\n          </a>\n        )}\n        <div\n          style={{\n            position: \"relative\",\n            width: \"fit-content\",\n            margin: \"20px auto 0\",\n          }}\n          align=\"center\"\n        >\n          {self && (\n            <Link to=\"/profile/edit\">\n              <Button\n                type=\"primary\"\n                style={{\n                  background: \"#4643D3\",\n                  position: \"absolute\",\n                  bottom: \"-10px\",\n                  right: \"-10px\",\n                  zIndex: \"10\",\n                  width: \"40px\",\n                  height: \"40px\",\n                  borderRadius: \"40px\",\n                }}\n              >\n                <AiFillEdit size=\"20\" />\n              </Button>\n            </Link>\n          )}\n          <Avatar\n            size=\"150\"\n            style={{ borderRadius: \"20px\", overflow: \"hidden\" }}\n            src={\n              userData &&\n              userData.userProfile &&\n              userData.userProfile.profileImage &&\n              userData.userProfile.profileImage.url\n            }\n          />\n        </div>\n        <ProfileName>\n          {userData && userData.userProfile && userData.userProfile.firstName}{\" \"}\n          {userData && userData.userProfile && userData.userProfile.lastName}\n        </ProfileName>\n        <ProfileSmallText>\n          {userData && userData.userProfile && userData.userProfile.bio}\n        </ProfileSmallText>\n        <br />\n        <div align=\"center\">\n          <Flex justify=\"center\" style={{ width: \"60%\" }}>\n            {userData &&\n              userData.userProfile &&\n              userData.userProfile.socialMediaLinks &&\n              userData.userProfile.socialMediaLinks.map((socia, key) => (\n                <a\n                  href={getValidUrl(socia && socia.link)}\n                  target=\"_blank\"\n                  key={key}\n                >\n                  <div align=\"center\" style={{ margin: \"0 5px\" }}>\n                    <img\n                      height=\"30px\"\n                      width=\"30px\"\n                      src={\n                        socia &&\n                        socia.category &&\n                        socia.category.image &&\n                        socia.category.image.url\n                      }\n                      alt=\"\"\n                    />\n                  </div>\n                </a>\n              ))}\n          </Flex>\n        </div>\n        {/* <br />\n        <Flex justify=\"between\" style={{ width: \"100%\" }}>\n          <Flex.Item>\n            <ProfileSmallText align=\"center\">{`Visits`}</ProfileSmallText>\n            <ProfileStats>{\"16627\"}</ProfileStats>\n          </Flex.Item>\n          <Flex.Item>\n            <ProfileSmallText align=\"center\">{`Super Fans`}</ProfileSmallText>\n            <ProfileStats>{\"1662\"}</ProfileStats>\n          </Flex.Item>\n        </Flex> */}\n        {/* {!self && (\n          <Button style={{ marginTop: \"20px\" }} type=\"primary\">\n            Join My Super Fam\n          </Button>\n        )} */}\n        <br />\n        <ProfileBlocks self={self} username={username} history={history} />\n        <br />\n        {self && (\n          <StyledButton\n            type=\"primary\"\n            icon={<AiOutlineLogout style={{ fontSize: \"20px\" }} />}\n            onClick={() => {\n              setAccessTokene(\"\");\n              setRefreshTokene(\"\");\n            }}\n          >\n            Log Out\n          </StyledButton>\n        )}\n      </PageWrapper>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = { setAccessTokene, setRefreshTokene };\nconst mapStateToProps = (state /*, ownProps*/) => {\n  return {\n    accessToken: state.app.accessToken,\n    refreshToken: state.app.refreshToken,\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withTheme(Profile));\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import React from \"react\";\n\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\nimport { withCurrentUser } from \"../../auth/Auth\";\n\nimport ProfileView from \"../components/ProfileView\";\n\nconst Profile = (props) => {\n  const { currentUser, history } = props;\n  if (currentUser && !currentUser.userProfile) {\n    history.push(\"/profile/edit\");\n  }\n  return <ProfileView userData={currentUser} history={history} self={true} />;\n};\n// return <h1>Profile</h1>\nexport default withCurrentUser(Profile);\n","import React from \"react\";\nimport { Button } from \"@look/mobile\";\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\nimport { withPublicProfileByUsername } from \"../ProfileOperations\";\n\nimport ProfileView from \"../components/ProfileView\";\n\nconst PublicProfile = (props) => {\n  const { user, history } = props;\n  if (!user) {\n    return (\n      <div>\n        <h2 style={{ textAlign: \"center\" }}>User doesn't exist</h2>\n        <br />\n        <br />\n        <br />\n        <br />\n        <Button type=\"primary\" href=\"/\" size=\"lg\" block>\n          Go back\n        </Button>\n      </div>\n    );\n  }\n  return <ProfileView userData={user} history={history} self={false} />;\n};\n// return <h1>Profile</h1>\nexport default withPublicProfileByUsername(PublicProfile);\n"],"sourceRoot":""}