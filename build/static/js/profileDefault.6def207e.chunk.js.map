{"version":3,"sources":["components/auth/Auth.jsx","helper/index.js","components/look/PageLayout.jsx","components/block/BlockOperations.jsx","components/block/ProfileBlockComponent.jsx","components/block/ProfileBlocks.jsx","components/profile/components/ProfileView.jsx","../../src/types.ts","../../src/index.ts","components/profile/containers/Profile.jsx","components/profile/containers/PublicProfile.jsx"],"names":["withCurrentUser","Component","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","console","log","accessToken","app","refreshToken","currentUserLoading","currentUserData","props","history","apiUrl","useContext","ApiContext","UserApiUrls","getCurrentUser","useGet","path","requestOptions","headers","Authorization","data","loading","error","user","currentUser","withUserByUsername","match","username","params","getUserByUsername","userLoading","userData","getValidUrl","url","newUrl","trim","replace","test","getValidPhoneNumber","numb","phoneNu","length","PageLayoutContainer","styled","div","PageLayoutDiv","PageLayoutContent","theme","brandSecondary","StyledTabBar","TabBar","PageLayout","selectedTab","hidden","fullScreen","componentChildren","style","height","this","title","key","icon","size","selectedIcon","selected","onPress","setState","data-seed","renderContent","children","React","withTheme","withUserBlocks","BlockApiUrls","getBlocksByUsername","userBlockLoading","userBlockData","blocksList","userBlock","withBlockById","blockId","getBlockById","verb","blockByUsernameLoading","blockByUsernameData","block","blockByUsername","withAddUserBlock","postBlock","useMutate","mutate","postBlockLoading","withEditUserBlock","putBlockById","putBlock","putBlockLoading","withDeleteUserBlock","deleteBlock","deleteBlockLoading","ProfileCardWrapper","shake","ProfileCardInner","IoTrashBinStylized","IoTrashBin","AiFillEditStylized","AiFillEdit","ProfileCardInnerWrapper","swiped","ProfileCardText","useState","setSwiped","keyItem","self","handleDeleteBlock","swipeControlLeft","swipeControlRight","handlers","useSwipeable","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","getSwipeTrans","getSwipeTranslate","profileCardInn","Item","flex","borderRadius","overflow","src","thumbnail","isHighlight","Fragment","onConfirm","_id","onCancel","okText","cancelText","onClick","push","display","href","link","target","CardListHeadText","h3","textColor","setUserBlockData","useEffect","id","a","userBlockDataModif","filter","uBDM","message","content","duration","deleting","destroy","status","success","justify","width","align","textAlign","to","color","marginBottom","marginRight","marginTop","map","ProfileBlockComponent","ProfileName","h1","PageHead","h2","PublicLinkWrapper","ProfileSmallText","p","PageContainer","StyledButton","Button","PageWrapper","paddingTop","position","margin","type","background","bottom","right","zIndex","userProfile","profileImage","firstName","lastName","bio","socialMediaLinks","socia","category","image","alt","ProfileBlocks","fontSize","LEFT","RIGHT","UP","DOWN","defaultProps","delta","rotationAngle","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","document","rotateXYByAngle","clientX","clientY","onMove","x","y","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","e","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","options","transientState","transientProps","useMemo","getHandlers","stateSetter","updateTransientState"],"mappings":"4HAAA,mIAaMA,EAAkB,SAACC,GACvB,IAkCMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EA3Ce,SAAC,GAAkB,IAInCO,EAEAC,EANsBC,EAAY,oBACUL,GAAgBK,EAAxDC,QAAwDD,EAA/CH,aAA+CG,EAAjCX,gBAAiCW,EAAhBL,aAE1CO,EADgBC,qBAAWC,KACFC,IAAYC,eAHL,EAOLC,YAAO,CACtCC,KAAMN,EACNO,eAAe,CACbC,QAAQ,CAAEC,cAAc,UAAD,OAAYhB,OAH/BiB,EAP8B,EAO9BA,KAAMC,EAPwB,EAOxBA,QAASC,EAPe,EAOfA,MAiBvB,OAXAhB,EAAqBe,EACrBd,EAAkBa,GAAQA,EAAKG,KAC/BtB,QAAQC,IAAIkB,EAAMC,EAASC,GASpBhB,IAAuBC,EAC5B,kBAAC,IAAD,MAEA,kBAACZ,EAAD,iBACMa,EADN,CAEEgB,YAAajB,EACbD,mBAAoBA,SAgBtBmB,EAAqB,SAAC9B,GAC1B,IA+BMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EAxCe,SAAC,GAAkB,IAAbS,EAAY,oBACUL,GAAuBK,EAA/DC,QAA+DD,EAAtDH,aAAsDG,EAAxCX,gBAAwCW,EAAvBL,aAAauB,EAAUlB,EAAVkB,MACvDC,EAAWD,GAASA,EAAME,QAAUF,EAAME,OAAOD,SAEjDjB,EADgBC,qBAAWC,KACFC,IAAYgB,kBAAkBF,GAJvB,EAMOZ,YAAO,CAClDC,KAAMN,EACNO,eAAe,CACbC,QAAQ,CAAEC,cAAc,UAAD,OAAYhB,OAH/BiB,EAN8B,EAM9BA,KAAcU,EANgB,EAMxBT,QAMRU,GAZgC,EAMHT,MAMlBF,GAAQA,EAAKG,MAS9B,OAAOO,EACL,kBAAC,IAAD,MAEA,kBAACnC,EAAD,iBACMa,EADN,CAEEe,KAAMQ,EACND,YAAaA,U,iCCxFrB,oEAGA,IAAME,EAAc,SAACC,GACnB,IAAIC,EAASD,EAGb,OAFAC,EAASA,EAAOC,OAAOC,QAAQ,MAAO,IAElC,WAAWC,KAAKH,GACZ,OAAN,OAAcA,GAEX,oBAAoBG,KAAKH,GAIvBA,EAHC,UAAN,OAAiBA,IAMfI,EAAsB,SAACC,GAC3B,IAAIC,EAAUD,EAEd,MAAI,OAAOF,KAAKG,IAA+B,KAAnBA,EAAQC,OAC3BD,EAAQJ,QAAQ,OAAQ,OAE7B,QAAQC,KAAKG,IAA+B,KAAnBA,EAAQC,OAC5BD,EAAQJ,QAAQ,QAAS,OAE9B,UAAUC,KAAKG,IAA+B,KAAnBA,EAAQC,OAC9BD,EAGF,MAAQA,I,22BClBjB,IAAME,EAAsBC,IAAOC,IAAV,KAUnBC,EAAgBF,IAAOC,IAAV,KAMbE,EAAoBH,IAAOC,IAAV,KAGP,SAACpC,GAAD,OAAWA,EAAMuC,MAAMC,kBAKjCC,EAAeN,YAAOO,IAAPP,CAAH,KAUZQ,E,kDACJ,WAAY3C,GAAQ,IAAD,8BACjB,cAAMA,IACDR,MAAQ,CACXoD,YAAa,SACbC,QAAQ,EACRC,YAAY,GALG,E,0DASLC,GACZ,OACE,kBAACV,EAAD,KACE,kBAACC,EAAD,KAAoBS,M,+BAKhB,IAAD,OACP,OACE,6BACA,kBAACb,EAAD,KACE,kBAACO,EAAD,CAAcO,MAAO,CAAEC,OAAQ,QAAUJ,OAAQK,KAAK1D,MAAMqD,QAC1D,kBAAC,IAAD,CACEM,MAAM,QACNC,IAAI,QACJC,KAAM,kBAAC,IAAD,CAAmBC,KAAM,KAC/BC,aAAc,kBAAC,IAAD,CAAmBD,KAAM,KACvCE,SAAqC,YAA3BN,KAAK1D,MAAMoD,YAErBa,QAAS,WACP,EAAKC,SAAS,CACZd,YAAa,aAGjBe,YAAU,SAETT,KAAKU,cAAcV,KAAKlD,MAAM6D,WAEjC,kBAAC,IAAD,CACER,KAAM,kBAAC,IAAD,CAAWC,KAAM,KACvBC,aAAc,kBAAC,IAAD,CAAWD,KAAM,KAC/BH,MAAM,WACNC,IAAI,WAEJI,SAAqC,WAA3BN,KAAK1D,MAAMoD,YACrBa,QAAS,WACP,EAAKC,SAAS,CACZd,YAAa,YAGjBe,YAAU,UAETT,KAAKU,cAAcV,KAAKlD,MAAM6D,WAEjC,kBAAC,IAAD,CACER,KAAM,kBAAC,IAAD,CAASC,KAAM,KACrBC,aAAc,kBAAC,IAAD,CAASD,KAAM,KAC7BH,MAAM,SACNC,IAAI,SAEJI,SAAqC,aAA3BN,KAAK1D,MAAMoD,YACrBa,QAAS,WACP,EAAKC,SAAS,CACZd,YAAa,eAIhBM,KAAKU,cAAcV,KAAKlD,MAAM6D,kB,GApElBC,IAAM3E,WA6EhB4E,gBAAUpB,I,iCC3HzB,yOAaMqB,EAAiB,SAAC7E,GACtB,IAiCMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EA1CqB,SAAC,GAAkB,IAAbS,EAAY,oBAK1CL,GAEEK,EALFC,QAKED,EAJFH,aAIEG,EAHFX,gBAGEW,EAFFL,aACAwB,EACEnB,EADFmB,SAGIjB,EADgBC,qBAAWC,KACF6D,IAAaC,oBAAoB/C,GATpB,EAUOZ,YAAO,CACxDC,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,OAHhCiB,EAVoC,EAUpCA,KAAeuD,EAVqB,EAU9BtD,QAMRuD,GAhBsC,EAUHtD,MAMnBF,GAAQA,EAAKyD,YASnC,OACE,kBAAClF,EAAD,iBACMa,EADN,CAEEsE,UAAWF,EACXD,iBAAkBA,SAgBpBI,EAAgB,SAACpF,GACrB,IAgCMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EAzCoB,SAAC,GAAkB,IAAbS,EAAY,oBAKzCL,GAEEK,EALFC,QAKED,EAJFH,aAIEG,EAHFX,gBAGEW,EAFFL,aACAuB,EACElB,EADFkB,MAEIsD,EAAUtD,GAASA,EAAME,QAAUF,EAAME,OAAOoD,QAEhDtE,EADgBC,qBAAWC,KACF6D,IAAaQ,aAAaD,GACzD/E,QAAQC,IAAI,SAAUQ,GAXqB,MAYcK,YAAO,CAC9DmE,KAAM,MACNlE,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,OAJhCiB,EAZmC,EAYnCA,KAAe+D,EAZoB,EAY7B9D,QAAiCC,EAZJ,EAYIA,MAOzC8D,EAAsBhE,GAAQA,EAAKiE,MAGzC,OAFApF,QAAQC,IAAI,YAAaoB,GAElB6D,EACL,kBAAC,IAAD,MAEA,kBAACxF,EAAD,iBACMa,EADN,CAEE8E,gBAAiBF,EACjBD,uBAAwBA,SAgB1BI,EAAmB,SAAC5F,GACxB,IAqBMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EA9BmB,SAAC,GAAkB,IAAbS,EAAY,oBACML,GAAgBK,EAAxDC,QAAwDD,EAA/CH,aAA+CG,EAAjCX,gBAAiCW,EAAhBL,aAE1CO,EADgBC,qBAAWC,KACF6D,IAAae,UAHF,EAKsBC,YAAU,CACxEP,KAAM,OACNlE,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,OAJxBqF,EAL0B,EAKlCE,OAA4BC,EALM,EAKftE,QAA2BC,EALZ,EAKYA,MAQtD,OADArB,QAAQC,IAAI,eAAgBoB,GAE1B,kBAAC3B,EAAD,iBACMa,EADN,CAEEgF,UAAWA,EACXG,iBAAkBA,SAgBpBC,EAAoB,SAACjG,GACzB,IA2BMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EApCoB,SAAC,GAAkB,IAAbS,EAAY,oBAKzCL,GAEEK,EALFC,QAKED,EAJFH,aAIEG,EAHFX,gBAGEW,EAFFL,aACAuB,EACElB,EADFkB,MAEIsD,EAAUtD,GAASA,EAAME,QAAUF,EAAME,OAAOoD,QAEhDtE,EADgBC,qBAAWC,KACF6D,IAAaoB,aAAab,GAVd,EAWmBS,YAAU,CACtEP,KAAM,MACNlE,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,OAJxB2F,EAX2B,EAWnCJ,OAA2BK,EAXQ,EAWjB1E,QAA0BC,EAXT,EAWSA,MAQpD,OADArB,QAAQC,IAAI,gBAAiBoB,GAE3B,kBAAC3B,EAAD,iBACMa,EADN,CAEEsF,SAAUA,EACVC,gBAAiBA,SAgBnBC,EAAsB,SAACrG,GAC3B,IA0BMC,EAAqB,CAAEC,oBAAiBC,sBAS9C,OAAOC,aARiB,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAIIT,EAAzBG,EAnCsB,SAAC,GAAkB,IAAbS,EAAY,oBACrCL,EAAgBK,EAAhBL,YAEFO,EADgBC,qBAAWC,KACF6D,IAAawB,YAC5ChG,QAAQC,IAAI,SAAUQ,GAJuB,MASzC+E,YAAU,CACZP,KAAM,SACNlE,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,OAP9B8F,EANmC,EAM3CP,OACSQ,EAPkC,EAO3C7E,QAP2C,EAQ3CC,MAUF,OACE,kBAAC3B,EAAD,iBACMa,EADN,CAEEyF,YAAaA,EACbC,mBAAoBA,U,2wEC5L5B,IAAMC,EAAqBxD,IAAOC,IAAV,KAWT,SAACpC,GAAD,OACXA,EAAM4F,MACF,uDACA,UAiCFC,EAAmB1D,IAAOC,IAAV,KAUhB0D,EAAqB3D,YAAO4D,IAAP5D,CAAH,KASlB6D,EAAqB7D,YAAO8D,IAAP9D,CAAH,KASlB+D,EAA0B/D,IAAOC,IAAV,KAEH,SAACpC,GAAD,OAAWA,EAAMmG,UAMrCC,EAAkBjE,IAAOC,IAAV,KAuBrB,IA2Ee2B,eA3EK,SAAC/D,GAAW,IAAD,EACDqG,mBAAS,UADR,mBACtBF,EADsB,KACdG,EADc,KAErBzB,EAAqD7E,EAArD6E,MAAO0B,EAA8CvG,EAA9CuG,QAASC,EAAqCxG,EAArCwG,KAAMC,EAA+BzG,EAA/ByG,kBAAmBxG,EAAYD,EAAZC,QAE3CyG,EACO,WAAXP,GAAkC,SAAXA,EAAoB,OAAS,SAChDQ,EACO,WAAXR,GAAkC,UAAXA,EAAqB,QAAU,SAElDS,EAAWC,uBAAa,CAC5BC,aAAc,kBAAMR,EAAUI,IAC9BK,cAAe,kBAAMT,EAAUK,IAC/BK,8BAA8B,EAC9BC,YAAY,IAGRC,EA1BR,SAA2BV,EAAML,GAC/B,OAAKK,GAASA,GAAmB,WAAXL,EACb,MACa,UAAXA,EACF,OACa,SAAXA,EACF,aADF,EAqBegB,CAAkBX,EAAML,GAC9C1G,QAAQC,IAAI,cAAeM,GAE3B,IAAMoH,EACJ,kBAACvB,EAAD,CAAkBM,OAAQA,GACxB,kBAAC,IAAD,KACE,kBAAC,IAAKkB,KAAN,CAAWrE,MAAO,CAAEsE,KAAM,aACxB,kBAAC,IAAD,CACEhE,KAAK,KACLN,MAAO,CAAEuE,aAAc,OAAQC,SAAU,UACzCC,IAAK5C,GAASA,EAAM6C,WAAa7C,EAAM6C,UAAUjG,OAGrD,kBAAC,IAAK4F,KAAN,CAAWrE,MAAO,CAAEsE,KAAM,IACxB,kBAAClB,EAAD,KAAkBvB,GAASA,EAAM1B,UAKzC,OACE,kBAACwC,EAAD,iBACMiB,EADN,CAEEL,QAASA,EACTX,OAAQY,GAAQ3B,GAASA,EAAM8C,cAE9BnB,GACC,kBAAC,IAAMoB,SAAP,KACE,kBAAC,IAAD,CACEzE,MAAM,oCACN0E,UAAW,kBAAMpB,EAAkB5B,GAASA,EAAMiD,MAClDC,SAAU,kBAAMtI,QAAQC,IAAI,aAC5BsI,OAAO,MACPC,WAAW,MAEX,kBAACnC,EAAD,OAEF,kBAACE,EAAD,CACEkC,QAAS,kBAAMjI,EAAQkI,KAAR,sBAA4BtD,GAASA,EAAMiD,UAIhE,kBAAC5B,EAAD,CAAyBC,OAAQe,GAC9BV,EACC,kBAAC,IAAMoB,SAAP,KAAiBR,GAEjB,uBACEpE,MAAO,CAAEoF,QAAS,SAClB7B,QAASA,EACT8B,KAAM7G,YAAYqD,GAASA,EAAMyD,MACjCC,QAAS/B,GAAQ,UAEhBY,Q,uUC/Kb,IAAMoB,EAAmBrG,IAAOsG,GAAV,KACX,SAACzI,GAAD,OAAWA,EAAMuC,MAAMmG,aAmHnB1E,cAAewB,YAAoBzB,aAtGlC,SAAC/D,GAAW,IAClBwG,EAA4DxG,EAA5DwG,KAAMlC,EAAsDtE,EAAtDsE,UAAWH,EAA2CnE,EAA3CmE,iBAAkBsB,EAAyBzF,EAAzByF,YAAaxF,EAAYD,EAAZC,QAD/B,EAGiBoG,mBAAS,MAH1B,mBAGlBjC,EAHkB,KAGHuE,EAHG,KAKzBC,qBAAU,WACRD,EAAiBrE,KAChB,CAACA,EAAWqE,IAEf,IAAMlC,EAAiB,uCAAG,WAAOoC,GAAP,iBAAAC,EAAA,6DAExBC,GADIA,EAAqB3E,GACe4E,QACtC,SAACC,GAAD,OAAUA,GAAQA,EAAKnB,MAAQe,KAHT,SAMtBK,IAAQrI,QAAQ,CACdsI,QAAS,oBACTC,SAAU,IARU,SAUC3D,EAAY,CAAEoD,OAVf,cAUhBQ,EAVgB,OAWtB5J,QAAQC,IAAI2J,GACZH,IAAQI,WACgB,IAApBD,EAASE,QACXL,IAAQM,QAAQ,CACdJ,SAAU,EACVD,QAAS,iBAEXR,EAAiBI,IAGjBG,IAAQpI,MAAM,CACZsI,SAAU,EACVD,QAASE,EAASzI,KAAKsI,UAvBL,kBA0BfG,GA1Be,kCA4BtBH,IAAQI,UACR7J,QAAQC,IAAI,QAAZ,MACI,MAAK,KAAEkB,MAAQ,KAAEA,KAAKsI,SACxBA,IAAQpI,MAAM,CACZsI,SAAU,EACVD,QAAS,MAAK,KAAEvI,MAAQ,KAAEA,KAAKsI,UAjCb,0DAAH,sDAuCvB,OADAzJ,QAAQC,IAAI,gBAAiBM,GAE3B,6BACGwG,GACC,kBAAC,IAAMoB,SAAP,KACE,kBAAC,IAAD,CAAM6B,QAAQ,UAAUzG,MAAO,CAAE0G,MAAO,SACtC,kBAAC,IAAKrC,KAAN,KACE,kBAACmB,EAAD,oBAGF,kBAAC,IAAKnB,KAAN,CAAWsC,MAAM,SACf,kBAACnB,EAAD,CAAkBxF,MAAO,CAAE4G,UAAW,UACpC,kBAAC,IAAD,CAAMC,GAAG,yBAAyB7G,MAAO,CAAE8G,MAAO,YAChD,kBAAC,IAAD,CACE9G,MAAO,CACL+G,aAAc,OACdC,YAAa,MACbJ,UAAW,WALjB,iBAaN,kBAACpB,EAAD,CAAkBxF,MAAO,CAAE4G,UAAW,SAAUK,UAAW,SAA3D,8CAKJ,6BACC9F,GAAoB,kBAAC,IAAD,OACnBA,GAAoBC,GAA0C,IAAzBA,EAAcnC,OACjDmC,EAAc8F,KAAI,SAACrF,EAAOzB,GAAR,OAChB,kBAAC,IAAMwE,SAAP,KACGnI,QAAQC,IAAI,UAAWmF,EAAOzB,GAC/B,kBAAC+G,EAAD,CACE1D,kBAAmBA,EACnBF,QAASnD,EACTyB,MAAOA,EACP2B,KAAMA,EACNvG,QAASA,SAIdkE,GACC,kBAACqE,EAAD,CACExF,MAAO,CAAE4G,UAAW,SAAUK,UAAW,SAD3C,kB,4qDCrGZ,IAAMG,EAAcjI,IAAOkI,GAAV,KAEN,SAACrK,GAAD,OAAWA,EAAMuC,MAAMmG,aAO5B4B,EAAWnI,IAAOoI,GAAV,KACH,SAACvK,GAAD,OAAWA,EAAMuC,MAAMmG,aAO5B8B,EAAoBrI,IAAOC,IAAV,KACT,SAACpC,GAAD,OAAWA,EAAMuC,MAAMmG,aAoB/B+B,EAAmBtI,IAAOuI,EAAV,KAGX,SAAC1K,GAAD,OAAWA,EAAMuC,MAAMmG,aAW5BiC,EAAgBxI,IAAOuI,EAAV,KAWbE,EAAezI,YAAO0I,IAAP1I,CAAH,KAmJZ/C,EAAqB,CAAEC,oBAAiBC,sBAQ/BC,iBAPS,SAACC,GAEvB,OADAC,QAAQC,IAAI,kBAAmBF,GACxB,CACLG,YAAaH,EAAMI,IAAID,YACvBE,aAAcL,EAAMI,IAAIC,gBAGYT,EAAzBG,CAA6CwE,aA/I5C,SAAC/D,GAAW,IAClBuB,EAAsEvB,EAAtEuB,SAAUiF,EAA4DxG,EAA5DwG,KAAanH,GAA+CW,EAAtDuC,MAAsDvC,EAA/CX,iBAAiBC,EAA8BU,EAA9BV,iBAAkBW,EAAYD,EAAZC,QAC1DkB,EAAaI,EAAbJ,SAEF2J,EAActE,EAAO7D,IAAagI,EAExC,OACE,6BACE,kBAACG,EAAD,KACGtE,GAAQ,kBAAC8D,EAAD,0BAER9D,GACC,kBAAC,IAAD,CAAMqD,GAAE,WAAM1I,IACZ,kBAACqJ,EAAD,KACE,kBAAC,IAAD,CAAMf,QAAQ,UAAUzG,MAAO,CAAE0G,MAAO,SACtC,kBAAC,IAAKrC,KAAN,CACErE,MAAO,CAAEsE,KAAM,IADjB,sBAEiBnG,IAAwB,IACzC,kBAAC,IAAKkG,KAAN,CAAWsC,MAAM,QAAQ3G,MAAO,CAAE+H,WAAY,QAC5C,kBAAC,IAAD,CAAqBzH,KAAM,SAMrC,yBACEN,MAAO,CACLgI,SAAU,WACVtB,MAAO,cACPuB,OAAQ,eAEVtB,MAAM,UAELnD,GACC,kBAAC,IAAD,CAAMqD,GAAG,iBACP,kBAAC,IAAD,CACEqB,KAAK,UACLlI,MAAO,CACLmI,WAAY,UACZH,SAAU,WACVI,OAAQ,QACRC,MAAO,QACPC,OAAQ,KACR5B,MAAO,OACPzG,OAAQ,OACRsE,aAAc,SAGhB,kBAAC,IAAD,CAAYjE,KAAK,SAIvB,kBAAC,IAAD,CACEA,KAAK,MACLN,MAAO,CAAEuE,aAAc,OAAQC,SAAU,UACzCC,IACElG,GACAA,EAASgK,aACThK,EAASgK,YAAYC,cACrBjK,EAASgK,YAAYC,aAAa/J,OAIxC,kBAAC2I,EAAD,KACG7I,GAAYA,EAASgK,aAAehK,EAASgK,YAAYE,UAAW,IACpElK,GAAYA,EAASgK,aAAehK,EAASgK,YAAYG,UAE5D,kBAACjB,EAAD,KACGlJ,GAAYA,EAASgK,aAAehK,EAASgK,YAAYI,KAE5D,6BACA,yBAAKhC,MAAM,UACT,kBAAC,IAAD,CAAMF,QAAQ,SAASzG,MAAO,CAAE0G,MAAO,QACpCnI,GACCA,EAASgK,aACThK,EAASgK,YAAYK,kBACrBrK,EAASgK,YAAYK,iBAAiB1B,KAAI,SAAC2B,EAAOzI,GAAR,OACxC,uBACEiF,KAAM7G,YAAYqK,GAASA,EAAMvD,MACjCC,OAAO,SACPnF,IAAKA,GAEL,yBAAKuG,MAAM,SAAS3G,MAAO,CAAEiI,OAAQ,UACnC,yBACEhI,OAAO,OACPyG,MAAM,OACNjC,IACEoE,GACAA,EAAMC,UACND,EAAMC,SAASC,OACfF,EAAMC,SAASC,MAAMtK,IAEvBuK,IAAI,YAuBlB,6BACA,kBAACC,EAAD,CAAezF,KAAMA,EAAMrF,SAAUA,EAAUlB,QAASA,IACxD,6BACCuG,GACC,kBAACoE,EAAD,CACEM,KAAK,UACL7H,KAAM,kBAAC,IAAD,CAAiBL,MAAO,CAAEkJ,SAAU,UAC1ChE,QAAS,WACP7I,EAAgB,IAChBC,EAAiB,MALrB,kB,sPCjNG6M,EAAO,OACPC,EAAQ,QACRC,EAAK,KACLC,EAAO,OC8BdC,EAAe,CACnBC,MADmB,GAEnBxF,8BAFmB,EAGnByF,cAHmB,EAInBxF,YAJmB,EAKnByF,YAAY,GAERC,EAA+B,CACnCC,OADmC,EAEnCC,QAAS,CAAC,EAFyB,GAGnCC,MAHmC,EAInCC,SAJmC,EAKnCC,GAAI,CAAC,EAAG,IAEJC,EAAN,YACMC,EAAN,UACMC,EAAN,WACMC,EAAN,YACMC,EAAN,aAEA,oBAME,OAAIC,EAAJ,EACMC,EAAJ,EACE,EAEF,EACSC,EAAJ,EACL,EAEF,EAGF,gBACE,OAAIC,EAAa,OAAOC,EACxB,IAAMC,EAAkBC,QAAD,IAAvB,EAKA,MAAO,CAHLF,KAASE,SAATF,GAAoCA,KAASE,SAD/C,GAGEF,KAASE,SAATF,GAAoCA,KAASE,SAD/C,IAKF,gBAUE,IAAMC,EAAU,SAACC,GAEXA,GAAS,YAATA,GAA+BA,iBAAnC,GAEAC,GAAI,cAEE/N,EAAJ,aACEgO,+BACAA,gC,MAGA,YAAaF,EAAQA,UAArB,GAAwCA,EACpCd,EAAKiB,EAAgB,CAFnBC,UAASC,WAE8BnO,EAA/C,eACA,iBAGE6M,QAAS,GAAF,OAHT,GAIEG,GAJF,EAKEF,MAAOgB,aAAmB,QAK1BM,EAAS,SAACN,GACdC,GAAI,cAGF,GAAI,YAAaD,GAASA,iBAA1B,EACE,S,MAGA,YAAaA,EAAQA,UAArB,GAAwCA,E,EAC3BG,EAAgB,CAFvBC,UAASC,WAEkCnO,EAArB,eAAvBqO,OAAGC,OACJf,EAASc,EAAI7O,KAAnB,GACMgO,EAASc,EAAI9O,KAAnB,GACM8N,EAAOM,SAAb,GACMW,EAAOX,SAAb,GACMY,GAAQV,aAAD,GAAyBtO,EAAtC,MACMiP,EAAWb,UAAUN,IAAciB,EAAxBX,IAAwCY,GAAzD,GACME,EAAgB,CAACnB,GAAUiB,GAAX,GAAuBhB,GAAUgB,GAAvD,IAGA,GAAIlB,EAAOtN,EAAPsN,OAAsBiB,EAAOvO,EAA7BsN,QAA6C9N,EAAjD,QACE,OAAOA,EAET,IAAMmP,EAAMC,EAAatB,EAAMiB,EAAMhB,EAArC,GACMsB,EAAY,CAChBvB,KADgB,EAEhBiB,KAFgB,EAGhBhB,OAHgB,EAIhBC,OAJgB,EAKhBmB,IALgB,EAMhBb,MANgB,EAOhBlB,MAAOpN,EAPS,MAQhBqN,QAASrN,EARO,QAShBiP,SATgB,EAUhBC,QAGF1O,aAAmBA,YAAnBA,GAIA,IAAI8O,GAAJ,EAaA,OAZI9O,aAAmBA,EAAnBA,UAAqC,gBAAzC,KACE8O,MAIAA,GACA9O,EADA8O,8BAEA9O,EAFA8O,YAGAhB,EAJF,YAMEA,mBAEF,QAGElB,OAHF,EAIEiC,UAJF,EAKE9B,SAAS,QAKTgC,EAAQ,SAACjB,GACbC,GAAI,cACF,MACA,GAAIvO,WAAiBA,EAArB,UAAsC,CACpCqP,EAAY,EAAH,GAAQrP,EAAR,WAAyBsO,UAClC9N,YAAkBA,WAAlBA,GAEA,IAAMgP,EAAc,WAAWH,EAA/B,IACIG,KAAJ,GACIhP,aAGJA,SAAeA,EAAA,MAAY,CAAE8N,UAE/B,iBAAoCe,kBAIlCI,EAAe,WAEnBjB,kCACAA,mCAGIkB,EAAO,SAACC,GACZF,IACAF,MAWIK,EAA2B,SAACC,EAAIC,GACpC,IAAIC,EAAU,aACd,GAAIF,GAAMA,EAAV,iBAA+B,CAE7B,IAAMG,EAGA,CACJ,CAACnC,EADG,GAEJ,CAACD,EAFG,GAGJ,CAACD,EANH,IAQAqC,WAAY,gBAAEL,EAAF,KAAKM,EAAL,YAAYJ,EAAA,iBAAAF,EAAA,EAA0B,CAAEG,eAEpDC,EAAU,kBAAMC,EAAA,SAAY,gBAAEL,EAAF,KAAKM,EAAL,YAAYJ,wBAAZ,OAE9B,UA+BIK,EAA8D,CAClEC,IA7BY,SAACN,GAGb,OAAIA,GACJtB,GAAI,cAEF,GAAIvO,OAAJ,EAAqB,OAAOA,EAE5B,IAAMoQ,EAAN,GAeA,OAbIpQ,MAAYA,OAAZA,GAA+BA,EAAnC,eACEA,iBACAoQ,uBAGE5P,cAAJ,IACE4P,eAAwBR,EAAY,GAEjCpP,EAFH4P,+BAOF,QAAmBP,MAAnB,QAcJ,OAJIQ,EAAJ,aACEH,iBAGK,CAACA,EAAR,GAGF,kBAKE,IAAME,EAAN,GAcA,OAZK5P,EAAD,YAAqBR,EAAzB,cACEA,iBACAoQ,uBACS5P,eAAqBR,EAAzB,cAEDA,EAAJ,KACEoQ,eAAwBR,EACtB5P,EADiC,IAEhCQ,EAFH4P,+BAMJ,UAGF,SAAgB/I,EAAaiJ,G,IACnB7I,EAAe6I,EAAf7I,WACF8I,EAAiBjM,EAAMA,OAAOA,EAAbA,GAAvB,IACMkM,EAAiBlM,EAAMA,OAANA,KAAvB,IAGAkM,oB,MAEgClM,EAAMmM,SACpC,kBACEC,GACE,mBACGH,UAAyBI,EACxBJ,EADmC,QAEnCC,EAHJ,WAKA,CAAE/I,iBAEN,CAV8B,IAAzBL,OAAUwI,OAmBjB,OANAW,UAAyBK,EACvBL,EAD2C,QAE3CC,EAF2C,QAA7CD,GAMA,E,+FCnUF,6CAiBe7Q,uBATC,SAACc,GACfP,QAAQC,IAAI,UAAWM,GADE,IAEjBgB,EAAyBhB,EAAzBgB,YAAaf,EAAYD,EAAZC,QAIrB,OAHIe,IAAgBA,EAAYuK,aAC9BtL,EAAQkI,KAAK,iBAER,kBAAC,IAAD,CAAa5G,SAAUP,EAAaf,QAASA,EAASuG,MAAM,Q,iCCdrE,qDA4BevF,uBApBO,SAACjB,GACrBP,QAAQC,IAAI,UAAWM,GADQ,IAEvBe,EAAkBf,EAAlBe,KAAMd,EAAYD,EAAZC,QACd,OAAKc,EAcE,kBAAC,IAAD,CAAaQ,SAAUR,EAAMd,QAASA,EAASuG,MAAM,IAZxD,6BACE,wBAAIxD,MAAO,CAAE4G,UAAW,WAAxB,sBACA,6BACA,6BACA,6BACA,6BACA,kBAAC,IAAD,CAAQsB,KAAK,UAAU7C,KAAK,IAAI/E,KAAK,KAAKuB,OAAK,GAA/C","file":"static/js/profileDefault.6def207e.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, UserApiUrls, AuthApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"../look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withCurrentUser = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getCurrentUser;\r\n    var currentUserLoading = true;\r\n\r\n    var currentUserData;\r\n    const { data, loading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    currentUserLoading = loading;\r\n    currentUserData = data && data.user;\r\n    console.log(data, loading, error);\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return currentUserLoading || !currentUserData ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        currentUser={currentUserData}\r\n        currentUserLoading={currentUserLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withUserByUsername = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken, match } = props;\r\n    const username = match && match.params && match.params.username;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\r\n\r\n    const { data, loading:userLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    const userData = data && data.user;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return userLoading  ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        user={userData}\r\n        userLoading={userLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withCurrentUser,\r\n  withUserByUsername\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","// import {removeArrItem} from './arrayHelpers'\r\n\r\n\r\nconst getValidUrl = (url) => {\r\n  let newUrl = url;\r\n  newUrl = newUrl.trim().replace(/\\s/g, \"\");\r\n\r\n  if (/^(:\\/\\/)/.test(newUrl)) {\r\n    return `http${newUrl}`;\r\n  }\r\n  if (!/^(f|ht)tps?:\\/\\//i.test(newUrl)) {\r\n    return `http://${newUrl}`;\r\n  }\r\n\r\n  return newUrl;\r\n};\r\n\r\nconst getValidPhoneNumber = (numb) => {\r\n  let phoneNu = numb;\r\n  // phoneNu = phoneNu.trim().replace(/\\s/g, \"\");\r\n  if (/^(0)/.test(phoneNu) && phoneNu.length === 11) {\r\n    return phoneNu.replace(/^(0)/, \"+91\");\r\n  }\r\n  if (/^(91)/.test(phoneNu) && phoneNu.length === 12) {\r\n    return phoneNu.replace(/^(91)/, \"+91\");\r\n  }\r\n  if (/^(\\+91)/.test(phoneNu) && phoneNu.length === 13) {\r\n    return phoneNu;\r\n  }\r\n\r\n  return \"+91\" + phoneNu;\r\n};\r\n\r\n\r\nexport {\r\n  // removeArrItem, \r\n  getValidUrl, getValidPhoneNumber};","import React, { useState, Component } from \"react\";\r\nimport { IoMailOutline, IoMailSharp } from \"react-icons/io5\";\r\nimport { FiBarChart } from \"react-icons/fi\";\r\nimport { FaCompass, FaChartBar } from \"react-icons/fa\";\r\nimport { CgSignal } from \"react-icons/cg\";\r\n\r\nimport { IoPulse, IoBarChartOutline } from \"react-icons/io5\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport TabBar from \"./mobile/TabBar\";\r\nimport TabBarItem from \"./mobile/TabBarItem\";\r\n\r\nconst PageLayoutContainer = styled.div`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n`;\r\n\r\nconst PageLayoutDiv = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst PageLayoutContent = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  background: ${(props) => props.theme.brandSecondary} !important;\r\n  padding: 15px;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nconst StyledTabBar = styled(TabBar)`\r\n  .am-tabs-tab-bar-wrap {\r\n    width: 414px;\r\n    height: 83px;\r\n    margin: 95px 0 0;\r\n    padding: 12px 45px 18px 49px;\r\n    background-color: #141414;\r\n  }\r\n`;\r\n\r\nclass PageLayout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: \"redTab\",\r\n      hidden: false,\r\n      fullScreen: false,\r\n    };\r\n  }\r\n\r\n  renderContent(componentChildren) {\r\n    return (\r\n      <PageLayoutDiv>\r\n        <PageLayoutContent>{componentChildren}</PageLayoutContent>\r\n      </PageLayoutDiv>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n      <PageLayoutContainer>\r\n        <StyledTabBar style={{ height: \"83px\" }} hidden={this.state.hidden}>\r\n          <TabBarItem\r\n            title=\"Stats\"\r\n            key=\"Stats\"\r\n            icon={<IoBarChartOutline size={30} />}\r\n            selectedIcon={<IoBarChartOutline size={30} />}\r\n            selected={this.state.selectedTab === \"blueTab\"}\r\n            // badge={1}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"blueTab\",\r\n              });\r\n            }}\r\n            data-seed=\"logId\"\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            icon={<FaCompass size={30} />}\r\n            selectedIcon={<FaCompass size={30} />}\r\n            title=\"OnePlace\"\r\n            key=\"OnePlace\"\r\n            // badge={\"new\"}\r\n            selected={this.state.selectedTab === \"redTab\"}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"redTab\",\r\n              });\r\n            }}\r\n            data-seed=\"logId1\"\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            icon={<IoPulse size={30} />}\r\n            selectedIcon={<IoPulse size={30} />}\r\n            title=\"Orders\"\r\n            key=\"Orders\"\r\n            // dot\r\n            selected={this.state.selectedTab === \"greenTab\"}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"greenTab\",\r\n              });\r\n            }}\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n        </StyledTabBar>\r\n      </PageLayoutContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTheme(PageLayout);\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, BlockApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"../look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withUserBlocks = (Component) => {\r\n  const WithUserBlocksInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      username,\r\n    } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlocksByUsername(username);\r\n    const { data, loading: userBlockLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const userBlockData = data && data.blocksList;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return (\r\n      <Component\r\n        {...props}\r\n        userBlock={userBlockData}\r\n        userBlockLoading={userBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserBlocksInner);\r\n};\r\n\r\nconst withBlockById = (Component) => {\r\n  const WithBlockByIdInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockById(blockId);\r\n    console.log(\"apiurl\", apiUrl);\r\n    const { data, loading: blockByUsernameLoading, error } = useGet({\r\n      verb: \"GET\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const blockByUsernameData = data && data.block;\r\n    console.log(\"blockbyid\", error);\r\n\r\n    return blockByUsernameLoading ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        blockByUsername={blockByUsernameData}\r\n        blockByUsernameLoading={blockByUsernameLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\r\n};\r\n\r\nconst withAddUserBlock = (Component) => {\r\n  const WithAddBlockInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.postBlock;\r\n\r\n    const { mutate: postBlock, loading: postBlockLoading, error } = useMutate({\r\n      verb: \"POST\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    console.log(\"adduserblock\", error);\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postBlock={postBlock}\r\n        postBlockLoading={postBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddBlockInner);\r\n};\r\n\r\nconst withEditUserBlock = (Component) => {\r\n  const WithEditBlockInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.putBlockById(blockId);\r\n    const { mutate: putBlock, loading: putBlockLoading, error } = useMutate({\r\n      verb: \"PUT\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    console.log(\"edituserblock\", error);\r\n    return (\r\n      <Component\r\n        {...props}\r\n        putBlock={putBlock}\r\n        putBlockLoading={putBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithEditBlockInner);\r\n};\r\n\r\nconst withDeleteUserBlock = (Component) => {\r\n  const WithDeleteBlockInner = ({ ...props }) => {\r\n    const { accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.deleteBlock;\r\n    console.log(\"apiUrl\", apiUrl);\r\n    const {\r\n      mutate: deleteBlock,\r\n      loading: deleteBlockLoading,\r\n      error,\r\n    } = useMutate({\r\n      verb: \"DELETE\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n\r\n\r\n    return (\r\n      <Component\r\n        {...props}\r\n        deleteBlock={deleteBlock}\r\n        deleteBlockLoading={deleteBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithDeleteBlockInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withUserBlocks,\r\n  withAddUserBlock,\r\n  withEditUserBlock,\r\n  withBlockById,\r\n  withDeleteUserBlock,\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Popconfirm } from \"../look/web\";\r\nimport Avatar from \"react-avatar\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { IoTrashBin } from \"react-icons/io5\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\n\r\nimport { getValidUrl } from \"../../helper\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\n\r\nconst ProfileCardWrapper = styled.div`\r\n  border-radius: 20px;\r\n  /* padding: 20px; */\r\n  background-color: #cb4a4a;\r\n  background-image: linear-gradient(to right, #cb4a4a, white);\r\n  height: 100px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64);\r\n  width: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  animation: ${(props) =>\r\n    props.shake\r\n      ? \"shake 2s cubic-bezier(.36,.07,.19,.97) both infinite\"\r\n      : \"none\"};\r\n  transform: translate3d(0, 0, 0);\r\n  backface-visibility: hidden;\r\n  perspective: 1000px;\r\n  animation-delay: 0.5;\r\n  @keyframes shake {\r\n    5%,\r\n    45% {\r\n      transform: translate3d(-1px, 0, 0);\r\n    }\r\n\r\n    10%,\r\n    40% {\r\n      transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    15%,\r\n    25%,\r\n    35% {\r\n      transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    20%,\r\n    30% {\r\n      transform: translate3d(4px, 0, 0);\r\n    }\r\n    50%,\r\n    100% {\r\n      transform: translate3d(0, 0, 0);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ProfileCardInner = styled.div`\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  background-color: #2c2c2c;\r\n  height: 100px;\r\n  /* pointer-events:none; */\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst IoTrashBinStylized = styled(IoTrashBin)`\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 20px;\r\n  font-size: 40px;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AiFillEditStylized = styled(AiFillEdit)`\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 20px;\r\n  font-size: 40px;\r\n  color: #605ee8;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ProfileCardInnerWrapper = styled.div`\r\n  transition: all 0.3s;\r\n  transform: translateX(${(props) => props.swiped});\r\n  transition-timing-function: ease-out;\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst ProfileCardText = styled.div`\r\n  color: white;\r\n  text-align: center;\r\n  /* font-size: 17px; */\r\n  /* font-weight: normal; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Rubik;\r\n  font-size: 15px;\r\n`;\r\n\r\nfunction getSwipeTranslate(self, swiped) {\r\n  if (!self || (self && swiped === \"center\")) {\r\n    return \"0px\";\r\n  } else if (swiped === \"right\") {\r\n    return \"80px\";\r\n  } else if (swiped === \"left\") {\r\n    return \"-80px\";\r\n  }\r\n}\r\n\r\nconst ProfileCard = (props) => {\r\n  const [swiped, setSwiped] = useState(\"center\");\r\n  const { block, keyItem, self, handleDeleteBlock, history } = props;\r\n\r\n  const swipeControlLeft =\r\n    swiped === \"center\" || swiped === \"left\" ? \"left\" : \"center\";\r\n  const swipeControlRight =\r\n    swiped === \"center\" || swiped === \"right\" ? \"right\" : \"center\";\r\n\r\n  const handlers = useSwipeable({\r\n    onSwipedLeft: () => setSwiped(swipeControlLeft),\r\n    onSwipedRight: () => setSwiped(swipeControlRight),\r\n    preventDefaultTouchmoveEvent: true,\r\n    trackMouse: true,\r\n  });\r\n\r\n  const getSwipeTrans = getSwipeTranslate(self, swiped);\r\n  console.log(\"profilecard\", props);\r\n\r\n  const profileCardInn = (\r\n    <ProfileCardInner swiped={swiped}>\r\n      <Flex>\r\n        <Flex.Item style={{ flex: \"0 1 60px\" }}>\r\n          <Avatar\r\n            size=\"60\"\r\n            style={{ borderRadius: \"10px\", overflow: \"hidden\" }}\r\n            src={block && block.thumbnail && block.thumbnail.url}\r\n          />\r\n        </Flex.Item>\r\n        <Flex.Item style={{ flex: 3 }}>\r\n          <ProfileCardText>{block && block.title}</ProfileCardText>\r\n        </Flex.Item>\r\n      </Flex>\r\n    </ProfileCardInner>\r\n  );\r\n  return (\r\n    <ProfileCardWrapper\r\n      {...handlers}\r\n      keyItem={keyItem}\r\n      shake={!self && block && block.isHighlight}\r\n    >\r\n      {self && (\r\n        <React.Fragment>\r\n          <Popconfirm\r\n            title=\"Are you sure to delete this Card?\"\r\n            onConfirm={() => handleDeleteBlock(block && block._id)}\r\n            onCancel={() => console.log(\"canceled\")}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <IoTrashBinStylized />\r\n          </Popconfirm>\r\n          <AiFillEditStylized\r\n            onClick={() => history.push(`/block/edit/${block && block._id}`)}\r\n          />\r\n        </React.Fragment>\r\n      )}\r\n      <ProfileCardInnerWrapper swiped={getSwipeTrans}>\r\n        {self ? (\r\n          <React.Fragment>{profileCardInn}</React.Fragment>\r\n        ) : (\r\n          <a\r\n            style={{ display: \"block\" }}\r\n            keyItem={keyItem}\r\n            href={getValidUrl(block && block.link)}\r\n            target={!self && \"_blank\"}\r\n          >\r\n            {profileCardInn}\r\n          </a>\r\n        )}\r\n      </ProfileCardInnerWrapper>\r\n    </ProfileCardWrapper>\r\n  );\r\n};\r\n\r\nexport default withTheme(ProfileCard);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { message } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\r\nimport { Loader } from \"../look/mobile\";\r\nimport { withUserBlocks, withDeleteUserBlock } from \"./BlockOperations\";\r\nimport ProfileBlockComponent from \"./ProfileBlockComponent\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\n\r\nconst CardListHeadText = styled.h3`\r\n  color: ${(props) => props.theme.textColor};\r\n  margin-top: 0;\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  /* font-weight: bold; */\r\n  /* word-spacing: -3px; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Rubik;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { self, userBlock, userBlockLoading, deleteBlock, history } = props;\r\n\r\n  const [userBlockData, setUserBlockData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setUserBlockData(userBlock);\r\n  }, [userBlock, setUserBlockData]);\r\n\r\n  const handleDeleteBlock = async (id) => {\r\n    var userBlockDataModif = userBlockData;\r\n    userBlockDataModif = userBlockDataModif.filter(\r\n      (uBDM) => uBDM && uBDM._id !== id\r\n    );\r\n    try {\r\n      message.loading({\r\n        content: \"Deleting Card ...\",\r\n        duration: 0,\r\n      });\r\n      const deleting = await deleteBlock({ id });\r\n      console.log(deleting);\r\n      message.destroy();\r\n      if (deleting.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Card Deleted\",\r\n        });\r\n        setUserBlockData(userBlockDataModif);\r\n        // history.push(\"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: deleting.data.message,\r\n        });\r\n      }\r\n      return deleting;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      if (e && e.data && e.data.message) {\r\n        message.error({\r\n          duration: 2,\r\n          content: e && e.data && e.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  console.log(\"profileblocks\", props);\r\n  return (\r\n    <div>\r\n      {self && (\r\n        <React.Fragment>\r\n          <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n            <Flex.Item>\r\n              <CardListHeadText>Your Cards</CardListHeadText>\r\n            </Flex.Item>\r\n\r\n            <Flex.Item align=\"right\">\r\n              <CardListHeadText style={{ textAlign: \"right\" }}>\r\n                <Link to=\"/block/choose-category\" style={{ color: \"#4643d3\" }}>\r\n                  <AiOutlinePlusCircle\r\n                    style={{\r\n                      marginBottom: \"-2px\",\r\n                      marginRight: \"3px\",\r\n                      textAlign: \"right\",\r\n                    }}\r\n                  />\r\n                  Add A Card\r\n                </Link>\r\n              </CardListHeadText>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <CardListHeadText style={{ textAlign: \"center\", marginTop: \"15px\" }}>\r\n            swipe left to edit, right to delete Cards\r\n          </CardListHeadText>\r\n        </React.Fragment>\r\n      )}\r\n      <br />\r\n      {userBlockLoading && <Loader />}\r\n      {!userBlockLoading && userBlockData && userBlockData.length !== 0\r\n        ? userBlockData.map((block, key) => (\r\n            <React.Fragment>\r\n              {console.log(\"mapping\", block, key)}\r\n              <ProfileBlockComponent\r\n                handleDeleteBlock={handleDeleteBlock}\r\n                keyItem={key}\r\n                block={block}\r\n                self={self}\r\n                history={history}\r\n              />\r\n            </React.Fragment>\r\n          ))\r\n        : !userBlockLoading && (\r\n            <CardListHeadText\r\n              style={{ textAlign: \"center\", marginTop: \"15px\" }}\r\n            >\r\n              No Cards\r\n            </CardListHeadText>\r\n          )}\r\n    </div>\r\n  );\r\n};\r\nexport default withUserBlocks(withDeleteUserBlock(withTheme(Profile)));\r\n","import React, { Component, useState } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiFillEdit, AiOutlineLogout } from \"react-icons/ai\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { IoPaperPlaneOutline } from \"react-icons/io5\";\r\nimport { getValidUrl } from \"../../../helper\";\r\nimport { Button, Switch } from \"../../look/mobile\";\r\nimport PageLayout from \"../../look/PageLayout\";\r\n// import { withCurrentUser } from \"../auth/Auth\";\r\nimport ProfileBlocks from \"../../block/ProfileBlocks\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../../store/appReducer\";\r\n\r\nconst ProfileName = styled.h1`\r\n  margin-top: 10px;\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PublicLinkWrapper = styled.div`\r\n  /* color: ${(props) => props.theme.textColor}; */\r\n  /* text-align: center; */\r\n  border-radius: 7px;\r\n  border: solid 1px #f2f2f2;\r\n  background-color: #f8f8f8;\r\n  height: 60px;\r\n  font-family: Rubik;\r\n  display: grid;\r\n  place-items: center;\r\n  padding: 0 15px;\r\n  /* font-family: Rubik; */\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.43;\r\n  letter-spacing: normal;\r\n  color: #686868;\r\n`;\r\n\r\nconst ProfileSmallText = styled.p`\r\n  text-align: center;\r\n  font-size: 15px;\r\n  color: ${(props) => props.theme.textColor};\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  font-family: Rubik;\r\n  font-weight: 500;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  letter-spacing: normal;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PageContainer = styled.p`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow-x: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n  padding:0 20px;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  font-family: Rubik;\r\n  /* font-size: 25px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  font-size: 15px;\r\n  background: #4643d3;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { userData, self, theme, setAccessTokene, setRefreshTokene, history } = props;\r\n  const { username } = userData;\r\n\r\n  const PageWrapper = self ? PageLayout : PageContainer;\r\n\r\n  return (\r\n    <div>\r\n      <PageWrapper>\r\n        {self && <PageHead>OnePlace Universe</PageHead>}\r\n\r\n        {self && (\r\n          <Link to={`/${username}`}>\r\n            <PublicLinkWrapper>\r\n              <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n                <Flex.Item\r\n                  style={{ flex: 4 }}\r\n                >{`oneplace.me/${username}`}</Flex.Item>{\" \"}\r\n                <Flex.Item align=\"right\" style={{ paddingTop: \"6px\" }}>\r\n                  <IoPaperPlaneOutline size={30} />\r\n                </Flex.Item>\r\n              </Flex>\r\n            </PublicLinkWrapper>\r\n          </Link>\r\n        )}\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            width: \"fit-content\",\r\n            margin: \"20px auto 0\",\r\n          }}\r\n          align=\"center\"\r\n        >\r\n          {self && (\r\n            <Link to=\"/profile/edit\">\r\n              <Button\r\n                type=\"primary\"\r\n                style={{\r\n                  background: \"#4643D3\",\r\n                  position: \"absolute\",\r\n                  bottom: \"-10px\",\r\n                  right: \"-10px\",\r\n                  zIndex: \"10\",\r\n                  width: \"40px\",\r\n                  height: \"40px\",\r\n                  borderRadius: \"40px\",\r\n                }}\r\n              >\r\n                <AiFillEdit size=\"20\" />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n          <Avatar\r\n            size=\"150\"\r\n            style={{ borderRadius: \"20px\", overflow: \"hidden\" }}\r\n            src={\r\n              userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.profileImage &&\r\n              userData.userProfile.profileImage.url\r\n            }\r\n          />\r\n        </div>\r\n        <ProfileName>\r\n          {userData && userData.userProfile && userData.userProfile.firstName}{\" \"}\r\n          {userData && userData.userProfile && userData.userProfile.lastName}\r\n        </ProfileName>\r\n        <ProfileSmallText>\r\n          {userData && userData.userProfile && userData.userProfile.bio}\r\n        </ProfileSmallText>\r\n        <br />\r\n        <div align=\"center\">\r\n          <Flex justify=\"center\" style={{ width: \"60%\" }}>\r\n            {userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.socialMediaLinks &&\r\n              userData.userProfile.socialMediaLinks.map((socia, key) => (\r\n                <a\r\n                  href={getValidUrl(socia && socia.link)}\r\n                  target=\"_blank\"\r\n                  key={key}\r\n                >\r\n                  <div align=\"center\" style={{ margin: \"0 5px\" }}>\r\n                    <img\r\n                      height=\"30px\"\r\n                      width=\"30px\"\r\n                      src={\r\n                        socia &&\r\n                        socia.category &&\r\n                        socia.category.image &&\r\n                        socia.category.image.url\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                </a>\r\n              ))}\r\n          </Flex>\r\n        </div>\r\n        {/* <br />\r\n        <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Visits`}</ProfileSmallText>\r\n            <ProfileStats>{\"16627\"}</ProfileStats>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Super Fans`}</ProfileSmallText>\r\n            <ProfileStats>{\"1662\"}</ProfileStats>\r\n          </Flex.Item>\r\n        </Flex> */}\r\n        {/* {!self && (\r\n          <Button style={{ marginTop: \"20px\" }} type=\"primary\">\r\n            Join My Super Fam\r\n          </Button>\r\n        )} */}\r\n        <br />\r\n        <ProfileBlocks self={self} username={username} history={history} />\r\n        <br />\r\n        {self && (\r\n          <StyledButton\r\n            type=\"primary\"\r\n            icon={<AiOutlineLogout style={{ fontSize: \"20px\" }} />}\r\n            onClick={() => {\r\n              setAccessTokene(\"\");\r\n              setRefreshTokene(\"\");\r\n            }}\r\n          >\r\n            Log Out\r\n          </StyledButton>\r\n        )}\r\n      </PageWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\nconst mapStateToProps = (state /*, ownProps*/) => {\r\n  console.log(\"mapstatetoprops\", state);\r\n  return {\r\n    accessToken: state.app.accessToken,\r\n    refreshToken: state.app.refreshToken,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTheme(Profile));\r\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import React from \"react\";\r\n\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withCurrentUser } from \"../../auth/Auth\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst Profile = (props) => {\r\n  console.log(\"profile\", props);\r\n  const { currentUser, history } = props;\r\n  if (currentUser && !currentUser.userProfile) {\r\n    history.push(\"/profile/edit\");\r\n  }\r\n  return <ProfileView userData={currentUser} history={history} self={true} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withCurrentUser(Profile);\r\n","import React from \"react\";\r\nimport { Button } from \"../../look/mobile\";\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withUserByUsername } from \"../../auth/Auth\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst PublicProfile = (props) => {\r\n  console.log(\"profile\", props);\r\n  const { user, history } = props;\r\n  if (!user) {\r\n    return (\r\n      <div>\r\n        <h2 style={{ textAlign: \"center\" }}>User doesn't exist</h2>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Button type=\"primary\" href=\"/\" size=\"lg\" block>\r\n          Go back\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n  return <ProfileView userData={user} history={history} self={false} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withUserByUsername(PublicProfile);\r\n"],"sourceRoot":""}