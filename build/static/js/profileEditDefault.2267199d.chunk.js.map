{"version":3,"sources":["components/auth/Auth.jsx","components/look/PageLayout.jsx","components/block/BlockOperations.jsx","components/block/BlockForm.jsx","components/block/AddBlock.jsx","components/block/EditBlock.jsx","components/profile/components/ProfileForm.jsx","components/profile/components/ProfileEditView.jsx","components/profile/containers/ProfileEdit.jsx","components/profile/ProfileOperations.jsx","components/block/BlockCard.jsx","components/block/ChooseBlockCategory.jsx"],"names":["withCurrentUser","Component","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","console","log","accessToken","app","refreshToken","currentUserLoading","currentUserData","props","history","apiUrl","useContext","ApiContext","UserApiUrls","getCurrentUser","useGet","path","requestOptions","headers","Authorization","data","loading","error","user","currentUser","withUserByUsername","match","username","params","getUserByUsername","userLoading","userData","PageLayoutContainer","styled","div","PageLayoutDiv","PageLayoutContent","theme","brandSecondary","StyledTabBar","TabBar","PageLayout","selectedTab","hidden","fullScreen","componentChildren","style","height","this","title","key","icon","size","selectedIcon","selected","onPress","setState","data-seed","renderContent","children","React","withTheme","withUserBlocks","BlockApiUrls","getBlocksByUsername","userBlockLoading","userBlockData","blocksList","userBlock","withBlockById","blockId","getBlockById","verb","blockByUsernameLoading","blockByUsernameData","block","blockByUsername","withAddUserBlock","postBlock","useMutate","mutate","postBlockLoading","withEditUserBlock","putBlockById","putBlock","putBlockLoading","withDeleteUserBlock","deleteBlock","deleteBlockLoading","BlockFormContainer","InputStylized","h1","Input","InputAreaStylized","InputArea","RenderUploadStylized","RenderUploadWithCrop","blockFormSchema","required","minLength","maxLength","thumbnail","link","BlockFormWithFormik","withFormik","enableReinitialize","mapPropsToValues","blockData","price","question","media","isHighlight","handleSubmit","values","onSubmit","modifiedValues","_id","validate","displayName","addBlockFormRef","useRef","useState","setload","errors","name","ref","onFinish","component","type","label","placeholder","value","Switch","justify","Item","aspect","Fragment","htmlType","PageHead","textColor","a","blockCategory","blockCategoryId","message","content","duration","sending","destroy","status","success","push","position","top","left","onClick","goBack","ProfileFormContainer","UsernameInputStylized","UsernamePrefix","p","profileFormSchema","Yup","shape","userProfile","matches","bio","firstName","ProfileFormWithFormik","profileImage","lastName","socialMediaLinks","map","socialM","category","setValues","validationSchema","socialMediaCategoryList","transform","bottom","right","zIndex","width","borderRadius","padding","color","flex","marginLeft","render","arrayHelpers","socialVal","ghost","h2","FormWrapper","minHeight","display","placeItems","background","overflowY","maxWidth","align","src","alt","overflow","ProfileApiUrls","getSocialMediaCategories","socialMediaCategories","socialMediaCategoriesLoading","withSocialMediaCategories","defaultApiUrl","postUserProfile","postUserProfileMutation","putUserProfile","putUserProfileMutation","withAddProfile","postSocialMediaLinks","postAddSocialMedia","postAddSocialMediaLoading","withAddSocialMedia","profileMutation","handleSocialLinksSubmission","socia","responseSend","socialMediaLink","promises","Promise","all","socialSending","profileValues","profileSubmissionObj","BlockCardWrapper","BlockCardTitle","BlockCardDescription","BlockCardAvatarWrapper","to","image","url","className","description","navigation","getBlockCategory","blockCategoryList","length","blockCat"],"mappings":"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","file":"static/js/profileEditDefault.2267199d.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, UserApiUrls, AuthApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"../look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withCurrentUser = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getCurrentUser;\r\n    var currentUserLoading = true;\r\n\r\n    var currentUserData;\r\n    const { data, loading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    currentUserLoading = loading;\r\n    currentUserData = data && data.user;\r\n    console.log(data, loading, error);\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return currentUserLoading || !currentUserData ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        currentUser={currentUserData}\r\n        currentUserLoading={currentUserLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withUserByUsername = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken, match } = props;\r\n    const username = match && match.params && match.params.username;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\r\n\r\n    const { data, loading:userLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    const userData = data && data.user;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return userLoading  ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        user={userData}\r\n        userLoading={userLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withCurrentUser,\r\n  withUserByUsername\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useState, Component } from \"react\";\r\nimport { IoMailOutline, IoMailSharp } from \"react-icons/io5\";\r\nimport { FiBarChart } from \"react-icons/fi\";\r\nimport { FaCompass, FaChartBar } from \"react-icons/fa\";\r\nimport { CgSignal } from \"react-icons/cg\";\r\n\r\nimport { IoPulse, IoBarChartOutline } from \"react-icons/io5\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport TabBar from \"./mobile/TabBar\";\r\nimport TabBarItem from \"./mobile/TabBarItem\";\r\n\r\nconst PageLayoutContainer = styled.div`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n`;\r\n\r\nconst PageLayoutDiv = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst PageLayoutContent = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  background: ${(props) => props.theme.brandSecondary} !important;\r\n  padding: 15px;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nconst StyledTabBar = styled(TabBar)`\r\n  .am-tabs-tab-bar-wrap {\r\n    width: 414px;\r\n    height: 83px;\r\n    margin: 95px 0 0;\r\n    padding: 12px 45px 18px 49px;\r\n    background-color: #141414;\r\n  }\r\n`;\r\n\r\nclass PageLayout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: \"redTab\",\r\n      hidden: false,\r\n      fullScreen: false,\r\n    };\r\n  }\r\n\r\n  renderContent(componentChildren) {\r\n    return (\r\n      <PageLayoutDiv>\r\n        <PageLayoutContent>{componentChildren}</PageLayoutContent>\r\n      </PageLayoutDiv>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n      <PageLayoutContainer>\r\n        <StyledTabBar style={{ height: \"83px\" }} hidden={this.state.hidden}>\r\n          <TabBarItem\r\n            title=\"Stats\"\r\n            key=\"Stats\"\r\n            icon={<IoBarChartOutline size={30} />}\r\n            selectedIcon={<IoBarChartOutline size={30} />}\r\n            selected={this.state.selectedTab === \"blueTab\"}\r\n            // badge={1}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"blueTab\",\r\n              });\r\n            }}\r\n            data-seed=\"logId\"\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            icon={<FaCompass size={30} />}\r\n            selectedIcon={<FaCompass size={30} />}\r\n            title=\"OnePlace\"\r\n            key=\"OnePlace\"\r\n            // badge={\"new\"}\r\n            selected={this.state.selectedTab === \"redTab\"}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"redTab\",\r\n              });\r\n            }}\r\n            data-seed=\"logId1\"\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            icon={<IoPulse size={30} />}\r\n            selectedIcon={<IoPulse size={30} />}\r\n            title=\"Orders\"\r\n            key=\"Orders\"\r\n            // dot\r\n            selected={this.state.selectedTab === \"greenTab\"}\r\n            onPress={() => {\r\n              this.setState({\r\n                selectedTab: \"greenTab\",\r\n              });\r\n            }}\r\n          >\r\n            {this.renderContent(this.props.children)}\r\n          </TabBarItem>\r\n        </StyledTabBar>\r\n      </PageLayoutContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTheme(PageLayout);\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, BlockApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"../look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withUserBlocks = (Component) => {\r\n  const WithUserBlocksInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      username,\r\n    } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlocksByUsername(username);\r\n    const { data, loading: userBlockLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const userBlockData = data && data.blocksList;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return (\r\n      <Component\r\n        {...props}\r\n        userBlock={userBlockData}\r\n        userBlockLoading={userBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserBlocksInner);\r\n};\r\n\r\nconst withBlockById = (Component) => {\r\n  const WithBlockByIdInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockById(blockId);\r\n    console.log(\"apiurl\", apiUrl);\r\n    const { data, loading: blockByUsernameLoading, error } = useGet({\r\n      verb: \"GET\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const blockByUsernameData = data && data.block;\r\n    console.log(\"blockbyid\", error);\r\n\r\n    return blockByUsernameLoading ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        blockByUsername={blockByUsernameData}\r\n        blockByUsernameLoading={blockByUsernameLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\r\n};\r\n\r\nconst withAddUserBlock = (Component) => {\r\n  const WithAddBlockInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.postBlock;\r\n\r\n    const { mutate: postBlock, loading: postBlockLoading, error } = useMutate({\r\n      verb: \"POST\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    console.log(\"adduserblock\", error);\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postBlock={postBlock}\r\n        postBlockLoading={postBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddBlockInner);\r\n};\r\n\r\nconst withEditUserBlock = (Component) => {\r\n  const WithEditBlockInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.putBlockById(blockId);\r\n    const { mutate: putBlock, loading: putBlockLoading, error } = useMutate({\r\n      verb: \"PUT\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    console.log(\"edituserblock\", error);\r\n    return (\r\n      <Component\r\n        {...props}\r\n        putBlock={putBlock}\r\n        putBlockLoading={putBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithEditBlockInner);\r\n};\r\n\r\nconst withDeleteUserBlock = (Component) => {\r\n  const WithDeleteBlockInner = ({ ...props }) => {\r\n    const { accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.deleteBlock;\r\n    console.log(\"apiUrl\", apiUrl);\r\n    const {\r\n      mutate: deleteBlock,\r\n      loading: deleteBlockLoading,\r\n      error,\r\n    } = useMutate({\r\n      verb: \"DELETE\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n\r\n\r\n    return (\r\n      <Component\r\n        {...props}\r\n        deleteBlock={deleteBlock}\r\n        deleteBlockLoading={deleteBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithDeleteBlockInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withUserBlocks,\r\n  withAddUserBlock,\r\n  withEditUserBlock,\r\n  withBlockById,\r\n  withDeleteUserBlock,\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport {\r\n  FieldAdapter as Field,\r\n  phoneNumber,\r\n  required,\r\n  minLength,\r\n  validate,\r\n  maxLength,\r\n} from \"../form\";\r\nimport { withFormik } from \"formik\";\r\nimport { FaImages, FaPhotoVideo } from \"react-icons/fa\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { WhiteSpace, Switch } from \"../look/mobile\";\r\nimport {\r\n  Input,\r\n  Form,\r\n  Alert,\r\n  InputArea,\r\n  RenderUpload,\r\n  Button,\r\n  RenderUploadWithCrop,\r\n} from \"../look/web\";\r\n\r\nconst BlockFormContainer = styled.div`\r\n  /* color: white;\r\n  padding: 50px 26px 32px;\r\n  opacity: 0.88;\r\n  border-radius: 20px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.89);\r\n  background-color: transparent; */\r\n`;\r\n\r\nconst Heading = styled.h1`\r\n  /* font-family: CircularStdMedium;\r\n  font-size: 30px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #ffffff; */\r\n`;\r\n\r\nconst LargeHeadingComponent = styled.div`\r\n  /* font-family: CircularStd;\r\n  font-size: 36px;\r\n  font-weight: 900; */\r\n`;\r\n\r\nconst InputStylized = styled(Input)`\r\n  border: solid 2px #d8d8d8;\r\n  border-radius: 7px;\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  height: 60px !important;\r\n  padding: 0 20px;\r\n  font-size: 15px;\r\n  /* background: transparent;\r\n  caret-color: white;\r\n  color: white;\r\n   */\r\n`;\r\n\r\nconst InputAreaStylized = styled(InputArea)`\r\n  background: white !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 120px !important;\r\n  font-size: 15px;\r\n  padding: 10px 20px !important;\r\n  caret-color: black;\r\n  color: black;\r\n  font-family: Rubik;\r\n  /* word-spacing: -3px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  :focus {\r\n    caret-color: black;\r\n    color: black;\r\n    background-color: white !important;\r\n  }\r\n  :-webkit-autofill,\r\n  :-webkit-autofill:hover,\r\n  :-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: black;\r\n    caret-color: black;\r\n    color: black;\r\n    background-color: white !important;\r\n  }\r\n`;\r\n\r\nconst RenderUploadStylized = styled(RenderUploadWithCrop)`\r\n  width: 140px;\r\n  height: 140px;\r\n  border-radius: 30px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.16);\r\n  background-color: #ebebeb;\r\n  overflow: hidden;\r\n  margin: auto;\r\n  .ant-upload-picture-card-wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    .ant-upload-list-picture-card {\r\n      width: 100%;\r\n      height: 100%;\r\n      .ant-upload-list-picture-card-container {\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #ebebeb;\r\n        .ant-upload-list-item-done {\r\n          padding: 0 !important;\r\n          margin: 0 !important;\r\n        }\r\n      }\r\n      .ant-upload-select-picture-card {\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #ebebeb;\r\n        border: 0 !important;\r\n\r\n        .ant-upload-text {\r\n          padding: 10px;\r\n          font-family: Rubik;\r\n          font-weight: normal;\r\n          font-stretch: normal;\r\n          font-style: normal;\r\n          font-size: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst blockFormSchema = {\r\n  title: [required, minLength(5), maxLength(50)],\r\n  thumbnail: [required],\r\n  // media: [required],\r\n  link: [required],\r\n};\r\n\r\nconst BlockForm = (props) => {\r\n  const addBlockFormRef = useRef(null);\r\n  const [load, setload] = useState(false);\r\n  const { values, handleSubmit, errors } = props;\r\n  console.log(\"blockform\", props);\r\n  return (\r\n    <BlockFormContainer>\r\n      <Form name=\"addBlock\" ref={addBlockFormRef} onFinish={handleSubmit}>\r\n        <Field\r\n          name=\"title\"\r\n          component={InputAreaStylized}\r\n          type=\"text\"\r\n          label={\"Name of The Block\"}\r\n          placeholder=\"Name of The Block\"\r\n          value={values.title}\r\n        />\r\n\r\n        <WhiteSpace size=\"xl\" />\r\n        <Field\r\n          name=\"link\"\r\n          component={InputStylized}\r\n          type=\"text\"\r\n          label={\"Paste a Link\"}\r\n          placeholder=\"Paste a Link\"\r\n          value={values.link}\r\n        />\r\n        <WhiteSpace size=\"xl\" />\r\n        <Field\r\n          name=\"isHighlight\"\r\n          component={Switch}\r\n          type=\"text\"\r\n          label={\"Is a Highlight\"}\r\n          placeholder=\"Is a Highlight\"\r\n          value={values.isHighlight}\r\n        />\r\n        <WhiteSpace size=\"xl\" />\r\n        <Flex justify=\"between\">\r\n          <Flex.Item>\r\n            <Field\r\n              name=\"thumbnail\"\r\n              component={RenderUploadStylized}\r\n              type=\"media\"\r\n              aspect={1}\r\n              setload={setload}\r\n              label={\r\n                <React.Fragment>\r\n                  <FaImages size={30} />\r\n                  <br />\r\n                  Upload Thumbnail\r\n                </React.Fragment>\r\n              }\r\n              value={values.thumbnail}\r\n            />\r\n          </Flex.Item>\r\n          {/* <Flex.Item>\r\n            <Field\r\n              name=\"media\"\r\n              component={RenderUploadStylized}\r\n              type=\"media\"\r\n              setload={setload}\r\n              label={\r\n                <React.Fragment>\r\n                  <FaPhotoVideo size={30} />\r\n                  <br />\r\n                  Upload Media\r\n                </React.Fragment>\r\n              }\r\n              value={values.media}\r\n            />\r\n          </Flex.Item> */}\r\n        </Flex>\r\n        <WhiteSpace size=\"xl\" />\r\n        <Button type=\"primary\" block size=\"large\" htmlType=\"submit\">\r\n          Go Live\r\n        </Button>\r\n      </Form>\r\n    </BlockFormContainer>\r\n  );\r\n};\r\n\r\nconst BlockFormWithFormik = withFormik({\r\n  enableReinitialize: true,\r\n  mapPropsToValues: ({ blockData }) => {\r\n    return {\r\n      thumbnail: (blockData && blockData.thumbnail) || null,\r\n      title: (blockData && blockData.title) || \"\",\r\n      link: (blockData && blockData.link) || \"\",\r\n      price: (blockData && blockData.price) || 0,\r\n      question: (blockData && blockData.question) || \"\",\r\n      media: (blockData && blockData.media) || null,\r\n      isHighlight: (blockData && blockData.isHighlight) || false,\r\n    };\r\n  },\r\n\r\n  // handleSubmit: (values, { props: { onSubmit } }) => {\r\n  // },\r\n  handleSubmit: (values, { props: { onSubmit } }) => {\r\n    let modifiedValues = values;\r\n    modifiedValues.thumbnail = values.thumbnail && values.thumbnail._id;\r\n    modifiedValues.media = values.media && values.media._id;\r\n    console.log(\"handleSubmit\", values);\r\n    onSubmit(modifiedValues);\r\n  },\r\n  // validator:{() => ({})}\r\n  validate: (values) => validate(values, blockFormSchema),\r\n  displayName: \"BlockForm\", // helps with React DevTools\r\n});\r\n\r\nexport default withTheme(BlockFormWithFormik(BlockForm));\r\n","import React, { Component } from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { message } from \"antd\";\r\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\r\n\r\nimport { WhiteSpace } from \"../look/mobile\";\r\nimport PageLayout from \"../look/PageLayout\";\r\nimport BlockForm from \"./BlockForm\";\r\nimport { withAddUserBlock } from \"./BlockOperations\";\r\n\r\nconst PageHead = styled.h1`\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 0.86;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #000000;\r\n  /* word-spacing: -8px; */\r\n  position: relative;\r\n`;\r\n\r\nconst FormWrapper = styled.div`\r\n  color: ${(props) => props.theme.textColor};\r\n  position: relative;\r\n`;\r\n\r\nconst BlockAddView = (props) => {\r\n  const { postBlock, history, match } = props;\r\n  console.log(\"blockadd\", props);\r\n  const onSubmit = async (values) => {\r\n    let modifiedValues = values;\r\n    modifiedValues.blockCategory =\r\n      match && match.params && match.params.blockCategoryId;\r\n    console.log(\"addBlock\", modifiedValues);\r\n    try {\r\n      message.loading({\r\n        content: \"Adding Card ...\",\r\n        duration: 0,\r\n      });\r\n      const sending = await postBlock(modifiedValues);\r\n      console.log(sending);\r\n      message.destroy();\r\n      if (sending.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Card Added\",\r\n        });\r\n        history.push(\"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: sending.data.message,\r\n        });\r\n      }\r\n      return sending;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      if (e && e.data && e.data.message) {\r\n        message.error({\r\n          duration: 2,\r\n          content: e && e.data && e.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <PageLayout>\r\n      <WhiteSpace size=\"xl\" />\r\n      <PageHead>\r\n        <AiOutlineArrowLeft\r\n          style={{ position: \"absolute\", top: \"-3px\", left: 0 }}\r\n          onClick={history.goBack}\r\n        />\r\n        Add a new card\r\n      </PageHead>\r\n      <WhiteSpace size=\"xl\" />\r\n      <WhiteSpace size=\"xl\" />\r\n      <BlockForm onSubmit={onSubmit} />\r\n    </PageLayout>\r\n  );\r\n};\r\nexport default withAddUserBlock(withTheme(BlockAddView));\r\n","import React, { Component } from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { message } from \"antd\";\r\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\r\n\r\nimport { WhiteSpace } from \"../look/mobile\";\r\nimport PageLayout from \"../look/PageLayout\";\r\nimport BlockForm from \"./BlockForm\";\r\nimport { withEditUserBlock, withBlockById } from \"./BlockOperations\";\r\n\r\nconst PageHead = styled.h1`\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 0.86;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #000000;\r\n  /* word-spacing: -8px; */\r\n  position: relative;\r\n`;\r\n\r\nconst FormWrapper = styled.div`\r\n  color: ${(props) => props.theme.textColor};\r\n  position: relative;\r\n`;\r\n\r\nconst BlockEditView = (props) => {\r\n  const { putBlock, history, match, blockByUsername } = props;\r\n  console.log(\"blockedit\", props);\r\n  const onSubmit = async (values) => {\r\n    let modifiedValues = values;\r\n    console.log(\"editBlock\", modifiedValues);\r\n    try {\r\n      message.loading({\r\n        content: \"Editing Card ...\",\r\n        duration: 0,\r\n      });\r\n      const sending = await putBlock(modifiedValues);\r\n      console.log(sending);\r\n      message.destroy();\r\n      if (sending.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Card Updated\",\r\n        });\r\n        history.push(\"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: sending.data.message,\r\n        });\r\n      }\r\n      return sending;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      if (e && e.data && e.data.message) {\r\n        message.error({\r\n          duration: 2,\r\n          content: e && e.data && e.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <PageLayout>\r\n      <WhiteSpace size=\"xl\" />\r\n      <PageHead>\r\n        <AiOutlineArrowLeft\r\n          style={{ position: \"absolute\", top: \"-3px\", left: 0 }}\r\n          onClick={history.goBack}\r\n        />\r\n        Edit card\r\n      </PageHead>\r\n      <WhiteSpace size=\"xl\" />\r\n      <WhiteSpace size=\"xl\" />\r\n      <BlockForm onSubmit={onSubmit} blockData={blockByUsername} />\r\n    </PageLayout>\r\n  );\r\n};\r\nexport default withBlockById(withEditUserBlock(withTheme(BlockEditView)));\r\n","import React, { useState } from \"react\";\r\nimport { withFormik, FieldArray } from \"formik\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\nimport { Flex } from \"antd-mobile\";\r\n// import { Persist } from 'formik-persist'\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport * as Yup from \"yup\";\r\nimport { FieldAdapter as Field } from \"../../form\";\r\nimport {\r\n  Input,\r\n  Form,\r\n  Alert,\r\n  InputArea,\r\n  RenderUpload,\r\n  Button as WebButton,\r\n  RenderDynamicFieldSocial,\r\n  RenderUploadWithCrop,\r\n} from \"../../look/web\";\r\nimport { Button, WhiteSpace } from \"../../look/mobile\";\r\n\r\nconst ProfileFormContainer = styled.div`\r\n  color: white;\r\n  padding: 50px 26px 32px;\r\n  opacity: 1;\r\n  border-radius: 20px;\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.89); */\r\n  background-color: transparent;\r\n  .ant-form-item-extra {\r\n    color: white !important;\r\n  }\r\n`;\r\n\r\nconst Heading = styled.h1`\r\n  font-family: Rubik;\r\n  font-size: 30px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst LargeHeadingComponent = styled.div`\r\n  font-family: CircularStd;\r\n  font-size: 36px;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst InputStylized = styled(Input)`\r\n  background: transparent !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 60px !important;\r\n  font-size: 15px;\r\n  padding: 0 20px;\r\n  caret-color: white;\r\n  color: white !important;\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  :focus {\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n  :-webkit-autofill,\r\n  :-webkit-autofill:hover,\r\n  :-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: white;\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n`;\r\n\r\nconst UsernameInputStylized = styled(Input)`\r\n  display: inline;\r\n  background: transparent !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 40px !important;\r\n  font-size: 15px;\r\n  padding: 0 10px;\r\n  caret-color: white;\r\n  color: white;\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  :focus {\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n  :-webkit-autofill,\r\n  :-webkit-autofill:hover,\r\n  :-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: white;\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n`;\r\n\r\nconst InputAreaStylized = styled(InputArea)`\r\n  background: transparent !important;\r\n  border-radius: 7px;\r\n  border: solid 2px #d8d8d8;\r\n  height: 120px !important;\r\n  font-size: 15px;\r\n  padding: 10px 20px !important;\r\n  caret-color: white;\r\n  color: white;\r\n  font-family: Rubik;\r\n  /* word-spacing: -3px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  :focus {\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n  :-webkit-autofill,\r\n  :-webkit-autofill:hover,\r\n  :-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    -webkit-text-fill-color: white;\r\n    caret-color: white;\r\n    color: white;\r\n    background-color: transparent !important;\r\n  }\r\n`;\r\n\r\nconst RenderUploadStylized = styled(RenderUploadWithCrop)`\r\n  width: 140px;\r\n  height: 140px;\r\n  border-radius: 30px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.16);\r\n  background-color: #ffffff;\r\n  overflow: hidden;\r\n  .ant-upload-picture-card-wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    .ant-upload-list-picture-card {\r\n      width: 100%;\r\n      height: 100%;\r\n      .ant-upload-list-picture-card-container {\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: white;\r\n        .ant-upload-list-item-list-type-picture-card {\r\n          padding: 0 !important;\r\n        }\r\n        .ant-upload-list-item-done {\r\n          padding: 0 !important;\r\n          margin: 0 !important;\r\n        }\r\n      }\r\n      .ant-upload-select-picture-card {\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: white;\r\n        border: 0 !important;\r\n\r\n        .ant-upload-text {\r\n          font-family: Rubik;\r\n          font-weight: normal;\r\n          font-stretch: normal;\r\n          font-style: normal;\r\n          font-size: 15px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UsernamePrefix = styled.p`\r\n  color: white;\r\n  font-family: Rubik;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* word-spacing: -3px; */\r\n  margin-top: -4px;\r\n  font-size: 15px;\r\n  text-align: right;\r\n`;\r\nconst profileFormSchema = Yup.object().shape({\r\n  userProfile: Yup.object().shape({\r\n    username: Yup.string().required(\"Required\").matches(/^[A-Za-z0-9 ]+$/, \"Can only use alphabets and numbers\"),\r\n    bio: Yup.string().required(\"Required\"),\r\n    firstName: Yup.string().required(\"Required\"),\r\n  }),\r\n});\r\n\r\nconst ProfileForm = (props) => {\r\n  const [load, setload] = useState(false);\r\n  const { values, handleSubmit, socialMediaCategoryList } = props;\r\n  console.log(\"form values:\", values, socialMediaCategoryList);\r\n  return (\r\n    <ProfileFormContainer>\r\n      <Form name=\"profile\" onFinish={handleSubmit}>\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"-20px\",\r\n            left: \"50%\",\r\n            transform: \"translateX(-70px)\",\r\n          }}\r\n        >\r\n          <Field\r\n            name=\"userProfile.profileImage\"\r\n            component={RenderUploadStylized}\r\n            aspect={1}\r\n            type=\"image\"\r\n            setload={setload}\r\n            label={\"Upload Your Photo\"}\r\n            value={values.userProfile.profileImage}\r\n          >\r\n            <Button\r\n              style={{\r\n                position: \"absolute\",\r\n                bottom: \"-10px\",\r\n                right: \"-10px\",\r\n                zIndex: \"10\",\r\n                width: \"30px\",\r\n                height: \"30px\",\r\n                borderRadius: \"30px\",\r\n                padding: \"0\",\r\n                color: \"#4643D3\",\r\n              }}\r\n            >\r\n              <AiFillEdit\r\n                size=\"20\"\r\n                style={{ position: \"absolute\", top: \"4px\", left: \"4px\" }}\r\n              />\r\n            </Button>\r\n          </Field>\r\n        </div>\r\n        <WhiteSpace size=\"md\" />\r\n        <WhiteSpace size=\"md\" />\r\n        <Flex type=\"wrap\">\r\n          <Flex.Item style={{ flex: 2 }}>\r\n            {\" \"}\r\n            <UsernamePrefix> oneplace.me/</UsernamePrefix>\r\n          </Flex.Item>\r\n          <Flex.Item style={{ flex: 2, marginLeft: \"5px\" }}>\r\n            <Field\r\n              name=\"userProfile.username\"\r\n              component={UsernameInputStylized}\r\n              type=\"text\"\r\n              // prefix=\"www.oneplace.me/\"\r\n              label={\"Username\"}\r\n              placeholder=\"Username\"\r\n              value={values.userProfile.username}\r\n            />\r\n          </Flex.Item>\r\n        </Flex>\r\n\r\n        <Field\r\n          name=\"userProfile.firstName\"\r\n          component={InputStylized}\r\n          type=\"text\"\r\n          label={\"First Name\"}\r\n          placeholder=\"First Name\"\r\n          value={values.userProfile.firstName}\r\n        />\r\n\r\n        <Field\r\n          name=\"userProfile.lastName\"\r\n          component={InputStylized}\r\n          type=\"text\"\r\n          label={\"Last Name\"}\r\n          placeholder=\"Last Name\"\r\n          value={values.userProfile.lastName}\r\n        />\r\n\r\n        <Field\r\n          name=\"userProfile.bio\"\r\n          component={InputAreaStylized}\r\n          type=\"textarea\"\r\n          label={\"Tell a few words about yourself \"}\r\n          placeholder=\"Tell a few words about yourself \"\r\n          value={values.userProfile.bio}\r\n        />\r\n        <FieldArray\r\n          name=\"userProfile.socialMediaLinks\"\r\n          render={(arrayHelpers) => (\r\n            <RenderDynamicFieldSocial\r\n              // quizItem={values}\r\n              arrayHelpers={arrayHelpers}\r\n              values={values.userProfile.socialMediaLinks}\r\n              name=\"userProfile.socialMediaLinks\"\r\n              // quizId={values.id}\r\n              // addSection={addSection}\r\n              // deleteSection={deleteSection}\r\n              // submitQuestion={submitQuestion}\r\n              // deleteQuestion={deleteQuestion}\r\n              // submitSection={submitSection}\r\n              socialMediaCategoryList={socialMediaCategoryList}\r\n            />\r\n          )}\r\n          socialVal={values.userProfile.socialMediaLinks}\r\n        // handleSections={handleSections}\r\n        />\r\n        <WebButton ghost htmlType=\"submit\" size=\"large\" block>\r\n          Submit\r\n        </WebButton>\r\n        {/* <Persist name=\"profile-edit-form\" /> */}\r\n      </Form>\r\n    </ProfileFormContainer>\r\n  );\r\n};\r\n\r\nconst ProfileFormWithFormik = withFormik({\r\n  enableReinitialize: false,\r\n  mapPropsToValues: ({ user }) => {\r\n    function getSocialMediaLinks(socialM) {\r\n      return {\r\n        category: (socialM && socialM.category && socialM.category._id) || \"\",\r\n        link: socialM && socialM.link,\r\n      };\r\n    }\r\n\r\n    return {\r\n      userProfile: {\r\n        username: user && user.username,\r\n        profileImage:\r\n          (user && user.userProfile && user.userProfile.profileImage) || {},\r\n        firstName:\r\n          (user && user.userProfile && user.userProfile.firstName) || \"\",\r\n        lastName: (user && user.userProfile && user.userProfile.lastName) || \"\",\r\n        bio: (user && user.userProfile && user.userProfile.bio) || \"\",\r\n        socialMediaLinks:\r\n          (user &&\r\n            user.userProfile &&\r\n            user.userProfile.socialMediaLinks &&\r\n            user.userProfile.socialMediaLinks.map(getSocialMediaLinks)) ||\r\n          [],\r\n      },\r\n    };\r\n  },\r\n\r\n  handleSubmit(values, { props: { onSubmit, setValues } }) {\r\n    console.log(\"handleSubmit\", values);\r\n    let modifiedValues = values;\r\n    modifiedValues.userProfile.profileImage =\r\n      (values.userProfile &&\r\n        values.userProfile.profileImage &&\r\n        values.userProfile.profileImage._id) ||\r\n      null;\r\n    onSubmit(modifiedValues.userProfile);\r\n  },\r\n  validationSchema: profileFormSchema,\r\n  // validate: (values) => validate(values, profileFormSchema),\r\n  displayName: \"ProfileForm\", // helps with React DevTools\r\n});\r\n\r\nexport default withTheme(ProfileFormWithFormik(ProfileForm));\r\n","import React from \"react\";\r\n// import Avatar from \"react-avatar\";\r\n// import { Flex } from \"antd-mobile\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { message } from \"antd\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\n\r\n// import Loadable from \"react-loadable\";\r\n// import {\r\n//   AiFillFacebook,\r\n//   AiFillInstagram,\r\n//   AiFillLinkedin,\r\n//   AiOutlineWhatsApp,\r\n//   AiFillEdit,\r\n//   AiOutlinePlusCircle,\r\n// } from \"react-icons/ai\";\r\nimport { WhiteSpace } from \"../../look/mobile\";\r\nimport ProfileForm from \"./ProfileForm\";\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-family: Rubik;\r\n  /* word-spacing: -3px; */\r\n  /* font-weight: normal; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  font-size: 22px;\r\n`;\r\n\r\nconst FormWrapper = styled.div`\r\n  color: ${(props) => props.theme.textColor};\r\n  position: relative;\r\n  height: fit-content;\r\n  margin-top: 40px;\r\n  background-color: #4643d3;\r\n  overflow: hidden;\r\n  padding-top: 50px;\r\n`;\r\n\r\nconst ProfileEditView = (props) => {\r\n  const { user, onSubmit, socialMediaCategoryList } = props;\r\n  // setAccessTokene('');\r\n  console.log(\"profileedit\", props);\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: \"20px 0 0 0\",\r\n        width: \"100%\",\r\n        minHeight: \"100vh\",\r\n        position: \"relative\",\r\n        display: \"grid\",\r\n        placeItems: \"center\",\r\n        background: \"white\",\r\n        overflowY: \"scroll\",\r\n      }}\r\n    >\r\n      {\" \"}\r\n      <div\r\n        style={{\r\n          maxWidth: \"500px\",\r\n          minHeight: \"100%\",\r\n          height: \"fit-content\",\r\n          width: \"100%\",\r\n          // overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <PageHead>OnePlace Universe</PageHead>\r\n        <WhiteSpace size=\"xl\" />\r\n        <div align=\"center\">\r\n          <img\r\n            src=\"https://onelinkie.s3.ap-south-1.amazonaws.com/45d5377d-4542-44b1-b6a5-38e8df2ef207-profile_edit.png\"\r\n            width=\"80%\"\r\n            alt=\"login_banner\"\r\n          />\r\n        </div>\r\n        <WhiteSpace size=\"xl\" />\r\n        <FormWrapper>\r\n          <div\r\n            style={{\r\n              height: \"390px\",\r\n              width: \"100%\",\r\n              position: \"absolute\",\r\n              top: \"-2px\",\r\n              left: \"-5px\",\r\n              right: 0,\r\n              zIndex: \"10\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            <img\r\n              style={{\r\n                width: \"100%\",\r\n              }}\r\n              src=\"https://onelinkie.s3.ap-south-1.amazonaws.com/7b5e7196-b731-4b2c-a067-9caf4bda0d75-group-219%403x.png\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              // top: \"0\",\r\n              // left: \"0\",\r\n              position: \"relative\",\r\n              // right: \"0\",\r\n              background: \"transparent\",\r\n              padding: \"80px 20px 0\",\r\n              zIndex: \"12\",\r\n            }}\r\n          >\r\n            <ProfileForm\r\n              user={user}\r\n              onSubmit={onSubmit}\r\n              socialMediaCategoryList={socialMediaCategoryList}\r\n            />\r\n          </div>\r\n        </FormWrapper>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTheme(ProfileEditView);\r\n","import React from \"react\";\r\n// import Avatar from \"react-avatar\";\r\n// import { Flex } from \"antd-mobile\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { message } from \"antd\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n// import { ApiContext, ProfileApiUrls } from \"../../api\";\r\nimport { withCurrentUser } from \"../../auth/Auth\";\r\n// import { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\nimport {\r\n  withAddProfile,\r\n  withSocialMediaCategories,\r\n  withAddSocialMedia,\r\n} from \"../ProfileOperations\";\r\nimport ProfileEditView from \"../components/ProfileEditView\";\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst FormWrapper = styled.div`\r\n  color: ${(props) => props.theme.textColor};\r\n  position: relative;\r\n  height: fit-content;\r\n  margin-top: 40px;\r\n  background-color: #211e28;\r\n`;\r\n\r\nconst ProfileEdit = (props) => {\r\n  const {\r\n    history,\r\n    currentUser,\r\n    postUserProfileMutation,\r\n    putUserProfileMutation,\r\n    socialMediaCategoryList,\r\n    postAddSocialMedia,\r\n  } = props;\r\n  // setAccessTokene('');\r\n\r\n  var profileMutation;\r\n\r\n  if (currentUser && currentUser.userProfile) {\r\n    profileMutation = putUserProfileMutation;\r\n  } else {\r\n    profileMutation = postUserProfileMutation;\r\n  }\r\n  const user = currentUser;\r\n\r\n  const handleSocialLinksSubmission = async (socialMediaLinks) => {\r\n    // var socialSending = [];\r\n\r\n    const promises = await socialMediaLinks.map(async (socia, key) => {\r\n      const responseSend = await postAddSocialMedia(socia);\r\n      console.log(\"responseSocialSEnd\", responseSend);\r\n      return (\r\n        responseSend &&\r\n        responseSend.socialMediaLink &&\r\n        responseSend.socialMediaLink._id\r\n      );\r\n    });\r\n    const socialSending = await Promise.all(promises)\r\n    return socialSending;\r\n  };\r\n\r\n  const onSubmit = async (values) => {\r\n    console.log(\"updateProfile\", values);\r\n    let profileValues = values;\r\n    const socialMediaLinks = profileValues.socialMediaLinks;\r\n    console.log(\r\n      \"onSubmitProfileValues\",\r\n      profileValues,\r\n      socialMediaLinks,\r\n      values\r\n    );\r\n    try {\r\n      message.loading({\r\n        content: \"Updating Profile Info\",\r\n        duration: 0,\r\n      });\r\n      const socialSending = await handleSocialLinksSubmission(socialMediaLinks);\r\n      console.log(\"socialSendingLoop\", socialSending);\r\n      const profileSubmissionObj = {\r\n        ...profileValues,\r\n        socialMediaLinks: socialSending,\r\n      };\r\n      // const profileSubmissionObj = {\r\n      //   bio: \"I am a web developer\",\r\n      //   firstName: \"Lokesh\",\r\n      //   lastName: \"Rana\",\r\n      //   profileImage: null,\r\n      //   socialMediaLinks: [\"5fe9cab0ebe9b40017220f90\"],\r\n      //   username: \"lokeshrana9999\",\r\n      // };\r\n      // // const sending = null;\r\n      console.log(\"profileSubmissionObj\", profileSubmissionObj);\r\n      const sending = await profileMutation(profileSubmissionObj);\r\n      message.destroy();\r\n      if (sending) {\r\n        console.log(\"sendingsending\", sending);\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Profile Updated\",\r\n        });\r\n        history.push(\"/\");\r\n      } else {\r\n        console.log(\"elsesocial\", socialSending);\r\n        socialSending &&\r\n          socialSending.data &&\r\n          sending &&\r\n          sending.data &&\r\n          message.error({\r\n            duration: 2,\r\n            content: `${sending.data.message}`,\r\n          });\r\n      }\r\n      return sending;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      e &&\r\n        e.data &&\r\n        message.error({\r\n          duration: 2,\r\n          content: e.data.message,\r\n        });\r\n    }\r\n  };\r\n\r\n  console.log(\"currentUser\", props);\r\n  return (\r\n    <ProfileEditView\r\n      onSubmit={onSubmit}\r\n      user={currentUser}\r\n      socialMediaCategoryList={socialMediaCategoryList}\r\n    />\r\n  );\r\n};\r\n\r\n// const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n// const mapStateToProps = (state /*, ownProps*/) => {\r\n//   console.log(\"mapstatetoprops\", state);\r\n//   return {\r\n//     accessToken: state.app.accessToken,\r\n//     refreshToken: state.app.refreshToken,\r\n//   };\r\n// };\r\n\r\nexport default withCurrentUser(\r\n  withSocialMediaCategories(withAddProfile(withAddSocialMedia(ProfileEdit)))\r\n);\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, ProfileApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"../look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\nconst withCurrentUserProfile = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getCurrentUserProfile;\r\n    var currentUserProfileLoading = true;\r\n\r\n    var currentUserProfileData;\r\n    const { data, loading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    currentUserProfileLoading = loading;\r\n    currentUserProfileData = data && data.userProfile;\r\n    console.log(data, loading, error);\r\n\r\n    // if (\r\n    //   !currentUserProfileLoading &&\r\n    //   !currentUserProfileData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return currentUserProfileLoading || !currentUserProfileData ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        currentUserProfile={currentUserProfileData}\r\n        currentUserProfileLoading={currentUserProfileLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withAddProfile = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { accessToken, currentUser } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n\r\n    const {\r\n      mutate: postUserProfileMutation,\r\n      loading: postUserProfileLoading,\r\n    } = useMutate({\r\n      verb: \"POST\",\r\n      path: defaultApiUrl + ProfileApiUrls.postUserProfile,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const {\r\n      mutate: putUserProfileMutation,\r\n      loading: putUserProfileLoading,\r\n    } = useMutate({\r\n      verb: \"PUT\",\r\n      path:\r\n        defaultApiUrl +\r\n        ProfileApiUrls.putUserProfile(\r\n          currentUser.userProfile && currentUser.userProfile._id\r\n        ),\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postUserProfileMutation={postUserProfileMutation}\r\n        putUserProfileMutation={putUserProfileMutation}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withAddSocialMedia = (Component) => {\r\n  const WithAddSocialMediaInner = ({ ...props }) => {\r\n    const { accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n\r\n    const {\r\n      mutate: postAddSocialMedia,\r\n      loading: postAddSocialMediaLoading,\r\n    } = useMutate({\r\n      verb: \"POST\",\r\n      path: defaultApiUrl + ProfileApiUrls.postSocialMediaLinks,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postAddSocialMedia={postAddSocialMedia}\r\n        postAddSocialMediaLoading={postAddSocialMediaLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddSocialMediaInner);\r\n};\r\n\r\n\r\n\r\nconst withSocialMediaCategories = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getSocialMediaCategories;\r\n    const {\r\n      data: socialMediaCategories,\r\n      loading: socialMediaCategoriesLoading,\r\n      error,\r\n    } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const socialMediaCategoryList =\r\n      socialMediaCategories && socialMediaCategories.socialMediaCategoryList;\r\n    // if (\r\n    //   !currentUserProfileLoading &&\r\n    //   !currentUserProfileData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return socialMediaCategoriesLoading || !socialMediaCategoryList ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        socialMediaCategoryList={socialMediaCategoryList}\r\n        socialMediaCategoriesLoading={socialMediaCategoriesLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    console.log(\"mapstatetoprops\", state);\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withAddProfile,\r\n  withCurrentUserProfile,\r\n  withSocialMediaCategories,\r\n  withAddSocialMedia\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"react-avatar\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { WhiteSpace } from \"../look/mobile\";\r\n\r\nconst BlockCardWrapper = styled.div`\r\n  padding: 20px;\r\n  background-color: #2c2c2c;\r\n  height: 107px;\r\n  margin-bottom: 20px;\r\n  border-radius: 7px;\r\n  border: solid 1px #f2f2f2;\r\n  background-color: #f8f8f8;\r\n`;\r\n\r\nconst BlockCardTitle = styled.h2`\r\n  font-family: Rubik;\r\n  font-size: 17px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.41;\r\n  letter-spacing: normal;\r\n  text-align: left;\r\n  color: #000000;\r\n`;\r\n\r\nconst BlockCardDescription = styled.p`\r\n  font-family: Rubik;\r\n  font-size: 12px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.58;\r\n  letter-spacing: normal;\r\n  text-align: left;\r\n  color: #000000;\r\n`;\r\n\r\nconst BlockCardAvatarWrapper = styled.div`\r\n  height: 55px;\r\n  width: 55px;\r\n  display: grid;\r\n  place-items: center;\r\n  background: white;\r\n  border-radius: 55px;\r\n  box-shadow: 0 5px 15px 0 rgba(0, 0, 0, 0.09);\r\n`;\r\n\r\nconst BlockCard = (props) => {\r\n  const { blockCategory, key } = props;\r\n  return (\r\n    <Link key={key} to={`/block/add/${blockCategory._id}`}>\r\n      <BlockCardWrapper key={key}>\r\n        <Flex>\r\n          <Flex.Item style={{ flex: 1 }}>\r\n            <div\r\n              style={{\r\n                height: \"100%\",\r\n                width: \"fit-content\",\r\n                display: \"grid\",\r\n                placeItems: \"center\",\r\n              }}\r\n            >\r\n              <BlockCardAvatarWrapper>\r\n                <Avatar\r\n                  size=\"30\"\r\n                  src={\r\n                    blockCategory &&\r\n                    blockCategory.image &&\r\n                    blockCategory.image.url\r\n                  }\r\n                />\r\n              </BlockCardAvatarWrapper>\r\n            </div>\r\n          </Flex.Item>\r\n          <Flex.Item style={{ flex: 3 }}>\r\n            <BlockCardTitle className=\"one-line-limiter\">\r\n              {blockCategory && blockCategory.title}\r\n            </BlockCardTitle>\r\n            <WhiteSpace size=\"sm\" />\r\n            <BlockCardDescription className=\"two-line-limiter\">\r\n              {blockCategory && blockCategory.description}\r\n            </BlockCardDescription>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </BlockCardWrapper>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default withTheme(BlockCard);\r\n","import React, { useContext, useState } from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { useGet } from \"restful-react\";\r\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\r\n\r\nimport { WhiteSpace, Loader } from \"../look/mobile\";\r\nimport { ApiContext, BlockApiUrls } from \"../../api\";\r\nimport BlockCard from \"./BlockCard\";\r\n\r\nconst PageHead = styled.h1`\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 0.86;\r\n  letter-spacing: normal;\r\n  text-align: center;\r\n  color: #000000;\r\n  /* word-spacing: -8px; */\r\n  position: relative;\r\n`;\r\n\r\nconst ChooseBlockCategoryView = (props) => {\r\n  const { history, navigation } = props;\r\n  console.log(\"history\", history);\r\n  const defaultApiUrl = useContext(ApiContext);\r\n  const apiUrl = defaultApiUrl + BlockApiUrls.getBlockCategory;\r\n  const { data, loading } = useGet({\r\n    path: apiUrl,\r\n  });\r\n  const blockCategoryList = data && data.blockCategoryList;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        minHeight: \"100vh\",\r\n        position: \"relative\",\r\n        display: \"grid\",\r\n        placeItems: \"center\",\r\n        background: \"white\",\r\n      }}\r\n    >\r\n      {\" \"}\r\n      <div\r\n        style={{\r\n          padding: \"15px 20px\",\r\n          maxWidth: \"500px\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <WhiteSpace size=\"xl\" />\r\n        <PageHead>\r\n          {\" \"}\r\n          <AiOutlineArrowLeft\r\n            style={{ position: \"absolute\", top: '-3px', left: 0 }}\r\n            onClick={history.goBack}\r\n          />\r\n          Add a new card\r\n        </PageHead>\r\n        <WhiteSpace size=\"xl\" />\r\n        {loading ? (\r\n          <Loader size=\"large\" />\r\n        ) : (\r\n          <div>\r\n            {blockCategoryList && blockCategoryList.length !== 0 ? (\r\n              <div>\r\n                {blockCategoryList.map((blockCat, key) => (\r\n                  <BlockCard blockCategory={blockCat} key={key} />\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <h3>No cards available</h3>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTheme(ChooseBlockCategoryView);\r\n"],"sourceRoot":""}