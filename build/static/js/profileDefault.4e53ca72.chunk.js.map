{"version":3,"sources":["components/block/BlockOperations.jsx","components/look/PageLayout.jsx","components/auth/Auth.jsx","components/profile/ProfileOperations.jsx","components/block/ProfileBlockComponent.jsx","components/block/ProfileBlocks.jsx","components/profile/components/ProfileView.jsx","../../src/types.ts","../../src/index.ts","components/profile/containers/Profile.jsx","components/profile/containers/PublicProfile.jsx"],"names":["withUserBlocks","Component","mapDispatchToProps","setAccessTokene","setRefreshTokene","connect","state","accessToken","app","refreshToken","props","history","username","apiUrl","useContext","ApiContext","BlockApiUrls","getBlocksByUsername","useGet","path","requestOptions","headers","Authorization","data","userBlockLoading","loading","userBlockData","error","blocksList","userBlock","withBlockById","match","blockId","params","getBlockById","verb","blockByIdLoading","blockByIdData","block","blockById","withBlockCategoryList","getBlockCategory","blockCategoryListLoading","blockCategoryList","withBlockCategoryById","blockCategoryId","getBlockCategoryById","blockCategoryLoading","blockCategory","withAddUserBlock","postBlock","useMutate","mutate","postBlockLoading","withEditUserBlock","putBlockById","putBlock","putBlockLoading","withDeleteUserBlock","defaultApiUrl","id","a","fetch","deleteBlock","method","then","response","json","PageLayoutContainer","styled","div","PageLayoutDiv","PageLayoutContent","theme","brandSecondary","StyledTabBar","TabBar","PageLayout","selectedTab","hidden","fullScreen","componentChildren","console","log","this","style","height","title","key","icon","size","color","selectedIcon","selected","onPress","push","setState","data-seed","renderContent","children","React","withRouter","withTheme","withCurrentUser","currentUserLoading","currentUserData","UserApiUrls","getCurrentUser","user","currentUser","withAddProfile","ProfileApiUrls","postUserProfile","postUserProfileMutation","putUserProfile","userProfile","_id","putUserProfileMutation","withAddSocialMedia","postSocialMediaLinks","postAddSocialMedia","postAddSocialMediaLoading","withSocialMediaCategories","getSocialMediaCategories","socialMediaCategories","socialMediaCategoriesLoading","socialMediaCategoryList","withPublicProfileByUsername","UsernameContext","getUserByUsername","userLoading","userData","ProfileCardWrapper","shake","ProfileCardInner","IoTrashBinStylized","IoTrashBin","AiFillEditStylized","AiFillEdit","ProfileCardInnerWrapper","swiped","ProfileCardText","useState","setSwiped","keyItem","self","handleDeleteBlock","swipeControlLeft","swipeControlRight","handlers","useSwipeable","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","getSwipeTrans","getSwipeTranslate","profileCardInn","Item","flex","borderRadius","overflow","src","thumbnail","url","isHighlight","Fragment","onConfirm","onCancel","okText","cancelText","onClick","display","href","isMedia","getValidUrl","link","getPublicCardLink","target","CardListHeadText","h3","textColor","setUserBlockData","useEffect","userBlockDataModif","filter","uBDM","message","content","duration","deleting","destroy","status","success","justify","width","align","textAlign","to","marginBottom","marginRight","marginTop","length","map","ProfileBlockComponent","ProfileName","h1","PageHead","h2","PublicLinkWrapper","ProfileSmallText","p","PageContainer","StyledButton","Button","PageWrapper","paddingTop","position","margin","type","background","bottom","right","zIndex","profileImage","firstName","lastName","bio","socialMediaLinks","socia","category","image","alt","ProfileBlocks","fontSize","LEFT","RIGHT","UP","DOWN","defaultProps","delta","rotationAngle","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","document","rotateXYByAngle","clientX","clientY","onMove","x","y","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","e","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","options","transientState","transientProps","useMemo","getHandlers","stateSetter","updateTransientState"],"mappings":"ocAaMA,EAAiB,SAACC,GACtB,IAiCMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAzCqB,SAAC,GAAkB,IAAbK,EAAY,oBAK1CH,GAEEG,EALFC,QAKED,EAJFD,aAIEC,EAHFP,gBAGEO,EAFFH,aACAK,EACEF,EADFE,SAGIC,EADgBC,qBAAWC,KACFC,IAAaC,oBAAoBL,GATpB,EAUOM,YAAO,CACxDC,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAHhCgB,EAVoC,EAUpCA,KAAeC,EAVqB,EAU9BC,QAMRC,GAhBsC,EAUHC,MAMnBJ,GAAQA,EAAKK,YASnC,OACE,kBAAC3B,EAAD,iBACMS,EADN,CAEEmB,UAAWH,EACXF,iBAAkBA,SAepBM,EAAgB,SAAC7B,GACrB,IA+BMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAvCoB,SAAC,GAAkB,IAAbK,EAAY,oBAKzCH,GAEEG,EALFC,QAKED,EAJFD,aAIEC,EAHFP,gBAGEO,EAFFH,aACAwB,EACErB,EADFqB,MAEIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOD,QAEhDnB,EADgBC,qBAAWC,KACFC,IAAakB,aAAaF,GAVd,EAWQd,YAAO,CACxDiB,KAAM,MACNhB,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAJhCgB,EAXmC,EAWnCA,KAAea,EAXoB,EAW7BX,QAQRY,GAnBqC,EAWFV,MAQnBJ,GAAQA,EAAKe,OAEnC,OAAOF,EACL,kBAAC,IAAD,MAEA,kBAACnC,EAAD,iBACMS,EADN,CAEE6B,UAAWF,EACXD,iBAAkBA,SAepBI,EAAwB,SAACvC,GAC7B,IA6BMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EArC4B,SAAC,GAAkB,IAAbK,EAAY,oBAKjDH,GAEEG,EALFC,QAKED,EAJFD,aAIEC,EAHFP,gBAGEO,EAFFH,aAIIM,GAFFH,EADFqB,MAEoBjB,qBAAWC,KACFC,IAAayB,kBATO,EAUQvB,YAAO,CAChEiB,KAAM,MACNhB,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAJhCgB,EAV2C,EAU3CA,KAAemB,EAV4B,EAUrCjB,QAORkB,GAjB6C,EAUFhB,MAOvBJ,GAAQA,EAAKoB,mBAEvC,OAAOD,EACL,kBAAC,IAAD,MAEA,kBAACzC,EAAD,iBACMS,EADN,CAEEiC,kBAAmBA,EACnBD,yBAA0BA,SAgB5BE,EAAwB,SAAC3C,GAC7B,IA8BMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAtCoB,SAAC,GAAkB,IAAbK,EAAY,oBAKzCH,GAEEG,EALFC,QAKED,EAJFD,aAIEC,EAHFP,gBAGEO,EAFFH,aACAwB,EACErB,EADFqB,MAEIc,EAAkBd,GAASA,EAAME,QAAUF,EAAME,OAAOY,gBAExDhC,EADgBC,qBAAWC,KACFC,IAAa8B,qBAAqBD,GAVtB,EAWY3B,YAAO,CAC5DiB,KAAM,MACNhB,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAJhCgB,EAXmC,EAWnCA,KAAewB,EAXoB,EAW7BtB,QAORuB,GAlBqC,EAWErB,MAOvBJ,GAAQA,EAAKyB,eAEnC,OAAOD,EACL,kBAAC,IAAD,MAEA,kBAAC9C,EAAD,iBACMS,EADN,CAEEsC,cAAeA,EACfD,qBAAsBA,SAexBE,EAAmB,SAAChD,GACxB,IAoBMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EA5BmB,SAAC,GAAkB,IAAbK,EAAY,oBACMH,GAAgBG,EAAxDC,QAAwDD,EAA/CD,aAA+CC,EAAjCP,gBAAiCO,EAAhBH,aAE1CM,EADgBC,qBAAWC,KACFC,IAAakC,UAHF,EAKsBC,YAAU,CACxEhB,KAAM,OACNhB,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAJxB2C,EAL0B,EAKlCE,OAA4BC,EALM,EAKf5B,QALe,EAKYE,MAOtD,OACE,kBAAC1B,EAAD,iBACMS,EADN,CAEEwC,UAAWA,EACXG,iBAAkBA,SAepBC,EAAoB,SAACrD,GACzB,IA0BMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAlCoB,SAAC,GAAkB,IAAbK,EAAY,oBAKzCH,GAEEG,EALFC,QAKED,EAJFD,aAIEC,EAHFP,gBAGEO,EAFFH,aACAwB,EACErB,EADFqB,MAEIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOD,QAEhDnB,EADgBC,qBAAWC,KACFC,IAAauC,aAAavB,GAVd,EAWmBmB,YAAU,CACtEhB,KAAM,MACNhB,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAJxBiD,EAX2B,EAWnCJ,OAA2BK,EAXQ,EAWjBhC,QAXiB,EAWSE,MAOpD,OACE,kBAAC1B,EAAD,iBACMS,EADN,CAEE8C,SAAUA,EACVC,gBAAiBA,SAenBC,EAAsB,SAACzD,GAC3B,IAuCMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EA/CsB,SAAC,GAAkB,IAAbK,EAAY,oBACrCH,EAAgBG,EAAhBH,YACFoD,EAAgB7C,qBAAWC,KAFY,4CAI7C,WAA2B6C,GAA3B,SAAAC,EAAA,sEACeC,MAAMH,EAAgB3C,IAAa+C,YAAYH,GAAK,CAC/DI,OAAQ,SACR3C,QAAQ,CAAEC,cAAc,UAAD,OAAYf,MAClC0D,MAAK,SAAAC,GAAQ,OACdA,EAASC,OAAOF,MAAK,SAAAE,GACnB,OAAOA,QANb,oFAJ6C,sBA+B7C,OACE,kBAAClE,EAAD,iBACMS,EADN,CAEEqD,YAlCyC,oD,m3BCnPjD,IAAMK,EAAsBC,IAAOC,IAAV,KAUnBC,EAAgBF,IAAOC,IAAV,KAMbE,EAAoBH,IAAOC,IAAV,KAGP,SAAC5D,GAAD,OAAWA,EAAM+D,MAAMC,kBAKjCC,EAAeN,YAAOO,IAAPP,CAAH,KAUZQ,E,kDACJ,WAAYnE,GAAQ,IAAD,8BACjB,cAAMA,IACDJ,MAAQ,CACXwE,YAAa,WACbC,QAAQ,EACRC,YAAY,GALG,E,0DASLC,GACZ,OACE,kBAACV,EAAD,KACE,kBAACC,EAAD,KAAoBS,M,+BAKhB,IAAD,OACPC,QAAQC,IAAI,aAAcC,KAAK1E,OADxB,MAKH0E,KAAK1E,MAFES,EAHJ,EAGLY,MAASZ,KACTR,EAJK,EAILA,QAEF,OACE,6BACE,kBAACyD,EAAD,KACE,kBAACO,EAAD,CAAcU,MAAO,CAAEC,OAAQ,QAAUP,OAAQK,KAAK9E,MAAMyE,QAC1D,kBAAC,IAAD,CACEQ,MAAM,QACNC,IAAI,QACJC,KAAM,kBAAC,IAAD,CAAmBC,KAAM,GAAIC,MAAM,SACzCC,aAAc,kBAAC,IAAD,CAAmBF,KAAM,GAAIC,MAAM,UACjDE,SAAmB,gBAAT1E,EAEV2E,QAAS,WACPnF,EAAQoF,KAAK,eACb,EAAKC,SAAS,CAAElB,YAAa,iBAE/BmB,YAAU,SAETb,KAAKc,cAAcd,KAAK1E,MAAMyF,WAGjC,kBAAC,IAAD,CACEV,KAAM,kBAAC,IAAD,CAAWC,KAAM,GAAIC,MAAM,SACjCC,aAAc,kBAAC,IAAD,CAAWF,KAAM,GAAIC,MAAM,UACzCJ,MAAM,WACNC,IAAI,WAEJK,SAAmB,aAAT1E,EACV2E,QAAS,WACPnF,EAAQoF,KAAK,YACb,EAAKC,SAAS,CAAElB,YAAa,cAE/BmB,YAAU,UAETb,KAAKc,cAAcd,KAAK1E,MAAMyF,WAGjC,kBAAC,IAAD,CACEV,KAAM,kBAAC,IAAD,CAASC,KAAM,GAAIC,MAAM,SAC/BC,aAAc,kBAAC,IAAD,CAASF,KAAM,GAAIC,MAAM,UACvCJ,MAAM,SACNC,IAAI,QAEJK,SAAmB,cAAT1E,EACV2E,QAAS,WACPnF,EAAQoF,KAAK,aACb,EAAKC,SAAS,CAAElB,YAAa,gBAG9BM,KAAKc,cAAcd,KAAK1E,MAAMyF,kB,GAxEpBC,IAAMnG,WAiFhBoG,gBAAWC,YAAUzB,K,iCChIpC,iGAaM0B,EAAkB,SAACtG,GACvB,IAiCMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAzCe,SAAC,GAAkB,IAInCmG,EAEAC,EANsB/F,EAAY,oBACUH,GAAgBG,EAAxDC,QAAwDD,EAA/CD,aAA+CC,EAAjCP,gBAAiCO,EAAhBH,aAE1CM,EADgBC,qBAAWC,KACF2F,IAAYC,eAHL,EAOLzF,YAAO,CACtCC,KAAMN,EACNO,eAAe,CACbC,QAAQ,CAAEC,cAAc,UAAD,OAAYf,OAH/BgB,EAP8B,EAO9BA,KAAME,EAPwB,EAOxBA,QAPwB,EAOfE,MAgBvB,OAVA6E,EAAqB/E,EACrBgF,EAAkBlF,GAAQA,EAAKqF,KASxBJ,IAAuBC,EAC5B,kBAAC,IAAD,MAEA,kBAACxG,EAAD,iBACMS,EADN,CAEEmG,YAAaJ,EACbD,mBAAoBA,U,iCC3C5B,uMAyDMM,EAAiB,SAAC7G,GACtB,IA2CMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAnDe,SAAC,GAAkB,IAAbK,EAAY,oBAC9BH,EAA6BG,EAA7BH,YAAasG,EAAgBnG,EAAhBmG,YACflD,EAAgB7C,qBAAWC,KAFK,EAOlCoC,YAAU,CACZhB,KAAM,OACNhB,KAAMwC,EAAgBoD,IAAeC,gBACrC5F,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAN9B0G,EAL4B,EAKpC7D,OALoC,KAMpC3B,QAWE0B,YAAU,CACZhB,KAAM,MACNhB,KACEwC,EACAoD,IAAeG,eACbL,EAAYM,aAAeN,EAAYM,YAAYC,KAEvDhG,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,QAV9B8G,EAf4B,EAepCjE,OAfoC,EAgBpC3B,QAmBF,OACE,kBAACxB,EAAD,iBACMS,EADN,CAEEuG,wBAAyBA,EACzBI,uBAAwBA,SAe1BC,EAAqB,SAACrH,GAC1B,IAsBMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EA9ByB,SAAC,GAAkB,IAAbK,EAAY,oBACxCH,EAAgBG,EAAhBH,YACFoD,EAAgB7C,qBAAWC,KAFe,EAO5CoC,YAAU,CACZhB,KAAM,OACNhB,KAAMwC,EAAgBoD,IAAeQ,qBACrCnG,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OAN9BiH,EALsC,EAK9CpE,OACSqE,EANqC,EAM9ChG,QAQF,OACE,kBAACxB,EAAD,iBACMS,EADN,CAEE8G,mBAAoBA,EACpBC,0BAA2BA,SAiB7BC,EAA4B,SAACzH,GACjC,IAiCMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAzCe,SAAC,GAAkB,IAAbK,EAAY,oBACUH,GAAgBG,EAAxDC,QAAwDD,EAA/CD,aAA+CC,EAAjCP,gBAAiCO,EAAhBH,aAE1CM,EADgBC,qBAAWC,KACFgG,IAAeY,yBAHR,EAQlCzG,YAAO,CACTC,KAAMN,EACNO,eAAgB,CACdC,QAAS,CAAEC,cAAc,UAAD,OAAYf,OANhCqH,EAL8B,EAKpCrG,KACSsG,EAN2B,EAMpCpG,QAQIqG,GAdgC,EAOpCnG,MAQAiG,GAAyBA,EAAsBE,yBAQjD,OAAOD,IAAiCC,EACtC,kBAAC,IAAD,MAEA,kBAAC7H,EAAD,iBACMS,EADN,CAEEoH,wBAAyBA,EACzBD,6BAA8BA,SAehCE,EAA8B,SAAC9H,GACnC,IA+BMC,EAAqB,CAAEC,oBAAiBC,sBAQ9C,OAAOC,aAPiB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAIIP,EAAzBG,EAvCe,SAAC,GAAkB,IAAbK,EAAY,oBAC9BH,EAAeG,EAAfH,YACFK,EAAWE,qBAAWkH,KAEtBnH,EADgBC,qBAAWC,KACF2F,IAAYuB,kBAAkBrH,GAJvB,EAMOM,YAAO,CAClDC,KAAMN,EACNO,eAAe,CACbC,QAAQ,CAAEC,cAAc,UAAD,OAAYf,OAH/BgB,EAN8B,EAM9BA,KAAc2G,EANgB,EAMxBzG,QAMR0G,GAZgC,EAMHxG,MAMlBJ,GAAQA,EAAKqF,MAS9B,OAAOsB,EACL,kBAAC,IAAD,MAEA,kBAACjI,EAAD,iBACMS,EADN,CAEEkG,KAAMuB,EACND,YAAaA,U,ywEChNrB,IAAME,EAAqB/D,IAAOC,IAAV,KAWT,SAAC5D,GAAD,OACXA,EAAM2H,MACF,uDACA,UAiCFC,EAAmBjE,IAAOC,IAAV,KAUhBiE,EAAqBlE,YAAOmE,IAAPnE,CAAH,KASlBoE,EAAqBpE,YAAOqE,IAAPrE,CAAH,KASlBsE,EAA0BtE,IAAOC,IAAV,KAEH,SAAC5D,GAAD,OAAWA,EAAMkI,UAMrCC,EAAkBxE,IAAOC,IAAV,KAuBrB,IAsFegC,eAtFK,SAAC5F,GAAW,IAAD,EACDoI,mBAAS,UADR,mBACtBF,EADsB,KACdG,EADc,KAErBzG,EAAqD5B,EAArD4B,MAAO0G,EAA8CtI,EAA9CsI,QAASC,EAAqCvI,EAArCuI,KAAMC,EAA+BxI,EAA/BwI,kBAAmBvI,EAAYD,EAAZC,QAE3CwI,EACO,WAAXP,GAAkC,SAAXA,EAAoB,OAAS,SAChDQ,EACO,WAAXR,GAAkC,UAAXA,EAAqB,QAAU,SAElDS,EAAWC,uBAAa,CAC5BC,aAAc,kBAAMR,EAAUI,IAC9BK,cAAe,kBAAMT,EAAUK,IAC/BK,8BAA8B,EAC9BC,YAAY,IAGRC,EA1BR,SAA2BV,EAAML,GAC/B,OAAKK,GAASA,GAAmB,WAAXL,EACb,MACa,UAAXA,EACF,OACa,SAAXA,EACF,aADF,EAqBegB,CAAkBX,EAAML,GAExCiB,EACJ,kBAACvB,EAAD,CAAkBM,OAAQA,GACxB,kBAAC,IAAD,KACE,kBAAC,IAAKkB,KAAN,CAAWzE,MAAO,CAAE0E,KAAM,aACxB,kBAAC,IAAD,CACErE,KAAK,KACLL,MAAO,CAAE2E,aAAc,OAAQC,SAAU,UACzCC,IAAK5H,GAASA,EAAM6H,WAAa7H,EAAM6H,UAAUC,OAGrD,kBAAC,IAAKN,KAAN,CAAWzE,MAAO,CAAE0E,KAAM,IACxB,kBAAClB,EAAD,KAAkBvG,GAASA,EAAMiD,UAiBzC,OADAL,QAAQC,IAAI,aAAc7C,GAExB,kBAAC8F,EAAD,iBACMiB,EADN,CAEEL,QAASA,EACTX,OAAQY,GAAQ3G,GAASA,EAAM+H,cAE9BpB,GACC,kBAAC,IAAMqB,SAAP,KACE,kBAAC,IAAD,CACE/E,MAAM,oCACNgF,UAAW,kBAAMrB,EAAkB5G,GAASA,EAAM8E,MAClDoD,SAAU,kBAAMtF,QAAQC,IAAI,aAC5BsF,OAAO,MACPC,WAAW,MAEX,kBAACnC,EAAD,OAEF,kBAACE,EAAD,CACEkC,QAAS,kBAAMhK,EAAQoF,KAAR,sBAA4BzD,GAASA,EAAM8E,UAIhE,kBAACuB,EAAD,CAAyBC,OAAQe,GAC9BV,EACC,kBAAC,IAAMqB,SAAP,KAAiBT,GAEjB,uBACExE,MAAO,CAAEuF,QAAS,SAClB5B,QAASA,EACT6B,KAxCgB,WAAO,IACvB7H,EAAkBV,EAAlBU,cAOR,OALIA,GAAiBA,EAAc8H,QAC9B,2CAAuCxI,GAASA,EAAM8E,KAEnD2D,YAAYzI,GAASA,EAAM0I,MAkCrBC,GACNC,QAASjC,GAAQ,UAEhBY,Q,uUC1Lb,IAAMsB,EAAmB9G,IAAO+G,GAAV,KACX,SAAC1K,GAAD,OAAWA,EAAM+D,MAAM4G,aAgHnBrL,cAAe0D,YAAoB4C,aAnGlC,SAAC5F,GAAW,IAClBuI,EAAmEvI,EAAnEuI,KAAMpH,EAA6DnB,EAA7DmB,UAAWL,EAAkDd,EAAlDc,iBAAkBuC,EAAgCrD,EAAhCqD,YAAapD,EAAmBD,EAAnBC,QAD/B,GACkDD,EAAV+D,MAEvBqE,mBAAS,OAH1B,mBAGlBpH,EAHkB,KAGH4J,EAHG,KAKzBC,qBAAU,WACRD,EAAiBzJ,KAChB,CAACA,EAAWyJ,IAEf,IAAMpC,EAAiB,uCAAG,WAAOtF,GAAP,iBAAAC,EAAA,6DAExB2H,GADIA,EAAqB9J,GACe+J,QACtC,SAACC,GAAD,OAAUA,GAAQA,EAAKtE,MAAQxD,KAHT,SAMtB+H,IAAQlK,QAAQ,CACdmK,QAAS,oBACTC,SAAU,IARU,SAUC9H,EAAYH,GAVb,cAUhBkI,EAVgB,OAWtBH,IAAQI,WACgB,IAApBD,EAASE,QACXL,IAAQM,QAAQ,CACdJ,SAAU,EACVD,QAAS,iBAEXN,EAAiBE,IAGjBG,IAAQhK,MAAM,CACZkK,SAAU,EACVD,QAASE,EAASvK,KAAKoK,UAtBL,kBAyBfG,GAzBe,kCA2BtBH,IAAQI,UACR7G,QAAQC,IAAI,QAAZ,MACI,MAAK,KAAE5D,MAAQ,KAAEA,KAAKoK,SACxBA,IAAQhK,MAAM,CACZkK,SAAU,EACVD,QAAS,MAAK,KAAErK,MAAQ,KAAEA,KAAKoK,UAhCb,0DAAH,sDAqCvB,OACE,6BACG1C,GACC,kBAAC,IAAMqB,SAAP,KACE,kBAAC,IAAD,CAAM4B,QAAQ,UAAU7G,MAAO,CAAE8G,MAAO,SACtC,kBAAC,IAAKrC,KAAN,KACE,kBAACqB,EAAD,oBAGF,kBAAC,IAAKrB,KAAN,CAAWsC,MAAM,SACf,kBAACjB,EAAD,CAAkB9F,MAAO,CAAEgH,UAAW,UACpC,kBAAC,IAAD,CAAMC,GAAG,0BACP,kBAAC,IAAD,CACEjH,MAAO,CACLkH,aAAc,OACdC,YAAa,MACbH,UAAW,WALjB,iBAaN,kBAAClB,EAAD,CAAkB9F,MAAO,CAAEgH,UAAW,SAAUI,UAAW,SAA3D,8CAKJ,6BACCjL,GAAoB,kBAAC,IAAD,OACnBA,GAAoBE,GAA0C,IAAzBA,EAAcgL,OACjDhL,EAAciL,KAAI,SAACrK,EAAOkD,GAAR,OAChB,kBAAC,IAAM8E,SAAP,KACE,kBAACsC,EAAD,CACE1D,kBAAmBA,EACnBF,QAASxD,EACTlD,MAAOA,EACP2G,KAAMA,EACNtI,QAASA,SAIda,GACC,kBAAC2J,EAAD,CACE9F,MAAO,CAAEgH,UAAW,SAAUI,UAAW,SAD3C,kB,6qDClGZ,IAAMI,EAAcxI,IAAOyI,GAAV,KAEN,SAACpM,GAAD,OAAWA,EAAM+D,MAAM4G,aAO5B0B,EAAW1I,IAAO2I,GAAV,KACH,SAACtM,GAAD,OAAWA,EAAM+D,MAAM4G,aAO5B4B,EAAoB5I,IAAOC,IAAV,KACT,SAAC5D,GAAD,OAAWA,EAAM+D,MAAM4G,aAoB/B6B,EAAmB7I,IAAO8I,EAAV,KAGX,SAACzM,GAAD,OAAWA,EAAM+D,MAAM4G,aAW5B+B,EAAgB/I,IAAO8I,EAAV,KAWbE,EAAehJ,YAAOiJ,IAAPjJ,CAAH,KAmJZnE,EAAqB,CAAEC,oBAAiBC,sBAO/BC,iBANS,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,aAAcH,EAAME,IAAIC,gBAGYP,EAAzBG,CAA6CiG,aA9I5C,SAAC5F,GAAW,IAClByH,EAAsEzH,EAAtEyH,SAAUc,EAA4DvI,EAA5DuI,KAAa9I,GAA+CO,EAAtD+D,MAAsD/D,EAA/CP,iBAAiBC,EAA8BM,EAA9BN,iBAAkBO,EAAYD,EAAZC,QAC1DC,EAAauH,EAAbvH,SAEF2M,EAActE,EAAOpE,IAAauI,EAExC,OACE,6BACE,kBAACG,EAAD,KACGtE,GAAQ,kBAAC8D,EAAD,0BAER9D,GACC,uBAAGiC,OAAO,SAASL,KAAI,kBAAajK,EAAb,iBACrB,kBAACqM,EAAD,KACE,kBAAC,IAAD,CAAMf,QAAQ,UAAU7G,MAAO,CAAE8G,MAAO,SACtC,kBAAC,IAAKrC,KAAN,CACEzE,MAAO,CAAE0E,KAAM,IADjB,UAEKnJ,EAFL,iBAEyC,IACzC,kBAAC,IAAKkJ,KAAN,CAAWsC,MAAM,QAAQ/G,MAAO,CAAEmI,WAAY,QAC5C,kBAAC,IAAD,CAAqB9H,KAAM,SAMrC,yBACEL,MAAO,CACLoI,SAAU,WACVtB,MAAO,cACPuB,OAAQ,eAEVtB,MAAM,UAELnD,GACC,kBAAC,IAAD,CAAMqD,GAAG,iBACP,kBAAC,IAAD,CACEqB,KAAK,UACLtI,MAAO,CACLuI,WAAY,UACZH,SAAU,WACVI,OAAQ,QACRC,MAAO,QACPC,OAAQ,KACR5B,MAAO,OACP7G,OAAQ,OACR0E,aAAc,SAGhB,kBAAC,IAAD,CAAYtE,KAAK,SAIvB,kBAAC,IAAD,CACEA,KAAK,MACLL,MAAO,CAAE2E,aAAc,OAAQC,SAAU,UACzCC,IACE/B,GACAA,EAAShB,aACTgB,EAAShB,YAAY6G,cACrB7F,EAAShB,YAAY6G,aAAa5D,OAIxC,kBAACyC,EAAD,KACG1E,GAAYA,EAAShB,aAAegB,EAAShB,YAAY8G,UAAW,IACpE9F,GAAYA,EAAShB,aAAegB,EAAShB,YAAY+G,UAE5D,kBAAChB,EAAD,KACG/E,GAAYA,EAAShB,aAAegB,EAAShB,YAAYgH,KAE5D,6BACA,yBAAK/B,MAAM,UACT,kBAAC,IAAD,CAAMF,QAAQ,SAAS7G,MAAO,CAAE8G,MAAO,QACpChE,GACCA,EAAShB,aACTgB,EAAShB,YAAYiH,kBACrBjG,EAAShB,YAAYiH,iBAAiBzB,KAAI,SAAC0B,EAAO7I,GAAR,OACxC,uBACEqF,KAAME,YAAYsD,GAASA,EAAMrD,MACjCE,OAAO,SACP1F,IAAKA,GAEL,yBAAK4G,MAAM,SAAS/G,MAAO,CAAEqI,OAAQ,UACnC,yBACEpI,OAAO,OACP6G,MAAM,OACNjC,IACEmE,GACAA,EAAMC,UACND,EAAMC,SAASC,OACfF,EAAMC,SAASC,MAAMnE,IAEvBoE,IAAI,YAuBlB,6BACA,kBAACC,EAAD,CAAexF,KAAMA,EAAMrI,SAAUA,EAAUD,QAASA,IACxD,6BACCsI,GACC,kBAACoE,EAAD,CACEM,KAAK,UACLlI,KAAM,kBAAC,IAAD,CAAiBJ,MAAO,CAAEqJ,SAAU,UAC1C/D,QAAS,WACPxK,EAAgB,IAChBC,EAAiB,MALrB,kB,sPCjNGuO,EAAO,OACPC,EAAQ,QACRC,EAAK,KACLC,EAAO,OC8BdC,EAAe,CACnBC,MADmB,GAEnBvF,8BAFmB,EAGnBwF,cAHmB,EAInBvF,YAJmB,EAKnBwF,YAAY,GAERC,EAA+B,CACnCC,OADmC,EAEnCC,QAAS,CAAC,EAFyB,GAGnCC,MAHmC,EAInCC,SAJmC,EAKnCC,GAAI,CAAC,EAAG,IAEJC,EAAN,YACMC,EAAN,UACMC,EAAN,WACMC,EAAN,YACMC,EAAN,aAEA,oBAME,OAAIC,EAAJ,EACMC,EAAJ,EACE,EAEF,EACSC,EAAJ,EACL,EAEF,EAGF,gBACE,OAAIC,EAAa,OAAOC,EACxB,IAAMC,EAAkBC,QAAD,IAAvB,EAKA,MAAO,CAHLF,KAASE,SAATF,GAAoCA,KAASE,SAD/C,GAGEF,KAASE,SAATF,GAAoCA,KAASE,SAD/C,IAKF,gBAUE,IAAMC,EAAU,SAACC,GAEXA,GAAS,YAATA,GAA+BA,iBAAnC,GAEAC,GAAI,cAEE7P,EAAJ,aACE8P,+BACAA,gC,MAGA,YAAaF,EAAQA,UAArB,GAAwCA,EACpCd,EAAKiB,EAAgB,CAFnBC,UAASC,WAE8BjQ,EAA/C,eACA,iBAGE2O,QAAS,GAAF,OAHT,GAIEG,GAJF,EAKEF,MAAOgB,aAAmB,QAK1BM,EAAS,SAACN,GACdC,GAAI,cAGF,GAAI,YAAaD,GAASA,iBAA1B,EACE,S,MAGA,YAAaA,EAAQA,UAArB,GAAwCA,E,EAC3BG,EAAgB,CAFvBC,UAASC,WAEkCjQ,EAArB,eAAvBmQ,OAAGC,OACJf,EAASc,EAAIvQ,KAAnB,GACM0P,EAASc,EAAIxQ,KAAnB,GACMwP,EAAOM,SAAb,GACMW,EAAOX,SAAb,GACMY,GAAQV,aAAD,GAAyBhQ,EAAtC,MACM2Q,EAAWb,UAAUN,IAAciB,EAAxBX,IAAwCY,GAAzD,GACME,EAAgB,CAACnB,GAAUiB,GAAX,GAAuBhB,GAAUgB,GAAvD,IAGA,GAAIlB,EAAOpP,EAAPoP,OAAsBiB,EAAOrQ,EAA7BoP,QAA6CxP,EAAjD,QACE,OAAOA,EAET,IAAM6Q,EAAMC,EAAatB,EAAMiB,EAAMhB,EAArC,GACMsB,EAAY,CAChBvB,KADgB,EAEhBiB,KAFgB,EAGhBhB,OAHgB,EAIhBC,OAJgB,EAKhBmB,IALgB,EAMhBb,MANgB,EAOhBlB,MAAO9O,EAPS,MAQhB+O,QAAS/O,EARO,QAShB2Q,SATgB,EAUhBC,QAGFxQ,aAAmBA,YAAnBA,GAIA,IAAI4Q,GAAJ,EAaA,OAZI5Q,aAAmBA,EAAnBA,UAAqC,gBAAzC,KACE4Q,MAIAA,GACA5Q,EADA4Q,8BAEA5Q,EAFA4Q,YAGAhB,EAJF,YAMEA,mBAEF,QAGElB,OAHF,EAIEiC,UAJF,EAKE9B,SAAS,QAKTgC,EAAQ,SAACjB,GACbC,GAAI,cACF,MACA,GAAIjQ,WAAiBA,EAArB,UAAsC,CACpC+Q,EAAY,EAAH,GAAQ/Q,EAAR,WAAyBgQ,UAClC5P,YAAkBA,WAAlBA,GAEA,IAAM8Q,EAAc,WAAWH,EAA/B,IACIG,KAAJ,GACI9Q,aAGJA,SAAeA,EAAA,MAAY,CAAE4P,UAE/B,iBAAoCe,kBAIlCI,EAAe,WAEnBjB,kCACAA,mCAGIkB,EAAO,SAACC,GACZF,IACAF,MAWIK,EAA2B,SAACC,EAAIC,GACpC,IAAIC,EAAU,aACd,GAAIF,GAAMA,EAAV,iBAA+B,CAE7B,IAAMG,EAGA,CACJ,CAACnC,EADG,GAEJ,CAACD,EAFG,GAGJ,CAACD,EANH,IAQAqC,WAAY,gBAAEL,EAAF,KAAKM,EAAL,YAAYJ,EAAA,iBAAAF,EAAA,EAA0B,CAAEG,eAEpDC,EAAU,kBAAMC,EAAA,SAAY,gBAAEL,EAAF,KAAKM,EAAL,YAAYJ,wBAAZ,OAE9B,UA+BIK,EAA8D,CAClEC,IA7BY,SAACN,GAGb,OAAIA,GACJtB,GAAI,cAEF,GAAIjQ,OAAJ,EAAqB,OAAOA,EAE5B,IAAM8R,EAAN,GAeA,OAbI9R,MAAYA,OAAZA,GAA+BA,EAAnC,eACEA,iBACA8R,uBAGE1R,cAAJ,IACE0R,eAAwBR,EAAY,GAEjClR,EAFH0R,+BAOF,QAAmBP,MAAnB,QAcJ,OAJIQ,EAAJ,aACEH,iBAGK,CAACA,EAAR,GAGF,kBAKE,IAAME,EAAN,GAcA,OAZK1R,EAAD,YAAqBJ,EAAzB,cACEA,iBACA8R,uBACS1R,eAAqBJ,EAAzB,cAEDA,EAAJ,KACE8R,eAAwBR,EACtBtR,EADiC,IAEhCI,EAFH0R,+BAMJ,UAGF,SAAgB9I,EAAagJ,G,IACnB5I,EAAe4I,EAAf5I,WACF6I,EAAiBnM,EAAMA,OAAOA,EAAbA,GAAvB,IACMoM,EAAiBpM,EAAMA,OAANA,KAAvB,IAGAoM,oB,MAEgCpM,EAAMqM,SACpC,kBACEC,GACE,mBACGH,UAAyBI,EACxBJ,EADmC,QAEnCC,EAHJ,WAKA,CAAE9I,iBAEN,CAV8B,IAAzBL,OAAUuI,OAmBjB,OANAW,UAAyBK,EACvBL,EAD2C,QAE3CC,EAF2C,QAA7CD,GAMA,E,+FCnUF,6CAgBehM,uBARC,SAAC7F,GAAW,IAClBmG,EAAyBnG,EAAzBmG,YAAalG,EAAYD,EAAZC,QAIrB,OAHIkG,IAAgBA,EAAYM,aAC9BxG,EAAQoF,KAAK,iBAER,kBAAC,IAAD,CAAaoC,SAAUtB,EAAalG,QAASA,EAASsI,MAAM,Q,iCCbrE,qDA2BelB,uBAnBO,SAACrH,GAAW,IACxBkG,EAAkBlG,EAAlBkG,KAAMjG,EAAYD,EAAZC,QACd,OAAKiG,EAcE,kBAAC,IAAD,CAAauB,SAAUvB,EAAMjG,QAASA,EAASsI,MAAM,IAZxD,6BACE,wBAAI5D,MAAO,CAAEgH,UAAW,WAAxB,sBACA,6BACA,6BACA,6BACA,6BACA,kBAAC,IAAD,CAAQsB,KAAK,UAAU9C,KAAK,IAAInF,KAAK,KAAKpD,OAAK,GAA/C","file":"static/js/profileDefault.4e53ca72.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, BlockApiUrls } from \"@api\";\r\nimport { PageLoader } from \"@look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withUserBlocks = (Component) => {\r\n  const WithUserBlocksInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      username,\r\n    } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlocksByUsername(username);\r\n    const { data, loading: userBlockLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const userBlockData = data && data.blocksList;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return (\r\n      <Component\r\n        {...props}\r\n        userBlock={userBlockData}\r\n        userBlockLoading={userBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserBlocksInner);\r\n};\r\n\r\nconst withBlockById = (Component) => {\r\n  const WithBlockByIdInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockById(blockId);\r\n    const { data, loading: blockByIdLoading, error } = useGet({\r\n      verb: \"GET\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    // console.log('withBLockQuery', blockByIdLoading, data);\r\n    const blockByIdData = data && data.block;\r\n\r\n    return blockByIdLoading ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        blockById={blockByIdData}\r\n        blockByIdLoading={blockByIdLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\r\n};\r\n\r\nconst withBlockCategoryList = (Component) => {\r\n  const WithBlockCategoryListInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockCategory;\r\n    const { data, loading: blockCategoryListLoading, error } = useGet({\r\n      verb: \"GET\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const blockCategoryList = data && data.blockCategoryList;\r\n\r\n    return blockCategoryListLoading ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        blockCategoryList={blockCategoryList}\r\n        blockCategoryListLoading={blockCategoryListLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockCategoryListInner);\r\n};\r\n\r\n\r\nconst withBlockCategoryById = (Component) => {\r\n  const WithBlockByIdInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockCategoryId = match && match.params && match.params.blockCategoryId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.getBlockCategoryById(blockCategoryId);\r\n    const { data, loading: blockCategoryLoading, error } = useGet({\r\n      verb: \"GET\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const blockCategory = data && data.blockCategory;\r\n\r\n    return blockCategoryLoading ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        blockCategory={blockCategory}\r\n        blockCategoryLoading={blockCategoryLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithBlockByIdInner);\r\n};\r\n\r\nconst withAddUserBlock = (Component) => {\r\n  const WithAddBlockInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.postBlock;\r\n\r\n    const { mutate: postBlock, loading: postBlockLoading, error } = useMutate({\r\n      verb: \"POST\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postBlock={postBlock}\r\n        postBlockLoading={postBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddBlockInner);\r\n};\r\n\r\nconst withEditUserBlock = (Component) => {\r\n  const WithEditBlockInner = ({ ...props }) => {\r\n    const {\r\n      history,\r\n      refreshToken,\r\n      setAccessTokene,\r\n      accessToken,\r\n      match,\r\n    } = props;\r\n    const blockId = match && match.params && match.params.blockId;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + BlockApiUrls.putBlockById(blockId);\r\n    const { mutate: putBlock, loading: putBlockLoading, error } = useMutate({\r\n      verb: \"PUT\",\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    return (\r\n      <Component\r\n        {...props}\r\n        putBlock={putBlock}\r\n        putBlockLoading={putBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithEditBlockInner);\r\n};\r\n\r\nconst withDeleteUserBlock = (Component) => {\r\n  const WithDeleteBlockInner = ({ ...props }) => {\r\n    const { accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n\r\n    async function deleteBlock(id) {\r\n      return await fetch(defaultApiUrl + BlockApiUrls.deleteBlock(id), {\r\n        method: 'DELETE',\r\n        headers:{ Authorization: `Bearer ${accessToken}` }\r\n      }).then(response =>\r\n        response.json().then(json => {\r\n          return json;\r\n        })\r\n      );\r\n    }\r\n    // const apiUrl = defaultApiUrl + BlockApiUrls.deleteBlock;\r\n\r\n\r\n    // console.log(\"apiUrl\", apiUrl);\r\n    // const {\r\n    //   mutate: deleteBlock,\r\n    //   loading: deleteBlockLoading,\r\n    //   error,\r\n    // } = useMutate({\r\n    //   verb: \"DELETE\",\r\n    //   path: apiUrl,\r\n    //   requestOptions: {\r\n    //     headers: { Authorization: `Bearer ${accessToken}` },\r\n    //   },\r\n    // });\r\n\r\n\r\n    return (\r\n      <Component\r\n        {...props}\r\n        deleteBlock={deleteBlock}\r\n        // deleteBlockLoading={deleteBlockLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithDeleteBlockInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withUserBlocks,\r\n  withAddUserBlock,\r\n  withEditUserBlock,\r\n  withBlockById,\r\n  withDeleteUserBlock,\r\n  withBlockCategoryList,\r\n  withBlockCategoryById\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useState, Component } from \"react\";\r\nimport { withRouter, NavLink } from \"react-router-dom\";\r\nimport { IoMailOutline, IoMailSharp } from \"react-icons/io5\";\r\nimport { FiBarChart } from \"react-icons/fi\";\r\nimport { FaCompass, FaRegCompass } from \"react-icons/fa\";\r\nimport { CgSignal } from \"react-icons/cg\";\r\n\r\nimport { IoPulse, IoBarChartOutline } from \"react-icons/io5\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport TabBar from \"./mobile/TabBar\";\r\nimport TabBarItem from \"./mobile/TabBarItem\";\r\n\r\nconst PageLayoutContainer = styled.div`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n`;\r\n\r\nconst PageLayoutDiv = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst PageLayoutContent = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  background: ${(props) => props.theme.brandSecondary} !important;\r\n  padding: 15px;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nconst StyledTabBar = styled(TabBar)`\r\n  .am-tabs-tab-bar-wrap {\r\n    width: 414px;\r\n    height: 83px;\r\n    margin: 95px 0 0;\r\n    padding: 12px 45px 18px 49px;\r\n    background-color: #141414;\r\n  }\r\n`;\r\n\r\nclass PageLayout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: \"/profile\",\r\n      hidden: false,\r\n      fullScreen: false,\r\n    };\r\n  }\r\n\r\n  renderContent(componentChildren) {\r\n    return (\r\n      <PageLayoutDiv>\r\n        <PageLayoutContent>{componentChildren}</PageLayoutContent>\r\n      </PageLayoutDiv>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    console.log(\"pagelayout\", this.props);\r\n    const {\r\n      match: { path },\r\n      history,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <PageLayoutContainer>\r\n          <StyledTabBar style={{ height: \"83px\" }} hidden={this.state.hidden}>\r\n            <TabBarItem\r\n              title=\"Stats\"\r\n              key=\"Stats\"\r\n              icon={<IoBarChartOutline size={30} color=\"grey\" />}\r\n              selectedIcon={<IoBarChartOutline size={30} color=\"white\" />}\r\n              selected={path === \"/statistics\"}\r\n              // badge={1}\r\n              onPress={() => {\r\n                history.push(\"/statistics\");\r\n                this.setState({ selectedTab: \"/statistics\" });\r\n              }}\r\n              data-seed=\"logId\"\r\n            >\r\n              {this.renderContent(this.props.children)}\r\n            </TabBarItem>\r\n\r\n            <TabBarItem\r\n              icon={<FaCompass size={30} color=\"grey\" />}\r\n              selectedIcon={<FaCompass size={30} color=\"white\" />}\r\n              title=\"OnePlace\"\r\n              key=\"OnePlace\"\r\n              // badge={\"new\"}\r\n              selected={path === \"/profile\"}\r\n              onPress={() => {\r\n                history.push(\"/profile\");\r\n                this.setState({ selectedTab: \"/profile\" });\r\n              }}\r\n              data-seed=\"logId1\"\r\n            >\r\n              {this.renderContent(this.props.children)}\r\n            </TabBarItem>\r\n\r\n            <TabBarItem\r\n              icon={<IoPulse size={30} color=\"grey\" />}\r\n              selectedIcon={<IoPulse size={30} color=\"white\" />}\r\n              title=\"Orders\"\r\n              key=\"Order\"\r\n              // dot\r\n              selected={path === \"/order/my\"}\r\n              onPress={() => {\r\n                history.push(\"/order/my\");\r\n                this.setState({ selectedTab: \"/order/my\" });\r\n              }}\r\n            >\r\n              {this.renderContent(this.props.children)}\r\n            </TabBarItem>\r\n          </StyledTabBar>\r\n        </PageLayoutContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withTheme(PageLayout));\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, UserApiUrls, AuthApiUrls } from \"../../api\";\r\nimport { PageLoader } from \"@look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\n\r\nconst withCurrentUser = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getCurrentUser;\r\n    var currentUserLoading = true;\r\n\r\n    var currentUserData;\r\n    const { data, loading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    currentUserLoading = loading;\r\n    currentUserData = data && data.user;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return currentUserLoading || !currentUserData ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        currentUser={currentUserData}\r\n        currentUserLoading={currentUserLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withUserByUsername = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken, match } = props;\r\n    const username = match && match.params && match.params.username;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\r\n\r\n    const { data, loading:userLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    const userData = data && data.user;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return userLoading  ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        user={userData}\r\n        userLoading={userLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\n// const RefreshAccessToken = ({ children,  }) => {\r\n//   const { mutate: refreshAccessToken, loading } = useMutate({\r\n//     verb: \"POST\",\r\n//     path: defaultApiUrl + AuthApiUrls.refreshAccessToken,\r\n//   });\r\n//   const refreshAccessTokenData = refreshAccessToken(refreshToken);\r\n//   console.log(\"refreshAccessToken\", refreshAccessTokenData);\r\n//   return loading && (<PageLoader> <React.Fragment>{children}</React.Fragment></PageLoader>);\r\n// };\r\n\r\n// export default RefreshAccessToken;\r\n\r\n// const hasRole = (role, currentUser) => {\r\n//   return currentUser &&\r\n//     (!role ||\r\n//       (Array.isArray(role) ? role : [role]).indexOf(currentUser.role) >= 0)\r\n//     ? true\r\n//     : false;\r\n// };\r\n\r\n// const withLoadedUser = (Component) => {\r\n//   const WithLoadedUser = ({ currentUserLoading, ...props }) =>\r\n//     currentUserLoading ? null : <Component {...props} />;\r\n\r\n//   WithLoadedUser.propTypes = {\r\n//     currentUser: PropTypes.object,\r\n//     currentUserLoading: PropTypes.bool.isRequired,\r\n//   };\r\n\r\n//   return withCurrentUser(WithLoadedUser);\r\n// };\r\n\r\n// const IfLoggedInComponent = ({\r\n//   currentUser,\r\n//   role,\r\n//   children,\r\n//   elseComponent,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   hasRole(role, currentUser)\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : elseComponent || null;\r\n// IfLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   role: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(PropTypes.string),\r\n//     PropTypes.string,\r\n//   ]),\r\n//   elseComponent: PropTypes.node,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfLoggedIn = withLoadedUser(IfLoggedInComponent);\r\n\r\n// const IfNotLoggedInComponent = ({\r\n//   currentUser,\r\n//   children,\r\n//   refetchCurrentUser,\r\n//   ...restProps\r\n// }) =>\r\n//   !currentUser\r\n//     ? React.cloneElement(children, {\r\n//         ...restProps,\r\n//       })\r\n//     : null;\r\n// IfNotLoggedInComponent.propTypes = {\r\n//   currentUser: PropTypes.object,\r\n//   children: PropTypes.node,\r\n// };\r\n\r\n// const IfNotLoggedIn = withLoadedUser(IfNotLoggedInComponent);\r\n\r\n// const withLogout = (Component) =>\r\n//   withApollo(({ client, ...props }) => {\r\n//     const newProps = {\r\n//       ...props,\r\n//       logout: () => authentication.doLogout(client),\r\n//     };\r\n//     return <Component {...newProps} />;\r\n//   });\r\n\r\nexport {\r\n  withCurrentUser,\r\n  withUserByUsername\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGet, useMutate } from \"restful-react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { ApiContext, ProfileApiUrls, UsernameContext, UserApiUrls } from \"@api\";\r\nimport { PageLoader } from \"@look/mobile\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../store/appReducer\";\r\n\r\n// import authentication from '@gqlapp/authentication-client-react';\r\n\r\n// import CURRENT_USER_QUERY from '../graphql/CurrentUserQuery.graphql';\r\nconst withCurrentUserProfile = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getCurrentUserProfile;\r\n    var currentUserProfileLoading = true;\r\n\r\n    var currentUserProfileData;\r\n    const { data, loading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    currentUserProfileLoading = loading;\r\n    currentUserProfileData = data && data.userProfile;\r\n\r\n    // if (\r\n    //   !currentUserProfileLoading &&\r\n    //   !currentUserProfileData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return currentUserProfileLoading || !currentUserProfileData ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        currentUserProfile={currentUserProfileData}\r\n        currentUserProfileLoading={currentUserProfileLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withAddProfile = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { accessToken, currentUser } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n\r\n    const {\r\n      mutate: postUserProfileMutation,\r\n      loading: postUserProfileLoading,\r\n    } = useMutate({\r\n      verb: \"POST\",\r\n      path: defaultApiUrl + ProfileApiUrls.postUserProfile,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const {\r\n      mutate: putUserProfileMutation,\r\n      loading: putUserProfileLoading,\r\n    } = useMutate({\r\n      verb: \"PUT\",\r\n      path:\r\n        defaultApiUrl +\r\n        ProfileApiUrls.putUserProfile(\r\n          currentUser.userProfile && currentUser.userProfile._id\r\n        ),\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postUserProfileMutation={postUserProfileMutation}\r\n        putUserProfileMutation={putUserProfileMutation}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withAddSocialMedia = (Component) => {\r\n  const WithAddSocialMediaInner = ({ ...props }) => {\r\n    const { accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n\r\n    const {\r\n      mutate: postAddSocialMedia,\r\n      loading: postAddSocialMediaLoading,\r\n    } = useMutate({\r\n      verb: \"POST\",\r\n      path: defaultApiUrl + ProfileApiUrls.postSocialMediaLinks,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    return (\r\n      <Component\r\n        {...props}\r\n        postAddSocialMedia={postAddSocialMedia}\r\n        postAddSocialMediaLoading={postAddSocialMediaLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithAddSocialMediaInner);\r\n};\r\n\r\n\r\n\r\nconst withSocialMediaCategories = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { history, refreshToken, setAccessTokene, accessToken } = props;\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + ProfileApiUrls.getSocialMediaCategories;\r\n    const {\r\n      data: socialMediaCategories,\r\n      loading: socialMediaCategoriesLoading,\r\n      error,\r\n    } = useGet({\r\n      path: apiUrl,\r\n      requestOptions: {\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      },\r\n    });\r\n    const socialMediaCategoryList =\r\n      socialMediaCategories && socialMediaCategories.socialMediaCategoryList;\r\n    // if (\r\n    //   !currentUserProfileLoading &&\r\n    //   !currentUserProfileData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return socialMediaCategoriesLoading || !socialMediaCategoryList ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        socialMediaCategoryList={socialMediaCategoryList}\r\n        socialMediaCategoriesLoading={socialMediaCategoriesLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nconst withPublicProfileByUsername = (Component) => {\r\n  const WithUserInner = ({ ...props }) => {\r\n    const { accessToken} = props;\r\n    const username = useContext(UsernameContext);\r\n    const defaultApiUrl = useContext(ApiContext);\r\n    const apiUrl = defaultApiUrl + UserApiUrls.getUserByUsername(username);\r\n\r\n    const { data, loading:userLoading, error } = useGet({\r\n      path: apiUrl,\r\n      requestOptions:{\r\n        headers:{ Authorization: `Bearer ${accessToken}` },\r\n      }\r\n    });\r\n    const userData = data && data.user;\r\n\r\n    // if (\r\n    //   !currentUserLoading &&\r\n    //   !currentUserData &&\r\n    //   error &&\r\n    //   error.status === 401\r\n    // ) {\r\n    // }\r\n    return userLoading  ? (\r\n      <PageLoader />\r\n    ) : (\r\n      <Component\r\n        {...props}\r\n        user={userData}\r\n        userLoading={userLoading}\r\n      />\r\n    );\r\n  };\r\n  const mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\n  const mapStateToProps = (state /*, ownProps*/) => {\r\n    return {\r\n      accessToken: state.app.accessToken,\r\n      refreshToken: state.app.refreshToken,\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(WithUserInner);\r\n};\r\n\r\nexport {\r\n  withAddProfile,\r\n  withCurrentUserProfile,\r\n  withSocialMediaCategories,\r\n  withAddSocialMedia,\r\n  withPublicProfileByUsername\r\n  //   hasRole,\r\n  //   withLoadedUser,\r\n  //   IfLoggedIn,\r\n  //   IfNotLoggedIn,\r\n  //   withLogout,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Popconfirm } from \"../look/web\";\r\nimport Avatar from \"react-avatar\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { IoTrashBin } from \"react-icons/io5\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\n\r\nimport { getValidUrl } from \"../../helper\";\r\n\r\nimport styled, { withTheme } from \"styled-components\";\r\n\r\nconst ProfileCardWrapper = styled.div`\r\n  border-radius: 20px;\r\n  /* padding: 20px; */\r\n  background-color: #cb4a4a;\r\n  background-image: linear-gradient(to right, #cb4a4a, white);\r\n  height: 100px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64);\r\n  width: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  animation: ${(props) =>\r\n    props.shake\r\n      ? \"shake 2s cubic-bezier(.36,.07,.19,.97) both infinite\"\r\n      : \"none\"};\r\n  transform: translate3d(0, 0, 0);\r\n  backface-visibility: hidden;\r\n  perspective: 1000px;\r\n  animation-delay: 0.5;\r\n  @keyframes shake {\r\n    5%,\r\n    45% {\r\n      transform: translate3d(-1px, 0, 0);\r\n    }\r\n\r\n    10%,\r\n    40% {\r\n      transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    15%,\r\n    25%,\r\n    35% {\r\n      transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    20%,\r\n    30% {\r\n      transform: translate3d(4px, 0, 0);\r\n    }\r\n    50%,\r\n    100% {\r\n      transform: translate3d(0, 0, 0);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ProfileCardInner = styled.div`\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  background-color: #2c2c2c;\r\n  height: 100px;\r\n  /* pointer-events:none; */\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst IoTrashBinStylized = styled(IoTrashBin)`\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 20px;\r\n  font-size: 40px;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AiFillEditStylized = styled(AiFillEdit)`\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 20px;\r\n  font-size: 40px;\r\n  color: #4643d3;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ProfileCardInnerWrapper = styled.div`\r\n  transition: all 0.3s;\r\n  transform: translateX(${(props) => props.swiped});\r\n  transition-timing-function: ease-out;\r\n  /* margin-bottom: 20px; */\r\n  /* box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.64); */\r\n`;\r\n\r\nconst ProfileCardText = styled.div`\r\n  color: white;\r\n  text-align: center;\r\n  /* font-size: 17px; */\r\n  /* font-weight: normal; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Rubik;\r\n  font-size: 15px;\r\n`;\r\n\r\nfunction getSwipeTranslate(self, swiped) {\r\n  if (!self || (self && swiped === \"center\")) {\r\n    return \"0px\";\r\n  } else if (swiped === \"right\") {\r\n    return \"80px\";\r\n  } else if (swiped === \"left\") {\r\n    return \"-80px\";\r\n  }\r\n}\r\n\r\nconst ProfileCard = (props) => {\r\n  const [swiped, setSwiped] = useState(\"center\");\r\n  const { block, keyItem, self, handleDeleteBlock, history } = props;\r\n\r\n  const swipeControlLeft =\r\n    swiped === \"center\" || swiped === \"left\" ? \"left\" : \"center\";\r\n  const swipeControlRight =\r\n    swiped === \"center\" || swiped === \"right\" ? \"right\" : \"center\";\r\n\r\n  const handlers = useSwipeable({\r\n    onSwipedLeft: () => setSwiped(swipeControlLeft),\r\n    onSwipedRight: () => setSwiped(swipeControlRight),\r\n    preventDefaultTouchmoveEvent: true,\r\n    trackMouse: true,\r\n  });\r\n\r\n  const getSwipeTrans = getSwipeTranslate(self, swiped);\r\n\r\n  const profileCardInn = (\r\n    <ProfileCardInner swiped={swiped}>\r\n      <Flex>\r\n        <Flex.Item style={{ flex: \"0 1 60px\" }}>\r\n          <Avatar\r\n            size=\"60\"\r\n            style={{ borderRadius: \"10px\", overflow: \"hidden\" }}\r\n            src={block && block.thumbnail && block.thumbnail.url}\r\n          />\r\n        </Flex.Item>\r\n        <Flex.Item style={{ flex: 3 }}>\r\n          <ProfileCardText>{block && block.title}</ProfileCardText>\r\n        </Flex.Item>\r\n      </Flex>\r\n    </ProfileCardInner>\r\n  );\r\n\r\n  const getPublicCardLink = () => {\r\n    const { blockCategory } = block;\r\n    var url = \"\";\r\n    if (blockCategory && blockCategory.isMedia) {\r\n      url = `https://oneplace.me/block/detail/${block && block._id}`;\r\n    } else {\r\n      url = getValidUrl(block && block.link);\r\n    }\r\n    return url;\r\n  };\r\n  console.log(\"publiccard\", block);\r\n  return (\r\n    <ProfileCardWrapper\r\n      {...handlers}\r\n      keyItem={keyItem}\r\n      shake={!self && block && block.isHighlight}\r\n    >\r\n      {self && (\r\n        <React.Fragment>\r\n          <Popconfirm\r\n            title=\"Are you sure to delete this Card?\"\r\n            onConfirm={() => handleDeleteBlock(block && block._id)}\r\n            onCancel={() => console.log(\"canceled\")}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <IoTrashBinStylized />\r\n          </Popconfirm>\r\n          <AiFillEditStylized\r\n            onClick={() => history.push(`/block/edit/${block && block._id}`)}\r\n          />\r\n        </React.Fragment>\r\n      )}\r\n      <ProfileCardInnerWrapper swiped={getSwipeTrans}>\r\n        {self ? (\r\n          <React.Fragment>{profileCardInn}</React.Fragment>\r\n        ) : (\r\n          <a\r\n            style={{ display: \"block\" }}\r\n            keyItem={keyItem}\r\n            href={getPublicCardLink()}\r\n            target={!self && \"_blank\"}\r\n          >\r\n            {profileCardInn}\r\n          </a>\r\n        )}\r\n      </ProfileCardInnerWrapper>\r\n    </ProfileCardWrapper>\r\n  );\r\n};\r\n\r\nexport default withTheme(ProfileCard);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { message } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\r\nimport { Loader } from \"@look/mobile\";\r\nimport { withUserBlocks, withDeleteUserBlock } from \"./BlockOperations\";\r\nimport ProfileBlockComponent from \"./ProfileBlockComponent\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\n\r\nconst CardListHeadText = styled.h3`\r\n  color: ${(props) => props.theme.textColor};\r\n  margin-top: 0;\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  /* font-weight: bold; */\r\n  /* word-spacing: -3px; */\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  /* line-height: 1.43; */\r\n  letter-spacing: normal;\r\n  font-family: Rubik;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { self, userBlock, userBlockLoading, deleteBlock, history, theme } = props;\r\n\r\n  const [userBlockData, setUserBlockData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setUserBlockData(userBlock);\r\n  }, [userBlock, setUserBlockData]);\r\n\r\n  const handleDeleteBlock = async (id) => {\r\n    var userBlockDataModif = userBlockData;\r\n    userBlockDataModif = userBlockDataModif.filter(\r\n      (uBDM) => uBDM && uBDM._id !== id\r\n    );\r\n    try {\r\n      message.loading({\r\n        content: \"Deleting Card ...\",\r\n        duration: 0,\r\n      });\r\n      const deleting = await deleteBlock(id);\r\n      message.destroy();\r\n      if (deleting.status === true) {\r\n        message.success({\r\n          duration: 2,\r\n          content: \"Card Deleted\",\r\n        });\r\n        setUserBlockData(userBlockDataModif);\r\n        // history.push(\"/\");\r\n      } else {\r\n        message.error({\r\n          duration: 2,\r\n          content: deleting.data.message,\r\n        });\r\n      }\r\n      return deleting;\r\n    } catch (e) {\r\n      message.destroy();\r\n      console.log(\"error\", e);\r\n      if (e && e.data && e.data.message) {\r\n        message.error({\r\n          duration: 2,\r\n          content: e && e.data && e.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {self && (\r\n        <React.Fragment>\r\n          <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n            <Flex.Item>\r\n              <CardListHeadText>Your Cards</CardListHeadText>\r\n            </Flex.Item>\r\n\r\n            <Flex.Item align=\"right\">\r\n              <CardListHeadText style={{ textAlign: \"right\" }}>\r\n                <Link to=\"/block/choose-category\">\r\n                  <AiOutlinePlusCircle\r\n                    style={{\r\n                      marginBottom: \"-2px\",\r\n                      marginRight: \"3px\",\r\n                      textAlign: \"right\",\r\n                    }}\r\n                  />\r\n                  Add A Card\r\n                </Link>\r\n              </CardListHeadText>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <CardListHeadText style={{ textAlign: \"center\", marginTop: \"15px\" }}>\r\n            swipe left to edit, right to delete Cards\r\n          </CardListHeadText>\r\n        </React.Fragment>\r\n      )}\r\n      <br />\r\n      {userBlockLoading && <Loader />}\r\n      {!userBlockLoading && userBlockData && userBlockData.length !== 0\r\n        ? userBlockData.map((block, key) => (\r\n            <React.Fragment>\r\n              <ProfileBlockComponent\r\n                handleDeleteBlock={handleDeleteBlock}\r\n                keyItem={key}\r\n                block={block}\r\n                self={self}\r\n                history={history}\r\n              />\r\n            </React.Fragment>\r\n          ))\r\n        : !userBlockLoading && (\r\n            <CardListHeadText\r\n              style={{ textAlign: \"center\", marginTop: \"15px\" }}\r\n            >\r\n              No Cards\r\n            </CardListHeadText>\r\n          )}\r\n    </div>\r\n  );\r\n};\r\nexport default withUserBlocks(withDeleteUserBlock(withTheme(Profile)));\r\n","import React, { Component, useState } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { AiFillEdit, AiOutlineLogout } from \"react-icons/ai\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { IoPaperPlaneOutline } from \"react-icons/io5\";\r\nimport { getValidUrl } from \"../../../helper\";\r\nimport { Button, Switch } from \"@look/mobile\";\r\nimport PageLayout from \"@look/PageLayout\";\r\n// import { withCurrentUser } from \"../auth/Auth\";\r\nimport ProfileBlocks from \"../../block/ProfileBlocks\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { setAccessTokene, setRefreshTokene } from \"../../../store/appReducer\";\r\n\r\nconst ProfileName = styled.h1`\r\n  margin-top: 10px;\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PageHead = styled.h2`\r\n  color: ${(props) => props.theme.textColor};\r\n  text-align: center;\r\n  font-family: Rubik;\r\n  font-size: 22px;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PublicLinkWrapper = styled.div`\r\n  /* color: ${(props) => props.theme.textColor}; */\r\n  /* text-align: center; */\r\n  border-radius: 7px;\r\n  border: solid 1px #f2f2f2;\r\n  background-color: #f8f8f8;\r\n  height: 60px;\r\n  font-family: Rubik;\r\n  display: grid;\r\n  place-items: center;\r\n  padding: 0 15px;\r\n  /* font-family: Rubik; */\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.43;\r\n  letter-spacing: normal;\r\n  color: #686868;\r\n`;\r\n\r\nconst ProfileSmallText = styled.p`\r\n  text-align: center;\r\n  font-size: 15px;\r\n  color: ${(props) => props.theme.textColor};\r\n  opacity: 0.7;\r\n  margin-bottom: 0px;\r\n  font-family: Rubik;\r\n  font-weight: 500;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  letter-spacing: normal;\r\n  /* word-spacing: -3px; */\r\n`;\r\n\r\nconst PageContainer = styled.p`\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow-x: hidden;\r\n  bottom: 0;\r\n  margin: auto;\r\n  max-width: 500px;\r\n  padding:0 20px;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  font-family: Rubik;\r\n  /* font-size: 25px; */\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  font-size: 15px;\r\n  background: #4643d3;\r\n`;\r\n\r\nconst Profile = (props) => {\r\n  const { userData, self, theme, setAccessTokene, setRefreshTokene, history } = props;\r\n  const { username } = userData;\r\n\r\n  const PageWrapper = self ? PageLayout : PageContainer;\r\n\r\n  return (\r\n    <div>\r\n      <PageWrapper>\r\n        {self && <PageHead>OnePlace Universe</PageHead>}\r\n\r\n        {self && (\r\n          <a target='_blank' href={`https://${username}.oneplace.me`}>\r\n            <PublicLinkWrapper>\r\n              <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n                <Flex.Item\r\n                  style={{ flex: 4 }}\r\n                >{`${username}.oneplace.me`}</Flex.Item>{\" \"}\r\n                <Flex.Item align=\"right\" style={{ paddingTop: \"6px\" }}>\r\n                  <IoPaperPlaneOutline size={30} />\r\n                </Flex.Item>\r\n              </Flex>\r\n            </PublicLinkWrapper>\r\n          </a>\r\n        )}\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            width: \"fit-content\",\r\n            margin: \"20px auto 0\",\r\n          }}\r\n          align=\"center\"\r\n        >\r\n          {self && (\r\n            <Link to=\"/profile/edit\">\r\n              <Button\r\n                type=\"primary\"\r\n                style={{\r\n                  background: \"#4643D3\",\r\n                  position: \"absolute\",\r\n                  bottom: \"-10px\",\r\n                  right: \"-10px\",\r\n                  zIndex: \"10\",\r\n                  width: \"40px\",\r\n                  height: \"40px\",\r\n                  borderRadius: \"40px\",\r\n                }}\r\n              >\r\n                <AiFillEdit size=\"20\" />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n          <Avatar\r\n            size=\"150\"\r\n            style={{ borderRadius: \"20px\", overflow: \"hidden\" }}\r\n            src={\r\n              userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.profileImage &&\r\n              userData.userProfile.profileImage.url\r\n            }\r\n          />\r\n        </div>\r\n        <ProfileName>\r\n          {userData && userData.userProfile && userData.userProfile.firstName}{\" \"}\r\n          {userData && userData.userProfile && userData.userProfile.lastName}\r\n        </ProfileName>\r\n        <ProfileSmallText>\r\n          {userData && userData.userProfile && userData.userProfile.bio}\r\n        </ProfileSmallText>\r\n        <br />\r\n        <div align=\"center\">\r\n          <Flex justify=\"center\" style={{ width: \"60%\" }}>\r\n            {userData &&\r\n              userData.userProfile &&\r\n              userData.userProfile.socialMediaLinks &&\r\n              userData.userProfile.socialMediaLinks.map((socia, key) => (\r\n                <a\r\n                  href={getValidUrl(socia && socia.link)}\r\n                  target=\"_blank\"\r\n                  key={key}\r\n                >\r\n                  <div align=\"center\" style={{ margin: \"0 5px\" }}>\r\n                    <img\r\n                      height=\"30px\"\r\n                      width=\"30px\"\r\n                      src={\r\n                        socia &&\r\n                        socia.category &&\r\n                        socia.category.image &&\r\n                        socia.category.image.url\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                </a>\r\n              ))}\r\n          </Flex>\r\n        </div>\r\n        {/* <br />\r\n        <Flex justify=\"between\" style={{ width: \"100%\" }}>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Visits`}</ProfileSmallText>\r\n            <ProfileStats>{\"16627\"}</ProfileStats>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <ProfileSmallText align=\"center\">{`Super Fans`}</ProfileSmallText>\r\n            <ProfileStats>{\"1662\"}</ProfileStats>\r\n          </Flex.Item>\r\n        </Flex> */}\r\n        {/* {!self && (\r\n          <Button style={{ marginTop: \"20px\" }} type=\"primary\">\r\n            Join My Super Fam\r\n          </Button>\r\n        )} */}\r\n        <br />\r\n        <ProfileBlocks self={self} username={username} history={history} />\r\n        <br />\r\n        {self && (\r\n          <StyledButton\r\n            type=\"primary\"\r\n            icon={<AiOutlineLogout style={{ fontSize: \"20px\" }} />}\r\n            onClick={() => {\r\n              setAccessTokene(\"\");\r\n              setRefreshTokene(\"\");\r\n            }}\r\n          >\r\n            Log Out\r\n          </StyledButton>\r\n        )}\r\n      </PageWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = { setAccessTokene, setRefreshTokene };\r\nconst mapStateToProps = (state /*, ownProps*/) => {\r\n  return {\r\n    accessToken: state.app.accessToken,\r\n    refreshToken: state.app.refreshToken,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTheme(Profile));\r\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import React from \"react\";\r\n\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withCurrentUser } from \"../../auth/Auth\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst Profile = (props) => {\r\n  const { currentUser, history } = props;\r\n  if (currentUser && !currentUser.userProfile) {\r\n    history.push(\"/profile/edit\");\r\n  }\r\n  return <ProfileView userData={currentUser} history={history} self={true} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withCurrentUser(Profile);\r\n","import React from \"react\";\r\nimport { Button } from \"@look/mobile\";\r\n// import { withCurrentUserProfile } from \"../ProfileOperations\";\r\n// import { BigPlayButton } from \"./ProfileVideoPlayer\";\r\nimport { withPublicProfileByUsername } from \"../ProfileOperations\";\r\n\r\nimport ProfileView from \"../components/ProfileView\";\r\n\r\nconst PublicProfile = (props) => {\r\n  const { user, history } = props;\r\n  if (!user) {\r\n    return (\r\n      <div>\r\n        <h2 style={{ textAlign: \"center\" }}>User doesn't exist</h2>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Button type=\"primary\" href=\"/\" size=\"lg\" block>\r\n          Go back\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n  return <ProfileView userData={user} history={history} self={false} />;\r\n};\r\n// return <h1>Profile</h1>\r\nexport default withPublicProfileByUsername(PublicProfile);\r\n"],"sourceRoot":""}